{"version":3,"sources":["../../src/coffee/install.coffee","../../src/coffee/constants.coffee","../../src/coffee/dom.coffee","../../src/coffee/event.coffee","../../src/coffee/utilities.coffee","../../src/coffee/static.coffee","../../src/coffee/behaviors/enter.coffee","../../src/coffee/behaviors/focus.coffee","../../src/coffee/behaviors/tabulate.coffee","../../src/coffee/factory.coffee","../../src/coffee/behaviors/readonly.coffee","../../src/coffee/behaviors/toggle.coffee","../../src/coffee/elements/form-file.coffee","../../src/coffee/elements/form-select.coffee","../../src/coffee/patterns/carousel.coffee","../../src/coffee/patterns/dropdown.coffee","../../src/coffee/patterns/form-dropdown.coffee","../../src/coffee/patterns/tab.coffee"],"names":["ENV","document","window","global","Error","luda","installer","installed","name","property","includes","hasOwnProperty","_SCOPE","_install","Array","namespace","installedInstaller","installedName","ref","console","warn","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_TAB","KEY_ESC","KEY_ENTER","$child","selector","$ancestor","querySelector","$children","$descendant","descendants","this","from","querySelectorAll","$unnested","ancestorSelector","filter","$parent","parentNode","matches","$parents","_ancestors","push","$after","$node","$target","lastChild","appendChild","insertBefore","nextSibling","$prepend","firstChild","reflow","$element","offsetHeight","_getTransitionDurations","style","propertyLength","durationArray","split","length","concat","slice","map","durationStr","duration","parseFloat","match","getTransitionDuration","delays","durations","finalDurations","styles","getComputedStyle","transitionProperty","transitionDelay","transitionDuration","index","Math","max","apply","_observeDom","onNodeAdded","onNodeRemoved","observer","observerConfig","childList","subtree","MutationObserver","mutations","forEach","mutation","$addedNodes","$removedNodes","removedNodes","addedNodes","Element","observe","documentElement","splice","_SWIPE_DISTANCE","_EVENT_TYPE_PREFIX","_SWIPE_LEFT","_SWIPE_RIGHT","_SWIPE_UP","_SWIPE_DOWN","_SWIPE_LEFT_OR_UP","_SWIPE_RIGHT_OR_DOWN","_DOC_READY","_FORM_RESET","eventPath","event","path","composedPath","target","on","handler","call","_onDocReady","_onReset","_onSwipe","_on","onOpposite","_self","addEventListener","e","trigger","every","dispatch","type","detail","delayMilliseconds","options","evt","bubbles","cancelable","composed","Event","setTimeout","dispatchEvent","readyState","bind","$touchStartElement","touchStartE","touchStartX","touchStartY","watch","touches","screenX","screenY","some","eventX","eventXOrY","eventY","touchDistanceX","touchDistanceY","abs","except","element","arr","indexOf","Static","[object Object]","_SELECTOR_INVALID_ERROR","_SELECTORS","_mergeSelectors","_selector","join","$ele","activateEvent","_ACTIVATE_EVENT_TYPE","defaultPrevented","deactivateEvent","_DEACTIVATE_EVENT_TYPE","activateDuration","_setActivatingMark","_ACTIVATED_EVENT_TYPE","_removeActivatingMark","deactivateDuration","_setDeactivatingMark","_DEACTIVATED_EVENT_TYPE","_removeDeactivatingMark","_isActivating","_isDeactivating","hasAttribute","_ACTIVATING_MARK_ATTRIBUTE","_DEACTIVATING_MARK_ATTRIBUTE","getAttribute","removeAttribute","value","setAttribute","_onEleAddedOrRemoved","action","_Observed","Observed","$matched","unshift","classObj","_observer","_onEleAdded","_onEleRemoved","_onElementAdded","_onElementRemoved","exposed","self","_init","_observe","_DISABLED_ATTRIBUTE","keyCode","preventDefault","click","_Class","$exception","_$focus","$focus","classList","remove","_CSS_CLASS","body","add","_isActive","_removeFocusClassExcept","_addFocusClassExceptHtmlAndBody","_PARENT_FOCUS_CHILDREN_SELECTOR","_PARENT_FOCUS_SELECTOR","blur","focus","HTMLElement","prototype","arguments","activeElement","_setElementPrototype","_changeFocusStateOnKeyEvent","_changeFocusStateOnMouseDownEvent","_TOUCHSTART_FOCUS_SELECTOR","getElementsByClassName","$radio","$inputs","$input","tabIndex","$next","$prev","$sameNameRadios","radioIndex","_querySameName$radios","nodeName","toUpperCase","shiftKey","_query$prev$next","Factory","descendant","_children","child","_hasDescendant","_onMutations","_$component","constructor","_observerConfig","disconnect","$component","$family","componentIsElementInstance","instance","parent","_$COMPONENT_INVALID_ERROR","_query$family","query","_$parent","_instances","_createInstance","_parent","_$children","create","instance$component","attribute","results","_disconnect","_destroy","destroy","inited","_SELECTOR","_constructor","_COMPONENT_NO_SELECTOR_ERROR","_isReadonly","_originalTabIndex","readonly","_READONLY_ATTRIBUTE","_READONLY_FALSE_VALUE","_getConfig","_setTabIndex","attributes","attributeFilter","name$target","_query$targets","contains","_ACTIVE_CSS_CLASS","_isTransitioning","_activatePrevented","_handleActivateEnd","_shouldAutoDeactivate","_delayDeactivate","_deactivatePrevented","_handleDeactivateEnd","deactivate","activate","_handleActivateCancel","_handleDeactivateCancel","_AUTO_DEACTIVATE_ATTRIBUTE","delay","parseInt","_AUTO_DEACTIVATE_DURATION","_TOGGLE_TARGET_ATTRIBUTE","clickEventSelector","_TOGGLE_FOR_ATTRIBUTE","_TOGGLE_ATTRIBUTE","toggleChecked","$path","$toggle","toggleName","toggle","_TOGGLE_DISABLED_ATTRIBUTE","_$file","_$simulator","_FILE_SELECTOR","_SIMULATOR_SELECTOR","createElement","placeholder","_PLACEHOLDER_ATTRIBUTE","values","files","file","_VALUE_SPLITOR","_VALUE_ATTRIBUTE","_insertSimulator","_setPlaceholderValue","_setSimulatorValue","$file","reset","indexOrIndexArray","selectedIndexes","_$select","multiple","_$multipleSelectPlaceholder","$option","selected","_markSelectedOption","selectedIndex","_setSingleSelectSimulatorValue","_$defaultSelectedOptions","_$singleSelectSimulator","_defaultSelectedOptionMarked","_SELECT_SELECTOR","_SINGLE_SELECT_SIMULATOR_SELECTOR","_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS","_DEFAULT_SELECTED_OPTION_ATTRIBUTE","_INITED_ATTRIBUTE","_initMultipleSelect","_initSingleSelect","hasSelected","$selectedOption","innerText","_insertSingleSelectSimulator","_setSingleSelectedDefaultSelectedOption","_setSingleSelectPlaceholderValue","_markDefaultSelectedOption","className","disabled","_insertMultipleSelectBlankOption","_setMultipleSelectPlaceholderValue","$select","select","_reset","activatedIndex","_$items","_activeIndex","_canTransition","_wrap","_slideNext","_playTimeStamp","Date","now","_pausedRemainTime","_interval","_slidePrev","_intervaling","clearInterval","execute","pause","next","setInterval","_$indicators","_$nextControl","_$prevControl","_ITEMS_SELECTOR","_INDICATORS_SELECTOR","_PREV_CONTROL_SELECTOR","_NEXT_CONTROL_SELECTOR","_ITEM_ACTIVE_CSS_CLASS","_ACTIVE_INDEX","_INTERVAL_ATTRIBUTE","_FALSE","_INTERVAL","_WRAP_ATTRIBUTE","_WRAP","_layout","_handleTransitionCancel","play","_setIndicatorsState","_setDirectionControlState","$item","transition","_ITEM_NEXT_CSS_CLASS","_ITEM_PREV_CSS_CLASS","$activatedItem","_handleTransitionEnd","activeIndex","_getActivatingMark","_getDeactivatingMark","$indicator","ref1","ref2","ref3","$carousel","prev","startE","_ACTIVATED_INDEX_ATTRIBUTE","_$menu","_$focused","focusIndex","_$noneSwitches","_$switches","_isStandalone","_MENU_SELECTOR","_SWITCHES_SELECTOR","_NONE_SWITCHES_SELECTOR","_STANDALONE_ATTRIBUTE","exceptions","$dropdown","instances$dropdowns","instance$dropdown","exception","instanceHasntExceptionChild","instanceIsntInExceptions","deactivateExcept","_standaloneInstances","_deactivateChildrenExcept","_prev","_next","_$defaultValues","_$valueHolder","_$values","_VALUE_SELECTOR","_DEFAULT_VALUE_SELECTOR","_VALUE_HOLDER_SELECTOR","_setValueHolderAttribute","_setValueHolderValue","$value","checked","_LABEL_ATTRIBUTE","enter","_add","_ENTER_BEHAVIOR_SELECTOR","test","navigator","userAgent","_$panes","_activate","_PANE_SELECTOR","_INDICATOR_SELECTOR","$pane","_PANE_ACTIVE_CSS_CLASS","$activatedPane","$tab"],"mappings":"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","sourcesContent":["ENV = (->\n  if typeof document isnt 'undefined'\n    return window if typeof window isnt 'undefined'\n    return global if typeof global isnt 'undefined'\n  throw new Error 'Unsupported runtime environment.'\n)()\n\n\n\nunless typeof ENV.luda is 'function'\n  ENV.luda = (installer) ->\n    throw new Error 'Installer cannot be detected.' unless installer\n    unless ['object', 'function'].includes typeof installer\n      throw new Error 'Installer must be object, array or function.'\n    if installer.hasOwnProperty '_SCOPE'\n      unless typeof installer._SCOPE is 'string'\n        throw new Error '_SCOPE must be string'\n      return ENV.luda._install installer._SCOPE, installer\n    if installer instanceof Array or typeof installer is 'function'\n      throw new Error 'Unscoped installer must be object.'\n    installed = {}\n    for name, property of installer\n      installed[name] = ENV.luda._install name, property\n    installed\n\n  ENV.luda._install = (namespace, installer) ->\n    if ENV.luda[namespace]\n      console.warn \"Namespace #{namespace} is ocupied, sikp installation.\"\n      return ENV.luda[namespace]\n    for installedName, installedInstaller of ENV.luda\n      if installer is installedInstaller\n        console.warn \"Installer is installed with name #{installedName},\n                      skip installation.\"\n        return ENV.luda[installedName]\n    if installer._install\n      if typeof installer._install is 'function'\n        return ENV.luda[namespace] = installer._install()\n      return ENV.luda[namespace] = installer._install\n    ENV.luda[namespace] = installer","import './install.coffee'\n\n\n\nluda\n\n  KEY_LEFT: 37\n  KEY_UP: 38\n  KEY_RIGHT: 39\n  KEY_DOWN: 40\n  KEY_TAB: 9\n  KEY_ESC: 27\n  KEY_ENTER: 13","import './install.coffee'\r\n\r\n\r\n\r\nluda\r\n \r\n  $child: (selector, $ancestor) ->\r\n    $ancestor = document unless $ancestor\r\n    $ancestor.querySelector selector\r\n\r\n  $children: (selector, $ancestor) ->\r\n    $ancestor = document unless $ancestor\r\n    $descendant = @$child selector, $ancestor\r\n    if $descendant\r\n      descendants = Array.from($ancestor.querySelectorAll selector)\r\n    else\r\n      descendants = []\r\n\r\n  $unnested: (selector, $ancestor, ancestorSelector) ->\r\n    descendants = @$children selector, $ancestor\r\n    descendants.filter ($descendant) =>\r\n      $descendant if @$parent(ancestorSelector, $descendant) is $ancestor\r\n\r\n  $parent: (selector, $descendant) ->\r\n    $ancestor = $descendant.parentNode\r\n    if $ancestor\r\n      if $ancestor.matches and $ancestor.matches selector\r\n        $ancestor\r\n      else\r\n        @$parent selector, $ancestor\r\n\r\n  $parents: (selector, $descendant, _ancestors) ->\r\n    $ancestor = @$parent selector, $descendant\r\n    _ancestors = [] unless _ancestors\r\n    if $ancestor\r\n      _ancestors.push($ancestor)\r\n      @$parents selector, $ancestor, _ancestors\r\n    else\r\n      _ancestors\r\n\r\n  $after: ($node, $target) ->\r\n    $parent = $target.parentNode\r\n    if $parent.lastChild is $target\r\n      $parent.appendChild $node\r\n    else\r\n      $parent.insertBefore $node, $target.nextSibling\r\n\r\n  $prepend: ($node, $target) ->\r\n    if $target.firstChild\r\n      $target.insertBefore $node, $target.firstChild\r\n    else\r\n      $target.appendChild $node\r\n\r\n  reflow: ($element) -> $element.offsetHeight\r\n\r\n  _getTransitionDurations: (style, propertyLength) ->\r\n    durationArray = style.split ','\r\n    while durationArray.length < propertyLength\r\n      durationArray = durationArray.concat durationArray\r\n    if durationArray.length > propertyLength\r\n      durationArray = durationArray.slice 0, propertyLength\r\n    durationArray.map (durationStr) ->\r\n      duration = parseFloat durationStr\r\n      return 0 unless duration\r\n      if durationStr.match 'ms' then duration else duration * 1000\r\n\r\n  getTransitionDuration: ($element) ->\r\n    styles = window.getComputedStyle $element\r\n    length = styles.transitionProperty.split(',').length\r\n    return 0 unless length\r\n    delays = @_getTransitionDurations styles.transitionDelay, length\r\n    durations = @_getTransitionDurations styles.transitionDuration, length\r\n    finalDurations = durations.map (duration, index) -> duration + delays[index]\r\n    Math.max.apply null, finalDurations\r\n\r\n  _observeDom: (onNodeAdded, onNodeRemoved) ->\r\n    observerConfig =\r\n      childList: true\r\n      subtree: true\r\n    observer = new MutationObserver (mutations) ->\r\n      mutations.forEach (mutation) ->\r\n        $removedNodes = Array.from mutation.removedNodes\r\n        $addedNodes = Array.from mutation.addedNodes\r\n        $removedNodes.forEach ($node) ->\r\n          onNodeRemoved $node if $node instanceof Element and onNodeRemoved\r\n        $addedNodes.forEach ($node) ->\r\n          onNodeAdded $node if $node instanceof Element and onNodeAdded\r\n    observer.observe document.documentElement, observerConfig\r\n    observer","import './install.coffee'\nimport './dom.coffee'\n\n\n\nluda\n \n  _SWIPE_DISTANCE: 10\n  _EVENT_TYPE_PREFIX: 'luda'\n  _SWIPE_LEFT: 'swipeleft'\n  _SWIPE_RIGHT: 'swiperight'\n  _SWIPE_UP: 'swipeup'\n  _SWIPE_DOWN: 'swipedown'\n  _SWIPE_LEFT_OR_UP: 'swipeleft or swipeup'\n  _SWIPE_RIGHT_OR_DOWN: 'swiperight or swipedown'\n  _DOC_READY: 'docready'\n  _FORM_RESET: 'reset'\n\n  eventPath: (event) ->\n    if event.composedPath\n      path = event.composedPath()\n    else if event.path\n      path = event.path\n    else\n      path = [event.target].concat(luda.$parents '*', event.target)\n\n  on: (event, selector..., handler) ->\n    switch event\n      when @_DOC_READY then @_onDocReady handler\n      when @_FORM_RESET then @_onReset selector[0], handler\n      when @_SWIPE_LEFT, \\\n      @_SWIPE_RIGHT, \\\n      @_SWIPE_UP, \\\n      @_SWIPE_DOWN, \\\n      @_SWIPE_LEFT_OR_UP, \\\n      @_SWIPE_RIGHT_OR_DOWN\n      then @_onSwipe event, selector[0], handler\n      else @_on event, selector[0], handler\n\n  onOpposite: (event, selector, handler) ->\n    _self = this\n    document.addEventListener event, (e) ->\n      trigger = _self.eventPath(e).every ($element) ->\n        not $element.matches or not $element.matches selector\n      handler e if trigger\n\n  dispatch: ($target, type, detail, delayMilliseconds, options = {}) ->\n    options.bubbles = true unless typeof options.bubbles is 'boolean'\n    options.cancelable = true unless typeof options.cancelable is 'boolean'\n    options.composed = true unless typeof options.composed is 'boolean'\n    evt = new Event \"#{@_EVENT_TYPE_PREFIX}:#{type}\", options\n    evt.detail = detail\n    if typeof delayMilliseconds is 'number'\n      setTimeout ->\n        $target.dispatchEvent evt if $target\n      , delayMilliseconds\n    else\n      $target.dispatchEvent evt\n      evt\n  \n  _onDocReady: (handler) ->\n    if document.readyState is 'loading'\n      document.addEventListener 'DOMContentLoaded', handler\n    else\n      handler()\n\n  _onReset: (selector, handler) ->\n    document.addEventListener 'reset', (e) ->\n      if selector?\n        luda.$children(selector, e.target).forEach ($element) ->\n          handler.bind($element)(e)\n      else\n        handler e\n \n  _onSwipe: (event, selector, handler) ->\n    _self = this\n    watch = false\n    $touchStartElement = document\n    touchStartE = null\n    touchStartX = 0\n    touchStartY = 0\n    document.addEventListener 'touchstart', (e) ->\n      if e.touches.length is 1\n        touchStartX = e.touches[0].screenX\n        touchStartY = e.touches[0].screenY\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              $touchStartElement = $element\n              touchStartE = e\n              watch = true\n              return true\n        else\n          watch = true\n\n    document.addEventListener 'touchmove', (e) ->\n      if watch and e.touches.length is 1\n        touchDistanceX = e.touches[0].screenX - touchStartX\n        touchDistanceY = e.touches[0].screenY - touchStartY\n        eventX = undefined\n        eventY = undefined\n        eventXOrY = undefined\n        if Math.abs(touchDistanceX) >= _self._SWIPE_DISTANCE\n          if touchDistanceX > 0\n            eventX = _self._SWIPE_RIGHT\n          else\n            eventX = _self._SWIPE_LEFT\n        if Math.abs(touchDistanceY) >= _self._SWIPE_DISTANCE\n          if touchDistanceY > 0\n            eventY = _self._SWIPE_DOWN\n          else\n            eventY = _self._SWIPE_UP\n        if eventX is _self._SWIPE_LEFT \\\n        or eventY is _self._SWIPE_UP\n          eventXOrY = _self._SWIPE_LEFT_OR_UP\n        if eventX is _self._SWIPE_RIGHT \\\n        or eventY is _self._SWIPE_DOWN\n          eventXOrY = _self._SWIPE_RIGHT_OR_DOWN\n        if (eventX? and eventX is event) \\\n        or (eventY? and eventY is event) \\\n        or eventXOrY is event\n          if selector?\n            _self.eventPath(e).some ($element) ->\n              if $element is $touchStartElement\n                watch = false\n                handler.bind($element)(touchStartE, e)\n                return true\n          else\n            watch = false\n            handler touchStartE, e\n\n  _on: (event, selector, handler) ->\n    if selector is window\n      window.addEventListener event, (e) -> handler e\n    else\n      _self = this\n      document.addEventListener event, (e) ->\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              handler.bind($element)(e)\n              return true\n        else\n          handler e","import './install.coffee'\n\n\n\nluda\n \n  except: (element, arr) ->\n    arr.splice(arr.indexOf(element), 1) if arr.includes element","import './install.coffee'\r\nimport './utilities.coffee'\r\nimport './dom.coffee'\r\nimport './event.coffee'\r\n\r\n\r\n  \r\nluda class Static\r\n\r\n  @_SCOPE: 'Static'\r\n  \r\n  @_SELECTOR_INVALID_ERROR: '@param selector must be a css selector string'\r\n  @_SELECTORS: []\r\n\r\n  @_ACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:deactivated\"\r\n  @_ACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-activating\"\r\n  @_DEACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-deactivating\"\r\n\r\n  @_Observed: []\r\n  @_observer: null\r\n\r\n  @_selector: ''\r\n\r\n  @_add: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    @_SELECTORS.push selector unless @_SELECTORS.includes selector\r\n    @_mergeSelectors()\r\n\r\n  @_remove: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    luda.except selector, @_SELECTORS\r\n    @_mergeSelectors()\r\n\r\n  @_mergeSelectors: ->\r\n    @_selector = @_SELECTORS.join ','\r\n\r\n  @_activatePrevented: ($ele, detail) ->\r\n    activateEvent = luda.dispatch $ele, @_ACTIVATE_EVENT_TYPE(), detail\r\n    activateEvent.defaultPrevented\r\n\r\n  @_deactivatePrevented: ($ele, detail) ->\r\n    deactivateEvent = luda.dispatch $ele, @_DEACTIVATE_EVENT_TYPE(), detail\r\n    deactivateEvent.defaultPrevented\r\n\r\n  @_handleActivateEnd: ($ele, detail) ->\r\n    @_setActivatingMark $ele, detail\r\n    activateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch $ele, @_ACTIVATED_EVENT_TYPE(), detail, activateDuration\r\n    setTimeout =>\r\n      @_removeActivatingMark $ele if $ele\r\n    , activateDuration\r\n    activateDuration\r\n\r\n  @_handleDeactivateEnd: ($ele, detail) ->\r\n    @_setDeactivatingMark $ele, detail\r\n    deactivateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch $ele, @_DEACTIVATED_EVENT_TYPE(), detail, deactivateDuration\r\n    setTimeout =>\r\n      @_removeDeactivatingMark $ele if $ele\r\n    , deactivateDuration\r\n    deactivateDuration\r\n\r\n  @_handleActivateCancel: ($ele, detail) ->\r\n    if @_isActivating $ele\r\n      luda.dispatch $ele, @_ACTIVATED_EVENT_TYPE(), detail\r\n      @_removeActivatingMark $ele\r\n\r\n  @_handleDeactivateCancel: ($ele, detail) ->\r\n    if @_isDeactivating $ele\r\n      luda.dispatch $ele, @_DEACTIVATED_EVENT_TYPE(), detail\r\n      @_removeDeactivatingMark $ele\r\n\r\n  @_isActivating: ($ele) ->\r\n    $ele.hasAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_isDeactivating: ($ele) ->\r\n    $ele.hasAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_isTransitioning: ($ele) ->\r\n    @_isActivating($ele) or @_isDeactivating($ele)\r\n\r\n  @_getActivatingMark: ($ele) ->\r\n    $ele.getAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_getDeactivatingMark: ($ele) ->\r\n    $ele.getAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_removeActivatingMark: ($ele) ->\r\n    $ele.removeAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_removeDeactivatingMark: ($ele) ->\r\n    $ele.removeAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_setActivatingMark: ($ele, value) ->\r\n    $ele.setAttribute @_ACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @_setDeactivatingMark: ($ele, value) ->\r\n    $ele.setAttribute @_DEACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @_onEleAdded: ($ele) ->\r\n    Static._onEleAddedOrRemoved $ele, '_onElementAdded'\r\n\r\n  @_onEleRemoved: ($ele) ->\r\n    Static._onEleAddedOrRemoved $ele, '_onElementRemoved'\r\n\r\n  @_onEleAddedOrRemoved: ($ele, action) ->\r\n    Static._Observed.forEach (Observed) ->\r\n      return unless Observed[action]\r\n      $matched = luda.$children Observed._selector, $ele\r\n      $matched.unshift $ele if $ele.matches Observed._selector\r\n      $matched.forEach ($target) -> Observed[action] $target\r\n\r\n  @_observe: (classObj) ->\r\n    unless Static._observer\r\n      Static._observer = \\\r\n      luda._observeDom Static._onEleAdded, Static._onEleRemoved\r\n    if classObj._onElementAdded or classObj._onElementRemoved \\\r\n    and classObj._selector\r\n      unless Static._Observed.includes classObj\r\n        Static._Observed.push classObj\r\n\r\n  @_install: ->\r\n    self = this\r\n    return this if this is Static\r\n    @_SELECTORS = [] unless @hasOwnProperty '_SELECTORS'\r\n    @_mergeSelectors()\r\n    exposed = @_init() if typeof @_init is 'function'\r\n    luda.on luda._DOC_READY, -> Static._observe(self)\r\n    if exposed then exposed else this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'enter'\r\n\r\n  @_SELECTORS: [\r\n    'input[type=checkbox]'\r\n    'input[type=radio]'\r\n    '[tabindex]'\r\n  ]\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-enter-disabled'\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_ENTER \\\r\n      and e.target.matches(self._selector)\r\n        e.preventDefault()\r\n        setTimeout(-> e.target.click())","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'focus'\r\n\r\n  @_CSS_CLASS: 'focus'\r\n  # mouse focusable selectors\r\n  @_SELECTORS: ['select'\r\n                'textarea'\r\n                ':not(.btn-check):not(.btn-radio):not(.btn-file) >\r\n                 input:not([type=button]):not([type=submit]):not([type=reset])'\r\n              ]\r\n  @_TOUCHSTART_FOCUS_SELECTOR: 'input[type=range]'\r\n  @_PARENT_FOCUS_SELECTOR: 'select[multiple]'\r\n  @_PARENT_FOCUS_CHILDREN_SELECTOR: \"#{@_PARENT_FOCUS_SELECTOR} *\"\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-focus-disabled'\r\n\r\n  @_$focus: document.getElementsByClassName(@_CSS_CLASS)\r\n\r\n  @_isActive: ->\r\n    not document.documentElement.hasAttribute(@_DISABLED_ATTRIBUTE)\r\n\r\n  @_removeFocusClassExcept: ($exception) ->\r\n    Array.from(@_$focus).forEach ($focus) =>\r\n      $focus.classList.remove @_CSS_CLASS if $focus isnt $exception\r\n\r\n  @_addFocusClassExceptHtmlAndBody: ($target) ->\r\n    if $target isnt document.body and $target isnt document.documentElement\r\n      $target.classList.add @_CSS_CLASS\r\n\r\n  @_changeFocusStateOnKeyEvent: (e) ->\r\n    if @_isActive()\r\n      @_removeFocusClassExcept e.target\r\n      @_addFocusClassExceptHtmlAndBody e.target\r\n\r\n  @_changeFocusStateOnMouseDownEvent: (e) ->\r\n    if @_isActive()\r\n      if e.target.matches @_PARENT_FOCUS_CHILDREN_SELECTOR\r\n        target = luda.$parent @_PARENT_FOCUS_SELECTOR, e.target\r\n      else\r\n        target = e.target\r\n      if target.matches @_selector\r\n        @_removeFocusClassExcept target\r\n        @_addFocusClassExceptHtmlAndBody target\r\n      else\r\n        @_removeFocusClassExcept()\r\n\r\n  @_setElementPrototype: ->\r\n    focus = HTMLElement.prototype.focus\r\n    blur = HTMLElement.prototype.blur\r\n    self = this\r\n    HTMLElement.prototype.focus = ->\r\n      focus.apply this, arguments\r\n      if self._isActive() and document.activeElement is this\r\n        self._removeFocusClassExcept this\r\n        self._addFocusClassExceptHtmlAndBody this\r\n    HTMLElement.prototype.blur = ->\r\n      blur.apply this, arguments\r\n      this.classList.remove self._CSS_CLASS if self._isActive()\r\n\r\n  @_init: ->\r\n    self = this\r\n    @_setElementPrototype()\r\n    luda.on 'keydown', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'keyup', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'mousedown', @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'touchstart', @_TOUCHSTART_FOCUS_SELECTOR, \\\r\n    @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'focusin', @_changeFocusStateOnMouseDownEvent.bind this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'tabulate'\r\n\r\n  @_SELECTORS: ['input[type=radio]:not([disabled])']\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-tabulate-disabled'\r\n\r\n  @_querySameName$radios: ($radio) ->\r\n    if $radio.name\r\n      selector = \"#{@_selector}[name=#{$radio.name}]\"\r\n    else\r\n      selector = @_selector\r\n    $inputs = luda.$children selector\r\n    $inputs.filter ($input) -> $input.tabIndex >= 0\r\n\r\n  @_query$prev$next: ($radio) ->\r\n    $sameNameRadios = @_querySameName$radios $radio\r\n    radioIndex = $sameNameRadios.indexOf $radio\r\n    $prev = $sameNameRadios[radioIndex - 1]\r\n    $next = $sameNameRadios[radioIndex + 1]\r\n    {$prev, $next}\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_TAB \\\r\n      and e.target.nodeName.toUpperCase() is 'INPUT' \\\r\n      and e.target.type is 'radio'\r\n        if e.shiftKey\r\n          if $prev = self._query$prev$next(e.target).$prev\r\n            e.preventDefault()\r\n            $prev.focus()\r\n        else\r\n          if $next = self._query$prev$next(e.target).$next\r\n            e.preventDefault()\r\n            $next.focus()","import './install.coffee'\r\nimport './utilities.coffee'\r\nimport './dom.coffee'\r\nimport './event.coffee'\r\n\r\n\r\n\r\n\r\nluda class Factory\r\n\r\n  @_SCOPE: 'Factory'\r\n  \r\n  @_COMPONENT_NO_SELECTOR_ERROR: 'Extended component must has a css selector'\r\n  @_$COMPONENT_INVALID_ERROR: '@param $component must be an instance of Element'\r\n  @_SELECTOR: ''\r\n\r\n  @_ACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:deactivated\"\r\n  @_ACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-activating\"\r\n  @_DEACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-deactivating\"\r\n\r\n  @_instances: []\r\n\r\n  @_Observed: []\r\n  @_observer: null\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n\r\n  _hasDescendant: (descendant) ->\r\n    if @_children.length and descendant\r\n      return true if @_children.includes descendant\r\n      return @_children.some (child) -> child._hasDescendant descendant\r\n    else\r\n      return false\r\n\r\n  _observe: ->\r\n    @_observer = new MutationObserver @_onMutations.bind this\r\n    @_observer.observe @_$component, @constructor._observerConfig\r\n\r\n  _disconnect: ->\r\n    @_observer.disconnect()\r\n    @_observer = null\r\n\r\n  _activatePrevented: ($ele, detail) ->\r\n    activateEvent = luda.dispatch($ele, \\\r\n    @constructor._ACTIVATE_EVENT_TYPE(), detail)\r\n    activateEvent.defaultPrevented\r\n\r\n  _deactivatePrevented: ($ele, detail) ->\r\n    deactivateEvent = luda.dispatch($ele, \\\r\n    @constructor._DEACTIVATE_EVENT_TYPE(), detail)\r\n    deactivateEvent.defaultPrevented\r\n\r\n  _handleActivateEnd: ($ele, detail) ->\r\n    @_setActivatingMark detail\r\n    activateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch($ele, \\\r\n    @constructor._ACTIVATED_EVENT_TYPE(), detail, \\\r\n    activateDuration)\r\n    setTimeout =>\r\n      @_removeActivatingMark() if @_$component\r\n    , activateDuration\r\n    activateDuration\r\n\r\n  _handleDeactivateEnd: ($ele, detail) ->\r\n    @_setDeactivatingMark detail\r\n    deactivateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch($ele, \\\r\n    @constructor._DEACTIVATED_EVENT_TYPE(), detail, \\\r\n    deactivateDuration)\r\n    setTimeout =>\r\n      @_removeDeactivatingMark() if @_$component\r\n    , deactivateDuration\r\n    deactivateDuration\r\n\r\n  _handleActivateCancel: ($ele, detail) ->\r\n    if @_isActivating()\r\n      luda.dispatch($ele, \\\r\n      @constructor._ACTIVATED_EVENT_TYPE(), detail)\r\n      @_removeActivatingMark()\r\n\r\n  _handleDeactivateCancel: ($ele, detail) ->\r\n    if @_isDeactivating()\r\n      luda.dispatch($ele, \\\r\n      @constructor._DEACTIVATED_EVENT_TYPE(), detail)\r\n      @_removeDeactivatingMark()\r\n\r\n  _isActivating: ->\r\n    @_$component.hasAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _isDeactivating: ->\r\n    @_$component.hasAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _isTransitioning: ->\r\n    @_isActivating() or @_isDeactivating()\r\n\r\n  _getActivatingMark: ->\r\n    @_$component.getAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _getDeactivatingMark: ->\r\n    @_$component.getAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _removeActivatingMark: ->\r\n    @_$component.removeAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _removeDeactivatingMark: ->\r\n    @_$component.removeAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _setActivatingMark: (value) ->\r\n    @_$component.setAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  _setDeactivatingMark: (value) ->\r\n    @_$component.setAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @create: ($component) ->\r\n    componentIsElementInstance = $component instanceof Element\r\n    throw new Error @_$COMPONENT_INVALID_ERROR unless componentIsElementInstance\r\n    $family = @_query$family $component\r\n    instance = @query $component\r\n    if $family._$parent\r\n      if parent = @query $family._$parent\r\n        @_instances.push instance = @_createInstance $component unless instance\r\n        if instance._parent isnt parent\r\n          parent._children.push(instance) and (instance._parent = parent)\r\n        $family._$children.forEach ($child) => @create $child\r\n        return instance\r\n      else\r\n        @create $family._$parent\r\n        return @query $component\r\n    else\r\n      @_instances.push instance = @_createInstance $component unless instance\r\n      $family._$children.forEach ($child) => @create $child\r\n      return instance\r\n\r\n  @destroy: (instance$component) ->\r\n    instance = @query instance$component\r\n    if instance\r\n      instance._disconnect() if instance._observer\r\n      instance._destroy() if instance._destroy\r\n      @destroy instance._children[0] while instance._children.length\r\n      if instance._parent\r\n        luda.except instance, instance._parent._children\r\n      luda.except instance, @_instances\r\n      for attribute, value of instance\r\n        instance[attribute] = null\r\n        \r\n  @query: (instance$component) ->\r\n    instance = null\r\n    if instance$component instanceof this \\\r\n    and @_instances.includes instance$component\r\n      instance = instance$component\r\n    else if instance$component instanceof Element\r\n      @_instances.some (inited) ->\r\n        if inited._$component is instance$component\r\n          instance = inited\r\n          return true\r\n    return instance\r\n\r\n  @_query$family: ($component) ->\r\n    _$parent = null\r\n    _$children = []\r\n    if @_SELECTOR\r\n      _$parent = luda.$parent @_SELECTOR, $component\r\n      _$children = luda.$unnested @_SELECTOR, $component, @_SELECTOR\r\n    {_$parent, _$children}\r\n\r\n  @_createInstance: ($component) ->\r\n    instance = new this()\r\n    instance._$component = $component\r\n    instance._parent = null\r\n    instance._children = []\r\n    instance._observer = null\r\n    instance._constructor() if instance._constructor\r\n    unless instance._observer and instance._onMutations and @_observerConfig\r\n      instance._observe()\r\n    instance\r\n\r\n  @_onEleAdded: ($ele) ->\r\n    Factory._onEleAddedOrRemoved($ele, 'create')\r\n\r\n  @_onEleRemoved: ($ele) ->\r\n    Factory._onEleAddedOrRemoved($ele, 'destroy')\r\n\r\n  @_onEleAddedOrRemoved: ($ele, action) ->\r\n    Factory._Observed.forEach (Observed) ->\r\n      return Observed[action] $ele if $ele.matches Observed._SELECTOR\r\n      luda.$children(Observed._SELECTOR, $ele).forEach ($child) ->\r\n        Observed[action] $child\r\n\r\n  @_observe: (classObj) ->\r\n    unless Factory._observer\r\n      Factory._observer = \\\r\n      luda._observeDom Factory._onEleAdded, Factory._onEleRemoved\r\n    unless Factory._Observed.includes classObj\r\n      Factory._Observed.push classObj\r\n\r\n  @_install: ->\r\n    self = this\r\n    return this if this is Factory\r\n    unless @_SELECTOR or typeof @_SELECTOR isnt 'string'\r\n      throw new Error @_COMPONENT_NO_SELECTOR_ERROR\r\n    @_instances = [] unless @hasOwnProperty '_instances'\r\n    exposed = @_init() if typeof @_init is 'function'\r\n    luda.on luda._DOC_READY, ->\r\n      luda.$children(self._SELECTOR).forEach ($component) ->\r\n        self.create $component\r\n      Factory._observe(self)\r\n    if exposed then exposed else this","import '../install.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'readonly'\r\n  @_READONLY_ATTRIBUTE: 'data-readonly'\r\n  @_READONLY_FALSE_VALUE: 'false'\r\n  @_SELECTOR: \"[#{@_READONLY_ATTRIBUTE}]\"\r\n\r\n  @_observerConfig:\r\n    attributes: true\r\n    attributeFilter: [@_READONLY_ATTRIBUTE]\r\n\r\n  _getConfig: ->\r\n    readonly = @_$component.getAttribute @constructor._READONLY_ATTRIBUTE\r\n    _isReadonly = readonly isnt @constructor._READONLY_FALSE_VALUE\r\n    _originalTabIndex = @_$component.tabIndex\r\n    {_isReadonly, _originalTabIndex}\r\n    \r\n  _constructor: ->\r\n    {\r\n      @_isReadonly,\r\n      @_originalTabIndex\r\n    } = @_getConfig()\r\n    @_setTabIndex()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _setTabIndex: ->\r\n    if @_isReadonly\r\n      @_$component.tabIndex = -1\r\n    else\r\n      @_$component.tabIndex = @_originalTabIndex","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'toggle'\r\n  @_TOGGLE_TARGET_ATTRIBUTE: 'data-toggle-target'\r\n  @_TOGGLE_ATTRIBUTE: 'data-toggle'\r\n  @_TOGGLE_FOR_ATTRIBUTE: 'data-toggle-for'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-toggle-disabled'\r\n  @_AUTO_DEACTIVATE_ATTRIBUTE: 'data-toggle-auto-deactivate'\r\n  @_AUTO_DEACTIVATE_DURATION: 3000\r\n  @_ACTIVE_CSS_CLASS: 'toggle-active'\r\n  @_SELECTORS: [\r\n    \"[#{@_TOGGLE_TARGET_ATTRIBUTE}]\"\r\n  ]\r\n\r\n  @activate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return if $target.classList.contains @_ACTIVE_CSS_CLASS\r\n      return if @_isTransitioning $target\r\n      return if @_activatePrevented $target\r\n      $target.classList.add @_ACTIVE_CSS_CLASS\r\n      @_handleActivateEnd $target\r\n      @_delayDeactivate $target if @_shouldAutoDeactivate $target\r\n\r\n  @deactivate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return unless $target.classList.contains @_ACTIVE_CSS_CLASS\r\n      return if @_isTransitioning $target\r\n      return if @_deactivatePrevented $target\r\n      $target.classList.remove @_ACTIVE_CSS_CLASS\r\n      @_handleDeactivateEnd $target\r\n\r\n  @toggle: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      if $target.classList.contains @_ACTIVE_CSS_CLASS\r\n        @deactivate($target)\r\n      else\r\n        @activate($target)\r\n\r\n  @_onElementAdded: ($ele) ->\r\n    @_handleActivateCancel $ele\r\n    @_handleDeactivateCancel $ele\r\n    @_delayDeactivate $ele if @_shouldAutoDeactivate $ele\r\n\r\n  @_shouldAutoDeactivate: ($target) ->\r\n    $target.hasAttribute @_AUTO_DEACTIVATE_ATTRIBUTE\r\n\r\n  @_delayDeactivate: ($target) ->\r\n    delay = parseInt $target.getAttribute(@_AUTO_DEACTIVATE_ATTRIBUTE), 10\r\n    delay = @_AUTO_DEACTIVATE_DURATION if not delay\r\n    setTimeout =>\r\n      @deactivate $target if $target\r\n    , delay\r\n\r\n  @_query$targets: (name$target) ->\r\n    if name$target instanceof Element\r\n      [name$target]\r\n    else\r\n      luda.$children \"[#{@_TOGGLE_TARGET_ATTRIBUTE}=#{name$target}]\"\r\n\r\n  @_init: ->\r\n    self = this\r\n    clickEventSelector = \"[#{@_TOGGLE_FOR_ATTRIBUTE}],[#{@_TOGGLE_ATTRIBUTE}]\"\r\n    luda.on luda._DOC_READY, ->\r\n      luda.$children(self._selector).forEach ($target) ->\r\n        self._delayDeactivate $target if self._shouldAutoDeactivate $target\r\n    luda.on 'click', clickEventSelector, (e) ->\r\n      toggleChecked = false\r\n      luda.eventPath(e).some ($path) ->\r\n        if $path instanceof Element\r\n          if $path.hasAttribute(self._TOGGLE_ATTRIBUTE) \\\r\n          or $path.hasAttribute(self._TOGGLE_FOR_ATTRIBUTE)\r\n            if toggleName = $path.getAttribute self._TOGGLE_FOR_ATTRIBUTE\r\n              self.toggle toggleName\r\n              toggleChecked = true\r\n            if $path.hasAttribute self._TOGGLE_ATTRIBUTE\r\n              if $path.hasAttribute self._TOGGLE_TARGET_ATTRIBUTE\r\n                $toggle = $path\r\n              else\r\n                $toggle = luda.$parent \\\r\n                \"[#{self._TOGGLE_TARGET_ATTRIBUTE}]\", $path\r\n              if $toggle\r\n                self.toggle $toggle\r\n                toggleChecked = true\r\n          else if $path.hasAttribute self._TOGGLE_DISABLED_ATTRIBUTE\r\n            toggleChecked = true","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmFile'\r\n\r\n  @_VALUE_SPLITOR: '   '\r\n  @_SELECTOR: '.fm-file'\r\n  @_FILE_SELECTOR: 'input[type=file]'\r\n  @_SIMULATOR_SELECTOR: 'input:not([type=file])'\r\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\r\n  @_VALUE_ATTRIBUTE: 'value'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n\r\n  reset: ->\r\n    @_$file.value = ''\r\n    @_$simulator.value = ''\r\n\r\n  _getConfig: ->\r\n    _$file = luda.$child @constructor._FILE_SELECTOR, @_$component\r\n    _$simulator = luda.$child \\\r\n    @constructor._SIMULATOR_SELECTOR, @_$component\r\n    {_$file, _$simulator}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$file,\r\n      @_$simulator\r\n    } = @_getConfig()\r\n    @_init()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _insertSimulator: ->\r\n    @_$simulator = document.createElement 'input'\r\n    @_$simulator.tabIndex = -1\r\n    luda.$after @_$simulator, @_$file\r\n\r\n  _setPlaceholderValue: ->\r\n    @_$simulator.placeholder = \\\r\n    @_$file.getAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _setSimulatorValue: ->\r\n    values = []\r\n    Array.from(@_$file.files).map (file) -> values.push file.name\r\n    if values.length\r\n      @_$simulator.value = values.join @constructor._VALUE_SPLITOR\r\n    else if @_$file.hasAttribute(@constructor._VALUE_ATTRIBUTE)\r\n      @_$simulator.value = @_$file.getAttribute @constructor._VALUE_ATTRIBUTE\r\n\r\n  _init: ->\r\n    if @_$file\r\n      @_insertSimulator() unless @_$simulator\r\n      if @_$file.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n        @_setPlaceholderValue()\r\n      @_setSimulatorValue()\r\n\r\n  @reset: ($file) -> @query($file).reset()\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_FILE_SELECTOR}\", (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this)._setSimulatorValue()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._setSimulatorValue()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmSelect'\r\n\r\n  @_SELECTOR: '.fm-select'\r\n  @_SELECT_SELECTOR: 'select'\r\n  @_SINGLE_SELECT_SIMULATOR_SELECTOR: 'input'\r\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\r\n  @_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS: 'fm-select-multiple-placeholder'\r\n  @_DEFAULT_SELECTED_OPTION_ATTRIBUTE: 'data-fm-select-default-selected'\r\n  @_INITED_ATTRIBUTE: 'data-fm-select-inited'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: ['selected']\r\n\r\n  select: (indexOrIndexArray) ->\r\n    if @_$select.multiple\r\n      if @_$multipleSelectPlaceholder\r\n        selectedIndexes = indexOrIndexArray\r\n      else\r\n        selectedIndexes = indexOrIndexArray.map (index) -> index + 1\r\n      Array.from(@_$select.options).forEach ($option, index) ->\r\n        $option.selected = selectedIndexes.includes index\r\n      @_markSelectedOption()\r\n    else\r\n      @_$select.selectedIndex = indexOrIndexArray\r\n      @_setSingleSelectSimulatorValue()\r\n      @_markSelectedOption()\r\n\r\n  _getConfig: ->\r\n    _$select = luda.$child @constructor._SELECT_SELECTOR, @_$component\r\n    _$singleSelectSimulator = luda.$child \\\r\n    @constructor._SINGLE_SELECT_SIMULATOR_SELECTOR, @_$component\r\n    _$multipleSelectPlaceholder = luda.$child \\\r\n    \".#{@constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS}\", @_$component\r\n    _$defaultSelectedOptions = luda.$children \\\r\n    \"[#{@constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE}]\", @_$component\r\n    _defaultSelectedOptionMarked = @_$component.hasAttribute \\\r\n    @constructor._INITED_ATTRIBUTE\r\n    {\r\n      _$select,\r\n      _$singleSelectSimulator,\r\n      _$multipleSelectPlaceholder,\r\n      _$defaultSelectedOptions,\r\n      _defaultSelectedOptionMarked\r\n    }\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$select,\r\n      @_$singleSelectSimulator,\r\n      @_$multipleSelectPlaceholder,\r\n      @_$defaultSelectedOptions,\r\n      @_defaultSelectedOptionMarked\r\n    } = @_getConfig()\r\n    if @_$select\r\n      if @_$select.multiple\r\n        @_initMultipleSelect()\r\n      else\r\n        @_initSingleSelect()\r\n      \r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _markSelectedOption: ->\r\n    @_disconnect() if @_observer\r\n    Array.from(@_$select.options).forEach ($option) ->\r\n      if $option.selected\r\n        $option.setAttribute 'selected', 'selected'\r\n      else\r\n        $option.removeAttribute 'selected'\r\n    @_observe() unless @_observer\r\n\r\n  _markDefaultSelectedOption: ->\r\n    @_$component.setAttribute @constructor._INITED_ATTRIBUTE, ''\r\n    Array.from(@_$select.options).forEach ($option) =>\r\n      if $option.selected\r\n        $option.setAttribute @constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE, ''\r\n\r\n  _setSingleSelectedDefaultSelectedOption: ->\r\n    hasSelected = Array.from(@_$select.options).some ($option) ->\r\n      $option.getAttribute('selected') is 'selected'\r\n    @_$select.selectedIndex = -1 unless hasSelected\r\n\r\n  _insertSingleSelectSimulator: ->\r\n    @_$singleSelectSimulator = document.createElement 'input'\r\n    @_$singleSelectSimulator.tabIndex = -1\r\n    luda.$after @_$singleSelectSimulator, @_$select\r\n\r\n  _setSingleSelectPlaceholderValue: ->\r\n    @_$singleSelectSimulator.placeholder = @_$select.getAttribute \\\r\n    @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _setSingleSelectSimulatorValue: ->\r\n    if $selectedOption = @_$select.options[@_$select.selectedIndex]\r\n      @_$singleSelectSimulator.value = $selectedOption.innerText\r\n    else\r\n      @_$singleSelectSimulator.value = ''\r\n\r\n  _initSingleSelect: ->\r\n    @_insertSingleSelectSimulator() unless @_$singleSelectSimulator\r\n    if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n      @_setSingleSelectedDefaultSelectedOption()\r\n      @_setSingleSelectPlaceholderValue()\r\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\r\n    @_setSingleSelectSimulatorValue()\r\n    @_markSelectedOption()\r\n\r\n  _insertMultipleSelectBlankOption: ->\r\n    @_$multipleSelectPlaceholder = document.createElement 'option'\r\n    @_$multipleSelectPlaceholder.className = \\\r\n    @constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS\r\n    @_$multipleSelectPlaceholder.disabled = true\r\n    luda.$prepend @_$multipleSelectPlaceholder, @_$select\r\n\r\n  _setMultipleSelectPlaceholderValue: ->\r\n    @_$multipleSelectPlaceholder.innerText = @_$select.getAttribute \\\r\n    @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _initMultipleSelect: ->\r\n    unless @_$multipleSelectPlaceholder\r\n      if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n        @_insertMultipleSelectBlankOption()\r\n        @_setMultipleSelectPlaceholderValue()\r\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\r\n\r\n  _reset: ->\r\n    if @_$select\r\n      Array.from(@_$select.options).forEach ($option) =>\r\n        $option.selected = @_$defaultSelectedOptions.includes $option\r\n      @_setSingleSelectSimulatorValue() unless @_$select.multiple\r\n      @_markSelectedOption()\r\n\r\n  @select: ($select, indexOrIndexArray) ->\r\n    @query($select).select indexOrIndexArray\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_SELECT_SELECTOR}\", (e) ->\r\n      instance = self.query(luda.$parent self._SELECTOR, this)\r\n      instance._setSingleSelectSimulatorValue() unless this.multiple\r\n      instance._markSelectedOption()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._reset()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'carousel'\r\n\r\n  @_SELECTOR: '.carousel'\r\n  @_ITEMS_SELECTOR: '.carousel-item'\r\n  @_PREV_CONTROL_SELECTOR: '.carousel-prev'\r\n  @_NEXT_CONTROL_SELECTOR: '.carousel-next'\r\n  @_INDICATORS_SELECTOR: '.carousel-indicators .btn'\r\n  @_INTERVAL_ATTRIBUTE: 'data-carousel-interval'\r\n  @_WRAP_ATTRIBUTE: 'data-carousel-wrap'\r\n  @_ACTIVATED_INDEX_ATTRIBUTE: 'data-carousel-activated-index'\r\n  @_ITEM_ACTIVE_CSS_CLASS: 'carousel-item-active'\r\n  @_ITEM_NEXT_CSS_CLASS: 'carousel-item-next'\r\n  @_ITEM_PREV_CSS_CLASS: 'carousel-item-prev'\r\n  @_ACTIVE_INDEX: 0\r\n  @_INTERVAL: 5000\r\n  @_WRAP: true\r\n  @_FALSE: 'false'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [@_INTERVAL_ATTRIBUTE, @_WRAP_ATTRIBUTE]\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$items.length - 1 \\\r\n      and @_canTransition(index, activatedIndex)\r\n        @_activeIndex = index\r\n        action = if index < activatedIndex then '_slidePrev' else '_slideNext'\r\n        @[action] activatedIndex\r\n\r\n  next: ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex + 1\r\n      if index > @_$items.length - 1\r\n        return unless @_wrap\r\n        index = 0\r\n      return unless @_canTransition(index, activatedIndex)\r\n      @_activeIndex = index\r\n      @_slideNext activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  prev: ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex - 1\r\n      if index < 0\r\n        return unless @_wrap\r\n        index = @_$items.length - 1\r\n      return unless @_canTransition(index, activatedIndex)\r\n      @_activeIndex = index\r\n      @_slidePrev activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  pause: ->\r\n    if @_intervaling?\r\n      clearInterval @_intervaling\r\n      @_intervaling = null\r\n      @_pausedRemainTime = @_pausedRemainTime - (Date.now() - @_playTimeStamp)\r\n\r\n  play: ->\r\n    if @_interval and @_$items.length > 1\r\n      @_playTimeStamp = Date.now()\r\n      @pause()\r\n      execute = =>\r\n        @next()\r\n        @_intervaling = setInterval @next.bind(this), @_interval\r\n      @_intervaling = setTimeout execute, @_pausedRemainTime\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATORS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$prevControl = luda.$child \\\r\n    @constructor._PREV_CONTROL_SELECTOR, @_$component\r\n    _$nextControl = luda.$child \\\r\n    @constructor._NEXT_CONTROL_SELECTOR, @_$component\r\n    _activeIndex = _$items.indexOf \\\r\n    luda.$child \".#{@constructor._ITEM_ACTIVE_CSS_CLASS}\", @_$component\r\n    _activeIndex = @constructor._ACTIVE_INDEX if _activeIndex is -1\r\n    _interval = @_$component.getAttribute(@constructor._INTERVAL_ATTRIBUTE)\r\n    if _interval is @constructor._FALSE\r\n      _interval = false\r\n    else\r\n      _interval = Math.abs(parseInt _interval, 10) or @constructor._INTERVAL\r\n    _wrap = @_$component.getAttribute(@constructor._WRAP_ATTRIBUTE)\r\n    _wrap = if _wrap is @constructor._FALSE then false else @constructor._WRAP\r\n    {\r\n      _$items,\r\n      _$indicators,\r\n      _$prevControl,\r\n      _$nextControl,\r\n      _activeIndex,\r\n      _interval,\r\n      _wrap\r\n    }\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_intervaling = null\r\n    @_playTimeStamp = 0\r\n    @_pausedRemainTime = @_interval\r\n    @_layout()\r\n    @_handleTransitionCancel()\r\n    @play()\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n    @play()\r\n\r\n  _destroy: ->\r\n    @pause()\r\n\r\n  _layout: ->\r\n    @_$items.forEach ($item, index) =>\r\n      $item.style.transition = 'none'\r\n      if index > @_activeIndex\r\n        $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else if index < @_activeIndex\r\n        $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else\r\n        $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n\r\n  _slideNext: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n  _slidePrev: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n  _canTransition: (activeIndex, activatedIndex) ->\r\n    not @_activatePrevented(@_$items[activeIndex], activeIndex) \\\r\n    and not @_deactivatePrevented(@_$items[activatedIndex], activatedIndex)\r\n\r\n  _handleTransitionEnd: (activeIndex, activatedIndex) ->\r\n    activateDuration = \\\r\n    @_handleActivateEnd @_$items[activeIndex], activeIndex\r\n    deactivateDuration = \\\r\n    @_handleDeactivateEnd @_$items[activatedIndex], activatedIndex\r\n\r\n  _handleTransitionCancel: ->\r\n    if @_isActivating()\r\n      index = parseInt @_getActivatingMark(), 10\r\n      @_handleActivateCancel @_$items[index], index\r\n    if @_isDeactivating()\r\n      activatedIndex = parseInt @_getDeactivatingMark(), 10\r\n      @_handleDeactivateCancel @_$items[activatedIndex], activatedIndex\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      $indicator.disabled = index is @_activeIndex\r\n\r\n  _setDirectionControlState: ->\r\n    if @_$items.length <= 1\r\n      @_$prevControl?.disabled = @_$nextControl?.disabled = true\r\n    else\r\n      @_$prevControl?.disabled = @_activeIndex is 0 and not @_wrap\r\n      @_$nextControl?.disabled = \\\r\n      @_activeIndex is @_$items.length - 1 and not @_wrap\r\n  \r\n  @activate: ($carousel, index) -> @query($carousel).activate index\r\n\r\n  @next: ($carousel) -> @query($carousel).next()\r\n\r\n  @prev: ($carousel) -> @query($carousel).prev()\r\n\r\n  @pause: ($carousel) -> @query($carousel).pause()\r\n\r\n  @play: ($carousel) -> @query($carousel).play()\r\n\r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'click', @_INDICATORS_SELECTOR, (e) ->\r\n      instance = self.query luda.$parent self._SELECTOR, this\r\n      instance.activate instance._$indicators.indexOf this\r\n    luda.on 'touchstart', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'touchend', @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this).play()\r\n    luda.on 'mouseover', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'mouseout', @_SELECTOR, (e) ->\r\n      self.query(this).play()\r\n    luda.on luda._SWIPE_LEFT_OR_UP, @_SELECTOR, (startE, e) ->\r\n      self.query(this).next()\r\n    luda.on luda._SWIPE_RIGHT_OR_DOWN, @_SELECTOR, (startE, e) ->\r\n      self.query(this).prev()\r\n    luda.on 'click', @_PREV_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).prev()\r\n    luda.on 'click', @_NEXT_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).next()","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'dropdown'\r\n  @_SELECTOR: '.dropdown-fixed,.dropdown-absolute,\r\n               .dropdown-static,.dropdown-absolute-m'\r\n  @_MENU_SELECTOR: '.dropdown-menu'\r\n  @_ITEMS_SELECTOR: 'a[href]:not([disabled]),button:not([disabled]),\r\n                     input:not([disabled]),[tabindex]:not([disabled])'\r\n  @_TOGGLE_ATTRIBUTE: 'data-dropdown-toggle'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-dropdown-toggle-disabled'\r\n  @_STANDALONE_ATTRIBUTE: 'data-dropdown-standalone'\r\n  @_SWITCHES_SELECTOR: \"[#{@_TOGGLE_ATTRIBUTE}]\"\r\n  @_NONE_SWITCHES_SELECTOR: \"[#{@_TOGGLE_DISABLED_ATTRIBUTE}]\"\r\n  @_ACTIVE_CSS_CLASS: 'dropdown-active'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [\r\n      @_TOGGLE_ATTRIBUTE\r\n      @_TOGGLE_DISABLED_ATTRIBUTE\r\n      @_STANDALONE_ATTRIBUTE\r\n    ]\r\n\r\n  @_$focused: []\r\n\r\n  activate: ->\r\n    return if @_isActive() or @_isTransitioning()\r\n    return if @_activatePrevented @_$menu\r\n    @_$component.classList.add @constructor._ACTIVE_CSS_CLASS\r\n    @constructor._$focused.push document.activeElement\r\n    @_parent?.activate()\r\n    @_handleActivateEnd @_$menu\r\n\r\n  deactivate: (focus) ->\r\n    return unless @_isActive() and not @_isTransitioning()\r\n    return if @_deactivatePrevented @_$menu\r\n    @_$component.classList.remove @constructor._ACTIVE_CSS_CLASS\r\n    @_children.forEach (child) -> child.deactivate()\r\n    if focus\r\n      @constructor._$focused[@constructor._$focused.length - 1]?.focus()\r\n    @constructor._$focused.splice @constructor._$focused.length - 1, 1\r\n    @_handleDeactivateEnd @_$menu\r\n\r\n  toggle: (focus) ->\r\n    if @_isActive() then @deactivate(focus) else @activate()\r\n\r\n  _prev: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) - 1\r\n      focusIndex = 0 if focusIndex < 0\r\n      @_$items[focusIndex].focus()\r\n\r\n  _next: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) + 1\r\n      focusIndex = @_$items.length - 1 if focusIndex > @_$items.length - 1\r\n      @_$items[focusIndex].focus()\r\n\r\n  _getConfig: ->\r\n    _$menu = luda.$child @constructor._MENU_SELECTOR, @_$component\r\n    _$switches = luda.$unnested( \\\r\n    @constructor._SWITCHES_SELECTOR, @_$component, @constructor._SELECTOR)\r\n    .concat(luda.$unnested \\\r\n    @constructor._SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$noneSwitches = luda.$unnested( \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, \\\r\n    @_$component, @constructor._SELECTOR) \\\r\n    .concat(luda.$unnested \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, _$menu, @constructor._MENU_SELECTOR\r\n    _isStandalone = @_$component.hasAttribute @constructor._STANDALONE_ATTRIBUTE\r\n    {_$menu, _$items, _$switches, _$noneSwitches, _isStandalone}\r\n\r\n  _constructor: ->\r\n    @_onMutations()\r\n    @_handleActivateCancel @_$menu\r\n    @_handleDeactivateCancel @_$menu\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$menu,\r\n      @_$items,\r\n      @_$switches,\r\n      @_$noneSwitches,\r\n      @_isStandalone\r\n    } = @_getConfig()\r\n\r\n  _isActive: ->\r\n    @_$component.classList.contains @constructor._ACTIVE_CSS_CLASS\r\n\r\n  _deactivateChildrenExcept: (exceptions) ->\r\n    if exceptions and not (exceptions instanceof Array)\r\n      exceptions = [exceptions]\r\n    if exceptions\r\n      @_children.forEach (child) ->\r\n        if child._isActive() and not exceptions.includes child\r\n          child.deactivate()\r\n    else\r\n      @_children.forEach (child) ->\r\n        child.deactivate() if child._isActive()\r\n\r\n  @activate: ($dropdown) -> @query($dropdown).activate()\r\n\r\n  @deactivate: ($dropdown, focus) -> @query($dropdown).deactivate(focus)\r\n\r\n  @toggle: ($dropdown, focus) -> @query($dropdown).toggle focus\r\n\r\n  @deactivateExcept: (instances$dropdowns) ->\r\n    exceptions = []\r\n    if instances$dropdowns and not (instances$dropdowns instanceof Array)\r\n      instances$dropdowns = [instances$dropdowns]\r\n    if instances$dropdowns\r\n      instances$dropdowns.forEach (instance$dropdown) =>\r\n        exceptions.push exception if exception = @query instance$dropdown\r\n    if exceptions.length\r\n      @_instances.forEach (instance) ->\r\n        instanceIsntInExceptions = not exceptions.includes instance\r\n        instanceHasntExceptionChild = exceptions.every (exception) ->\r\n          not instance._hasDescendant exception\r\n        if instance._isActive() \\\r\n        and instanceIsntInExceptions \\\r\n        and instanceHasntExceptionChild\r\n          instance.deactivate()\r\n    else\r\n      @_instances.forEach (instance) ->\r\n        instance.deactivate() if instance._isActive()\r\n\r\n  @_standaloneInstances: ->\r\n    @_instances.filter (instance) -> instance if instance._isStandalone\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.onOpposite 'click', @_SELECTOR, (e) ->\r\n      self.deactivateExcept self._standaloneInstances()\r\n    luda.on 'click', @_SELECTOR, (e) ->\r\n      if instance = self.query this\r\n        toggleChecked = false\r\n        focus = not e.detail\r\n        self.deactivateExcept(self._standaloneInstances().concat instance)\r\n        instance._deactivateChildrenExcept()\r\n        instance._parent._deactivateChildrenExcept(instance) if instance._parent\r\n        if instance._$switches.length or instance._$noneSwitches.length\r\n          luda.eventPath(e).some ($path) ->\r\n            if instance._$switches.includes $path\r\n              instance.toggle focus\r\n              toggleChecked = true\r\n            else if instance._$noneSwitches.includes $path\r\n              toggleChecked = true\r\n        instance.toggle focus unless toggleChecked\r\n\r\n    luda.onOpposite 'keyup', @_SELECTOR, (e) -> self.deactivateExcept()\r\n    luda.on 'keyup', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_TAB and instance = self.query this\r\n        self.deactivateExcept(instance)\r\n        instance.activate()\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_ESC and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance.deactivate true\r\n        else\r\n          instance._parent?.deactivate true\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if [luda.KEY_LEFT, luda.KEY_UP].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance._prev()\r\n        else\r\n          instance._parent?._prev()\r\n      else if [luda.KEY_RIGHT, luda.KEY_DOWN].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance._next()\r\n        else\r\n          instance._parent?._next()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\nimport '../behaviors/focus.coffee'\r\nimport '../behaviors/enter.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmDropdown'\r\n\r\n  @_SELECTOR: '.fm-dropdown'\r\n  @_VALUE_SPLITOR: '   '\r\n  @_LABEL_ATTRIBUTE: 'data-fm-dropdown-label'\r\n  @_VALUE_SELECTOR: '.dropdown-items .btn-radio input,\r\n                     .dropdown-items .btn-check input'\r\n  @_DEFAULT_VALUE_SELECTOR: '.dropdown-items .btn-radio label,\r\n                             .dropdown-items .btn-check label'\r\n  @_VALUE_HOLDER_SELECTOR: '.fm input'\r\n  @_ENTER_BEHAVIOR_SELECTOR: '.fm-dropdown .fm input'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [\r\n      'checked'\r\n      @_LABEL_ATTRIBUTE\r\n    ]\r\n\r\n  _getConfig: ->\r\n    _$values = luda.$children @constructor._VALUE_SELECTOR, @_$component\r\n    _$defaultValues = luda.$children \\\r\n    @constructor._DEFAULT_VALUE_SELECTOR, @_$component\r\n    _$valueHolder = luda.$child \\\r\n    @constructor._VALUE_HOLDER_SELECTOR, @_$component\r\n    {_$values, _$valueHolder, _$defaultValues}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$values,\r\n      @_$valueHolder,\r\n      @_$defaultValues\r\n    } = @_getConfig()\r\n    @_setValueHolderAttribute()\r\n    @_setValueHolderValue()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _setValueHolderValue: ->\r\n    values = []\r\n    @_$values.forEach ($value, index) =>\r\n      if $value.checked\r\n        if $value.hasAttribute @constructor._LABEL_ATTRIBUTE\r\n          value = $value.getAttribute @constructor._LABEL_ATTRIBUTE\r\n        else\r\n          value = @_$defaultValues[index].innerText\r\n      values.push value if value and not values.includes value\r\n    if @_$valueHolder\r\n      @_$valueHolder.value = values.join @constructor._VALUE_SPLITOR\r\n\r\n  _setValueHolderAttribute: ->\r\n    @_$valueHolder.setAttribute('readonly', '') if @_$valueHolder\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.enter._add @_ENTER_BEHAVIOR_SELECTOR\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_VALUE_SELECTOR}\", (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this)._setValueHolderValue()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._setValueHolderValue()\r\n    # prevent ios device pop out wired navigation pannel\r\n    if /iphone/i.test(navigator.userAgent) or /ipad/i.test(navigator.userAgent)\r\n      luda.on 'focusin', @_ENTER_BEHAVIOR_SELECTOR, (e) ->\r\n        this.blur()\r\n        this.classList.add luda.focus._CSS_CLASS","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'tab'\r\n\r\n  @_SELECTOR: '.tab'\r\n  @_PANE_SELECTOR: '.tab-pane'\r\n  @_INDICATOR_SELECTOR: '.tab-indicators .btn-radio input[type=radio]'\r\n  @_PANE_ACTIVE_CSS_CLASS: 'tab-pane-active'\r\n  @_ACTIVE_INDEX: 0\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$panes.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$panes.length - 1\r\n        return unless @_canTransition index, activatedIndex\r\n        @_activeIndex = index\r\n        @_activate activatedIndex\r\n\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$panes = luda.$unnested \\\r\n    @constructor._PANE_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATOR_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _activeIndex = @constructor._ACTIVE_INDEX\r\n    _$indicators.some ($indicator, index) ->\r\n      if $indicator.checked\r\n        _activeIndex = index\r\n        true\r\n    {_$panes, _$indicators, _activeIndex}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$panes,\r\n      @_$indicators,\r\n      @_activeIndex\r\n    } = @_getConfig()\r\n    @_layout()\r\n    @_handleTransitionCancel()\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$panes,\r\n      @_$indicators,\r\n      @_activeIndex\r\n    } = @_getConfig()\r\n    @_setIndicatorsState()\r\n\r\n  _layout: ->\r\n    @_$panes.forEach ($pane, index) =>\r\n      $pane.style.transition = 'none'\r\n      if index is @_activeIndex\r\n        $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\r\n      else\r\n        $pane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\r\n      luda.reflow $pane\r\n      $pane.style.transition = ''\r\n    @_setIndicatorsState()\r\n\r\n  _activate: (activatedIndex) ->\r\n    $pane = @_$panes[@_activeIndex]\r\n    $activatedPane = @_$panes[activatedIndex]\r\n    $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\r\n    $activatedPane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\r\n    @_handleTransitionEnd @_activeIndex, activatedIndex\r\n    @_setIndicatorsState()\r\n\r\n  _canTransition: (activeIndex, activatedIndex) ->\r\n    not @_activatePrevented(@_$panes[activeIndex], activeIndex) \\\r\n    and not @_deactivatePrevented(@_$panes[activatedIndex], activatedIndex)\r\n\r\n  _handleTransitionEnd: (activeIndex, activatedIndex) ->\r\n    activateDuration = \\\r\n    @_handleActivateEnd @_$panes[activeIndex], activeIndex\r\n    deactivateDuration = \\\r\n    @_handleDeactivateEnd @_$panes[activatedIndex], activatedIndex\r\n\r\n  _handleTransitionCancel: ->\r\n    if @_isActivating()\r\n      index = parseInt @_getActivatingMark(), 10\r\n      @_handleActivateCancel @_$panes[index], index\r\n    if @_isDeactivating()\r\n      activatedIndex = parseInt @_getDeactivatingMark(), 10\r\n      @_handleDeactivateCancel @_$panes[activatedIndex], activatedIndex\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      if index is @_activeIndex\r\n        $indicator.setAttribute 'checked', ''\r\n        $indicator.checked = true\r\n      else\r\n        $indicator.removeAttribute 'checked'\r\n        $indicator.checked = false\r\n\r\n  @activate: ($tab, index) -> @query($tab).activate index\r\n\r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', @_INDICATOR_SELECTOR, (e) ->\r\n      if this.checked\r\n        instance = self.query luda.$parent self._SELECTOR, this\r\n        instance._setIndicatorsState()\r\n        instance.activate instance._$indicators.indexOf this"]}