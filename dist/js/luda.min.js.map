{"version":3,"sources":["../../src/coffee/install.coffee","../../src/coffee/constants.coffee","../../src/coffee/dom.coffee","../../src/coffee/event.coffee","../../src/coffee/utilities.coffee","../../src/coffee/singleton.coffee","../../src/coffee/behaviors/enter-click.coffee","../../src/coffee/behaviors/focus.coffee","../../src/coffee/behaviors/radio-tab.coffee","../../src/coffee/component.coffee","../../src/coffee/behaviors/readonly.coffee","../../src/coffee/behaviors/toggle.coffee","../../src/coffee/elements/form-file.coffee","../../src/coffee/elements/form-select.coffee","../../src/coffee/patterns/carousel.coffee","../../src/coffee/patterns/dropdown.coffee","../../src/coffee/patterns/form-dropdown.coffee","../../src/coffee/patterns/tab.coffee"],"names":["ENV","document","window","global","Error","luda","installer","installed","name","property","includes","hasOwnProperty","_SCOPE","_install","Array","namespace","installedInstaller","installedName","ref","console","warn","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_TAB","KEY_ESC","KEY_ENTER","$child","selector","$ancestor","querySelector","$children","$descendant","descendants","this","from","querySelectorAll","$unnested","ancestorSelector","filter","$parent","parentNode","matches","$parents","_ancestors","push","$after","$node","$target","lastChild","appendChild","insertBefore","nextSibling","$prepend","firstChild","reflow","$element","offsetHeight","splice","_SWIPE_DISTANCE","_EVENT_TYPE_PREFIX","_SWIPE_LEFT","_SWIPE_RIGHT","_SWIPE_UP","_SWIPE_DOWN","_SWIPE_LEFT_OR_UP","_SWIPE_RIGHT_OR_DOWN","_DOC_READY","_FORM_RESET","eventPath","event","path","composedPath","target","concat","on","handler","call","_onDocReady","_onReset","_onSwipe","_on","onOpposite","_self","addEventListener","e","trigger","every","dispatch","type","detail","options","evt","bubbles","cancelable","composed","Event","dispatchEvent","readyState","forEach","bind","$touchStartElement","touchStartE","touchStartX","touchStartY","watch","touches","length","screenX","screenY","some","eventX","eventXOrY","eventY","touchDistanceX","touchDistanceY","Math","abs","except","element","arr","indexOf","Singleton","[object Object]","_SELECTOR_INVALID_ERROR","_SELECTORS","_mergeSelectors","_selector","join","exposed","_init","self","documentElement","hasAttribute","_DISABLED_ATTRIBUTE","keyCode","preventDefault","setTimeout","click","_Class","$exception","_$focus","$focus","classList","remove","_CSS_CLASS","body","add","_isActive","_removeFocusClassExcept","_addFocusClassExceptHtmlAndBody","_PARENT_FOCUS_CHILDREN_SELECTOR","_PARENT_FOCUS_SELECTOR","blur","focus","HTMLElement","prototype","apply","arguments","activeElement","_setElementPrototype","_changeFocusStateOnKeyEvent","_changeFocusStateOnMouseDownEvent","_TOUCHSTART_FOCUS_SELECTOR","getElementsByClassName","$radio","$inputs","$input","tabIndex","$next","$prev","$sameNameRadios","radioIndex","_querySameName$radios","nodeName","toUpperCase","shiftKey","_query$prev$next","Component","descendant","_children","child","_hasDescendant","_observer","MutationObserver","_onMutations","observe","_$component","constructor","_observerConfig","disconnect","$component","$family","componentIsElementInstance","instance","parent","Element","_$COMPONENT_INVALID_ERROR","_query$family","query","_$parent","_instances","_createInstance","_parent","_$children","create","instance$component","attribute","results","value","_disconnect","_destroy","destroy","inited","_SELECTOR","_constructor","_observe","classObj","mutations","mutation","$addedNodes","$removedNodes","removedNodes","addedNodes","_Observed","Observed","$destroies","$destroy","$creates","$create","_COMPONENT_NO_SELECTOR_ERROR","childList","subtree","_isReadonly","_originalTabIndex","readonly","getAttribute","_READONLY_ATTRIBUTE","_READONLY_FALSE_VALUE","_getConfig","_setTabIndex","attributes","attributeFilter","name$target","_query$targets","_ACTIVE_CSS_CLASS","_ACTIVATED_EVENT_TYPE","_DEACTIVATED_EVENT_TYPE","contains","deactivate","activate","_TOGGLE_TARGET_ATTRIBUTE","toggleChecked","$path","$toggle","toggleName","_TOGGLE_ATTRIBUTE","_TOGGLE_FOR_ATTRIBUTE","toggle","_NONE_TOGGLE_ATTRIBUTE","_$file","_$simulator","_FILE_SELECTOR","_SIMULATOR_SELECTOR","createElement","placeholder","_PLACEHOLDER_ATTRIBUTE","values","files","map","file","_VALUE_SPLITOR","_VALUE_ATTRIBUTE","_insertSimulator","_setPlaceholderValue","_setSimulatorValue","indexOrIndexArray","selectedIndexes","_$select","multiple","_$multipleSelectPlaceholder","index","$option","selected","_markSelectedOption","selectedIndex","_setSingleSelectSimulatorValue","_$defaultSelectedOptions","_$singleSelectSimulator","_defaultSelectedOptionMarked","_SELECT_SELECTOR","_SINGLE_SELECT_SIMULATOR_SELECTOR","_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS","_DEFAULT_SELECTED_OPTION_ATTRIBUTE","_INITED_ATTRIBUTE","_initMultipleSelect","_initSingleSelect","setAttribute","removeAttribute","hasSelected","$selectedOption","innerText","_insertSingleSelectSimulator","_setSingleSelectedDefaultSelectedOption","_setSingleSelectPlaceholderValue","_markDefaultSelectedOption","className","disabled","_insertMultipleSelectBlankOption","_setMultipleSelectPlaceholderValue","_reset","action","activatedIndex","_$items","_transiting","_activeIndex","_wrap","_slideNext","_playTimeStamp","Date","now","_pausedRemainTime","_interval","_slidePrev","_intervaling","clearInterval","execute","pause","next","setInterval","_$indicators","_$nextControl","_$prevControl","_ITEMS_SELECTOR","_INDICATORS_SELECTOR","_PREV_CONTROL_SELECTOR","_NEXT_CONTROL_SELECTOR","_ITEM_ACTIVE_CSS_CLASS","_ACTIVE_INDEX","_INTERVAL_ATTRIBUTE","_FALSE","parseInt","_INTERVAL","_WRAP_ATTRIBUTE","_WRAP","_layout","play","_setIndicatorsState","_setDirectionControlState","$item","style","transition","_ITEM_NEXT_CSS_CLASS","_ITEM_PREV_CSS_CLASS","$activatedItem","_ACTIVATE_EVENT_TYPE","_DEACTIVATE_EVENT_TYPE","$indicator","ref1","ref2","ref3","startE","prev","_$focused","focusIndex","_$menu","_$noneSwitches","_$switches","_isStandalone","_MENU_SELECTOR","_SWITCHES_SELECTOR","_NONE_SWITCHES_SELECTOR","_STANDALONE_ATTRIBUTE","exceptions","instances$dropdowns","instance$dropdown","exception","instanceHasntExceptionChild","instanceIsntInExceptions","deactivateExcept","_standaloneInstances","_deactivateChildrenExcept","_$defaultValues","_$valueHolder","_$values","_VALUE_SELECTOR","_DEFAULT_VALUE_SELECTOR","_VALUE_HOLDER_SELECTOR","_setValueHolderAttribute","_setValueHolderValue","$value","checked","_LABEL_ATTRIBUTE","enterClick","_add","_ENTER_CLICK_VALUE_HOLDER_SELECTOR","test","navigator","userAgent","_$panes","_activate","_PANE_SELECTOR","_INDICATOR_SELECTOR","$pane","_PANE_ACTIVE_CSS_CLASS"],"mappings":"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","sourcesContent":["ENV = (->\n  if typeof document isnt 'undefined'\n    return window if typeof window isnt 'undefined'\n    return global if typeof global isnt 'undefined'\n  throw new Error 'Unsupported runtime environment.'\n)()\n\n\n\nunless typeof ENV.luda is 'function'\n  ENV.luda = (installer) ->\n    throw new Error 'Installer cannot be detected.' unless installer\n    unless ['object', 'function'].includes typeof installer\n      throw new Error 'Installer must be object, array or function.'\n    if installer.hasOwnProperty '_SCOPE'\n      unless typeof installer._SCOPE is 'string'\n        throw new Error '_SCOPE must be string'\n      return ENV.luda._install installer._SCOPE, installer\n    if installer instanceof Array or typeof installer is 'function'\n      throw new Error 'Unscoped installer must be object.'\n    installed = {}\n    for name, property of installer\n      installed[name] = ENV.luda._install name, property\n    installed\n\n  ENV.luda._install = (namespace, installer) ->\n    if ENV.luda[namespace]\n      console.warn \"Namespace #{namespace} is ocupied, sikp installation.\"\n      return ENV.luda[namespace]\n    for installedName, installedInstaller of ENV.luda\n      if installer is installedInstaller\n        console.warn \"Installer is installed with name #{installedName},\n                      skip installation.\"\n        return ENV.luda[installedName]\n    if installer._install\n      if typeof installer._install is 'function'\n        return ENV.luda[namespace] = installer._install()\n      return ENV.luda[namespace] = installer._install\n    ENV.luda[namespace] = installer","import './install.coffee'\n\n\n\nluda\n\n  KEY_LEFT: 37\n  KEY_UP: 38\n  KEY_RIGHT: 39\n  KEY_DOWN: 40\n  KEY_TAB: 9\n  KEY_ESC: 27\n  KEY_ENTER: 13","import './install.coffee'\n\n\n\nluda\n \n  $child: (selector, $ancestor) ->\n    $ancestor = document unless $ancestor\n    $ancestor.querySelector selector\n\n  $children: (selector, $ancestor) ->\n    $ancestor = document unless $ancestor\n    $descendant = @$child selector, $ancestor\n    if $descendant\n      descendants = Array.from($ancestor.querySelectorAll selector)\n    else\n      descendants = []\n\n  $unnested: (selector, $ancestor, ancestorSelector) ->\n    descendants = @$children selector, $ancestor\n    descendants.filter ($descendant) =>\n      $descendant if @$parent(ancestorSelector, $descendant) is $ancestor\n\n  $parent: (selector, $descendant) ->\n    $ancestor = $descendant.parentNode\n    if $ancestor\n      if $ancestor.matches and $ancestor.matches selector\n        $ancestor\n      else\n        @$parent selector, $ancestor\n\n  $parents: (selector, $descendant, _ancestors) ->\n    $ancestor = @$parent selector, $descendant\n    _ancestors = [] unless _ancestors\n    if $ancestor\n      _ancestors.push($ancestor)\n      @$parents selector, $ancestor, _ancestors\n    else\n      _ancestors\n\n  $after: ($node, $target) ->\n    $parent = $target.parentNode\n    if $parent.lastChild is $target\n      $parent.appendChild $node\n    else\n      $parent.insertBefore $node, $target.nextSibling\n\n  $prepend: ($node, $target) ->\n    if $target.firstChild\n      $target.insertBefore $node, $target.firstChild\n    else\n      $target.appendChild $node\n\n  reflow: ($element) -> $element.offsetHeight","import './install.coffee'\nimport './dom.coffee'\n\n\n\nluda\n \n  _SWIPE_DISTANCE: 10\n  _EVENT_TYPE_PREFIX: 'luda'\n  _SWIPE_LEFT: 'swipeleft'\n  _SWIPE_RIGHT: 'swiperight'\n  _SWIPE_UP: 'swipeup'\n  _SWIPE_DOWN: 'swipedown'\n  _SWIPE_LEFT_OR_UP: 'swipeleft or swipeup'\n  _SWIPE_RIGHT_OR_DOWN: 'swiperight or swipedown'\n  _DOC_READY: 'docready'\n  _FORM_RESET: 'reset'\n\n  eventPath: (event) ->\n    if event.composedPath\n      path = event.composedPath()\n    else if event.path\n      path = event.path\n    else\n      path = [event.target].concat(luda.$parents '*', event.target)\n\n  on: (event, selector..., handler) ->\n    switch event\n      when @_DOC_READY then @_onDocReady handler\n      when @_FORM_RESET then @_onReset selector[0], handler\n      when @_SWIPE_LEFT, \\\n      @_SWIPE_RIGHT, \\\n      @_SWIPE_UP, \\\n      @_SWIPE_DOWN, \\\n      @_SWIPE_LEFT_OR_UP, \\\n      @_SWIPE_RIGHT_OR_DOWN\n      then @_onSwipe event, selector[0], handler\n      else @_on event, selector[0], handler\n\n  onOpposite: (event, selector, handler) ->\n    _self = this\n    document.addEventListener event, (e) ->\n      trigger = _self.eventPath(e).every ($element) ->\n        not $element.matches or not $element.matches selector\n      handler e if trigger\n\n  dispatch: ($target, type, detail, options = {}) ->\n    options.bubbles = true unless typeof options.bubbles is 'boolean'\n    options.cancelable = true unless typeof options.cancelable is 'boolean'\n    options.composed = true unless typeof options.composed is 'boolean'\n    evt = new Event \"#{@_EVENT_TYPE_PREFIX}:#{type}\", options\n    evt.detail = detail\n    $target.dispatchEvent evt\n    evt\n  \n  _onDocReady: (handler) ->\n    if document.readyState is 'loading'\n      document.addEventListener 'DOMContentLoaded', handler\n    else\n      handler()\n\n  _onReset: (selector, handler) ->\n    document.addEventListener 'reset', (e) ->\n      if selector?\n        luda.$children(selector, e.target).forEach ($element) ->\n          handler.bind($element)(e)\n      else\n        handler e\n \n  _onSwipe: (event, selector, handler) ->\n    _self = this\n    watch = false\n    $touchStartElement = document\n    touchStartE = null\n    touchStartX = 0\n    touchStartY = 0\n    document.addEventListener 'touchstart', (e) ->\n      if e.touches.length is 1\n        touchStartX = e.touches[0].screenX\n        touchStartY = e.touches[0].screenY\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              $touchStartElement = $element\n              touchStartE = e\n              watch = true\n              return true\n        else\n          watch = true\n\n    document.addEventListener 'touchmove', (e) ->\n      if watch and e.touches.length is 1\n        touchDistanceX = e.touches[0].screenX - touchStartX\n        touchDistanceY = e.touches[0].screenY - touchStartY\n        eventX = undefined\n        eventY = undefined\n        eventXOrY = undefined\n        if Math.abs(touchDistanceX) >= _self._SWIPE_DISTANCE\n          if touchDistanceX > 0\n            eventX = _self._SWIPE_RIGHT\n          else\n            eventX = _self._SWIPE_LEFT\n        if Math.abs(touchDistanceY) >= _self._SWIPE_DISTANCE\n          if touchDistanceY > 0\n            eventY = _self._SWIPE_DOWN\n          else\n            eventY = _self._SWIPE_UP\n        if eventX is _self._SWIPE_LEFT \\\n        or eventY is _self._SWIPE_UP\n          eventXOrY = _self._SWIPE_LEFT_OR_UP\n        if eventX is _self._SWIPE_RIGHT \\\n        or eventY is _self._SWIPE_DOWN\n          eventXOrY = _self._SWIPE_RIGHT_OR_DOWN\n        if (eventX? and eventX is event) \\\n        or (eventY? and eventY is event) \\\n        or eventXOrY is event\n          if selector?\n            _self.eventPath(e).some ($element) ->\n              if $element is $touchStartElement\n                watch = false\n                handler.bind($element)(touchStartE, e)\n                return true\n          else\n            watch = false\n            handler touchStartE, e\n\n  _on: (event, selector, handler) ->\n    if selector is window\n      window.addEventListener event, (e) -> handler e\n    else\n      _self = this\n      document.addEventListener event, (e) ->\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              handler.bind($element)(e)\n              return true\n        else\n          handler e","import './install.coffee'\n\n\n\nluda\n \n  except: (element, arr) ->\n    arr.splice(arr.indexOf(element), 1) if arr.includes element","import './install.coffee'\nimport './utilities.coffee'\n\n\n  \nluda class Singleton\n\n  @_SCOPE: 'Singleton'\n  \n  @_SELECTOR_INVALID_ERROR: '@param selector must be a css selector string'\n  @_SELECTORS: []\n\n  @_selector: ''\n\n  @_add: (selector) ->\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\n    @_SELECTORS.push selector unless @_SELECTORS.includes selector\n    @_mergeSelectors()\n\n  @_remove: (selector) ->\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\n    luda.except selector, @_SELECTORS\n    @_mergeSelectors()\n\n  @_mergeSelectors: ->\n    @_selector = @_SELECTORS.join ','\n\n  @_install: ->\n    return this if this is Singleton\n    @_SELECTORS = [] unless @hasOwnProperty '_SELECTORS'\n    @_mergeSelectors()\n    exposed = @_init() if typeof @_init is 'function'\n    if exposed then exposed else this","import '../install.coffee'\nimport '../constants.coffee'\nimport '../event.coffee'\nimport '../singleton.coffee'\n\n\nluda class extends luda.Singleton\n\n  @_SCOPE: 'enterClick'\n\n  @_SELECTORS: [\n    'input[type=checkbox]'\n    'input[type=radio]'\n    '[tabindex]'\n  ]\n\n  @_DISABLED_ATTRIBUTE: 'data-enter-click-disabled'\n\n  @_init: ->\n    self = this\n    luda.on 'keydown', (e) ->\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\n      and e.keyCode is luda.KEY_ENTER \\\n      and e.target.matches(self._selector)\n        e.preventDefault()\n        setTimeout(-> e.target.click())","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../singleton.coffee'\n\n\n\nluda class extends luda.Singleton\n\n  @_SCOPE: 'focus'\n\n  @_CSS_CLASS: 'focus'\n  # mouse focusable selectors\n  @_SELECTORS: ['select'\n                'textarea'\n                ':not(.btn-check):not(.btn-radio):not(.btn-file) >\n                 input:not([type=button]):not([type=submit]):not([type=reset])'\n              ]\n  @_TOUCHSTART_FOCUS_SELECTOR: 'input[type=range]'\n  @_PARENT_FOCUS_SELECTOR: 'select[multiple]'\n  @_PARENT_FOCUS_CHILDREN_SELECTOR: \"#{@_PARENT_FOCUS_SELECTOR} *\"\n\n  @_DISABLED_ATTRIBUTE: 'data-focus-disabled'\n\n  @_$focus: document.getElementsByClassName(@_CSS_CLASS)\n\n  @_isActive: ->\n    not document.documentElement.hasAttribute(@_DISABLED_ATTRIBUTE)\n\n  @_removeFocusClassExcept: ($exception) ->\n    Array.from(@_$focus).forEach ($focus) =>\n      $focus.classList.remove @_CSS_CLASS if $focus isnt $exception\n\n  @_addFocusClassExceptHtmlAndBody: ($target) ->\n    if $target isnt document.body and $target isnt document.documentElement\n      $target.classList.add @_CSS_CLASS\n\n  @_changeFocusStateOnKeyEvent: (e) ->\n    if @_isActive()\n      @_removeFocusClassExcept e.target\n      @_addFocusClassExceptHtmlAndBody e.target\n\n  @_changeFocusStateOnMouseDownEvent: (e) ->\n    if @_isActive()\n      if e.target.matches @_PARENT_FOCUS_CHILDREN_SELECTOR\n        target = luda.$parent @_PARENT_FOCUS_SELECTOR, e.target\n      else\n        target = e.target\n      if target.matches @_selector\n        @_removeFocusClassExcept target\n        @_addFocusClassExceptHtmlAndBody target\n      else\n        @_removeFocusClassExcept()\n\n  @_setElementPrototype: ->\n    focus = HTMLElement.prototype.focus\n    blur = HTMLElement.prototype.blur\n    self = this\n    HTMLElement.prototype.focus = ->\n      focus.apply this, arguments\n      if self._isActive() and document.activeElement is this\n        self._removeFocusClassExcept this\n        self._addFocusClassExceptHtmlAndBody this\n    HTMLElement.prototype.blur = ->\n      blur.apply this, arguments\n      this.classList.remove self._CSS_CLASS if self._isActive()\n\n  @_init: ->\n    self = this\n    @_setElementPrototype()\n    luda.on 'keydown', @_changeFocusStateOnKeyEvent.bind this\n    luda.on 'keyup', @_changeFocusStateOnKeyEvent.bind this\n    luda.on 'mousedown', @_changeFocusStateOnMouseDownEvent.bind this\n    luda.on 'touchstart', @_TOUCHSTART_FOCUS_SELECTOR, \\\n    @_changeFocusStateOnMouseDownEvent.bind this\n    luda.on 'focusin', @_changeFocusStateOnMouseDownEvent.bind this","import '../install.coffee'\nimport '../constants.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../singleton.coffee'\n\n\n\nluda class extends luda.Singleton\n\n  @_SCOPE: 'radioTab'\n\n  @_SELECTORS: ['input[type=radio]:not([disabled])']\n\n  @_DISABLED_ATTRIBUTE: 'data-radio-tab-disabled'\n\n  @_querySameName$radios: ($radio) ->\n    if $radio.name\n      selector = \"#{@_selector}[name=#{$radio.name}]\"\n    else\n      selector = @_selector\n    $inputs = luda.$children selector\n    $inputs.filter ($input) -> $input.tabIndex >= 0\n\n  @_query$prev$next: ($radio) ->\n    $sameNameRadios = @_querySameName$radios $radio\n    radioIndex = $sameNameRadios.indexOf $radio\n    $prev = $sameNameRadios[radioIndex - 1]\n    $next = $sameNameRadios[radioIndex + 1]\n    {$prev, $next}\n\n  @_init: ->\n    self = this\n    luda.on 'keydown', (e) ->\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\n      and e.keyCode is luda.KEY_TAB \\\n      and e.target.nodeName.toUpperCase() is 'INPUT' \\\n      and e.target.type is 'radio'\n        if e.shiftKey\n          if $prev = self._query$prev$next(e.target).$prev\n            e.preventDefault()\n            $prev.focus()\n        else\n          if $next = self._query$prev$next(e.target).$next\n            e.preventDefault()\n            $next.focus()","import './install.coffee'\nimport './utilities.coffee'\nimport './dom.coffee'\nimport './event.coffee'\n\n\n\n\nluda class Component\n\n  @_SCOPE: 'Component'\n  \n  @_COMPONENT_NO_SELECTOR_ERROR: 'Extended component must has a css selector'\n  @_$COMPONENT_INVALID_ERROR: '@param $component must be an instance of Element'\n  @_SELECTOR: ''\n  @_instances: []\n\n  @_Observed: []\n  @_observer: null\n  @_observerConfig:\n    childList: true\n    subtree: true\n\n  _hasDescendant: (descendant) ->\n    if @_children.length and descendant\n      return true if @_children.includes descendant\n      return @_children.some (child) -> child._hasDescendant descendant\n    else\n      return false\n\n  _observe: ->\n    @_observer = new MutationObserver @_onMutations.bind this\n    @_observer.observe @_$component, @constructor._observerConfig\n\n  _disconnect: ->\n    @_observer.disconnect()\n    @_observer = null\n\n  @create: ($component) ->\n    componentIsElementInstance = $component instanceof Element\n    throw new Error @_$COMPONENT_INVALID_ERROR unless componentIsElementInstance\n    $family = @_query$family $component\n    instance = @query $component\n    if $family._$parent\n      if parent = @query $family._$parent\n        @_instances.push instance = @_createInstance $component unless instance\n        if instance._parent isnt parent\n          parent._children.push(instance) and (instance._parent = parent)\n        $family._$children.forEach ($child) => @create $child\n        return instance\n      else\n        @create $family._$parent\n        return @query $component\n    else\n      @_instances.push instance = @_createInstance $component unless instance\n      $family._$children.forEach ($child) => @create $child\n      return instance\n\n  @destroy: (instance$component) ->\n    instance = @query instance$component\n    if instance\n      instance._disconnect() if instance._observer\n      instance._destroy() if instance._destroy\n      @destroy instance._children[0] while instance._children.length\n      if instance._parent\n        luda.except instance, instance._parent._children\n      luda.except instance, @_instances\n      for attribute, value of instance\n        instance[attribute] = null\n        \n  @query: (instance$component) ->\n    instance = null\n    if instance$component instanceof this \\\n    and @_instances.includes instance$component\n      instance = instance$component\n    else if instance$component instanceof Element\n      @_instances.some (inited) ->\n        if inited._$component is instance$component\n          instance = inited\n          return true\n    return instance\n\n  @_query$family: ($component) ->\n    _$parent = null\n    _$children = []\n    if @_SELECTOR\n      _$parent = luda.$parent @_SELECTOR, $component\n      _$children = luda.$unnested @_SELECTOR, $component, @_SELECTOR\n    {_$parent, _$children}\n\n  @_createInstance: ($component) ->\n    instance = new this()\n    instance._$component = $component\n    instance._parent = null\n    instance._children = []\n    instance._observer = null\n    instance._constructor() if instance._constructor\n    unless instance._observer and instance._onMutations and @_observerConfig\n      instance._observe()\n    instance\n\n  @_observe: (classObj) ->\n    unless Component._observer\n      Component._observer = new MutationObserver (mutations) ->\n        mutations.forEach (mutation) ->\n          $removedNodes = Array.from mutation.removedNodes\n          $addedNodes = Array.from mutation.addedNodes\n          $removedNodes.forEach ($node) ->\n            if $node instanceof Element\n              Component._Observed.forEach (Observed) ->\n                if $node.matches Observed._SELECTOR\n                  Observed.destroy $node\n                else\n                  $destroies = luda.$children Observed._SELECTOR, $node\n                  $destroies.forEach ($destroy) -> Observed.destroy $destroy\n          $addedNodes.forEach ($node) ->\n            if $node instanceof Element\n              Component._Observed.forEach (Observed) ->\n                if $node.matches Observed._SELECTOR\n                  Observed.create $node\n                else\n                  $creates = luda.$children Observed._SELECTOR, $node\n                  $creates.forEach ($create) -> Observed.create $create\n      Component._observer.observe document.documentElement, \\\n      Component._observerConfig\n    unless Component._Observed.includes classObj\n      Component._Observed.push classObj\n\n  @_install: ->\n    self = this\n    return this if this is Component\n    unless @_SELECTOR or typeof @_SELECTOR isnt 'string'\n      throw new Error @_COMPONENT_NO_SELECTOR_ERROR\n    @_instances = [] unless @hasOwnProperty '_instances'\n    exposed = @_init() if typeof @_init is 'function'\n    luda.on luda._DOC_READY, ->\n      luda.$children(self._SELECTOR).forEach ($component) ->\n        self.create $component\n      Component._observe(self)\n    if exposed then exposed else this","import '../install.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'readonly'\n  @_READONLY_ATTRIBUTE: 'data-readonly'\n  @_READONLY_FALSE_VALUE: 'false'\n  @_SELECTOR: \"[#{@_READONLY_ATTRIBUTE}]\"\n\n  @_observerConfig:\n    attributes: true\n    attributeFilter: [@_READONLY_ATTRIBUTE]\n\n  _getConfig: ->\n    readonly = @_$component.getAttribute @constructor._READONLY_ATTRIBUTE\n    _isReadonly = readonly isnt @constructor._READONLY_FALSE_VALUE\n    _originalTabIndex = @_$component.tabIndex\n    {_isReadonly, _originalTabIndex}\n    \n  _constructor: ->\n    {\n      @_isReadonly,\n      @_originalTabIndex\n    } = @_getConfig()\n    @_setTabIndex()\n\n  _onMutations: ->\n    @_constructor()\n\n  _setTabIndex: ->\n    if @_isReadonly\n      @_$component.tabIndex = -1\n    else\n      @_$component.tabIndex = @_originalTabIndex","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../singleton.coffee'\n\n\n\nluda class extends luda.Singleton\n\n  @_SCOPE: 'toggle'\n  @_TOGGLE_TARGET_ATTRIBUTE: 'data-toggle-target'\n  @_TOGGLE_ATTRIBUTE: 'data-toggle'\n  @_TOGGLE_FOR_ATTRIBUTE: 'data-toggle-for'\n  @_NONE_TOGGLE_ATTRIBUTE: 'data-toggle-disabled'\n  @_ACTIVE_CSS_CLASS: 'toggle-active'\n  @_SELECTORS: [\n    \"[#{@_TOGGLE_FOR_ATTRIBUTE}]\"\n    \"[#{@_TOGGLE_ATTRIBUTE}]\"\n  ]\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\n\n  @activate: (name$target) ->\n    @_query$targets(name$target).forEach ($target) =>\n      $target.classList.add @_ACTIVE_CSS_CLASS\n      luda.dispatch($target, @_ACTIVATED_EVENT_TYPE)\n\n  @deactivate: (name$target) ->\n    @_query$targets(name$target).forEach ($target) =>\n      $target.classList.remove @_ACTIVE_CSS_CLASS\n      luda.dispatch($target, @_DEACTIVATED_EVENT_TYPE)\n\n  @toggle: (name$target) ->\n    @_query$targets(name$target).forEach ($target) =>\n      if $target.classList.contains @_ACTIVE_CSS_CLASS\n        @deactivate($target)\n      else\n        @activate($target)\n\n  @_query$targets: (name$target) ->\n    if name$target instanceof Element\n      [name$target]\n    else\n      luda.$children \"[#{@_TOGGLE_TARGET_ATTRIBUTE}=#{name$target}]\"\n\n  @_init: ->\n    self = this\n    luda.on 'click', @_selector, (e) ->\n      toggleChecked = false\n      luda.eventPath(e).some ($path) ->\n        if $path instanceof Element\n          if $path.hasAttribute(self._TOGGLE_ATTRIBUTE) \\\n          or $path.hasAttribute(self._TOGGLE_FOR_ATTRIBUTE)\n            if toggleName = $path.getAttribute self._TOGGLE_FOR_ATTRIBUTE\n              self.toggle toggleName\n              toggleChecked = true\n            if $path.hasAttribute self._TOGGLE_ATTRIBUTE\n              if $path.hasAttribute self._TOGGLE_TARGET_ATTRIBUTE\n                $toggle = $path\n              else\n                $toggle = luda.$parent \\\n                \"[#{self._TOGGLE_TARGET_ATTRIBUTE}]\", $path\n              if $toggle\n                self.toggle $toggle\n                toggleChecked = true\n          else if $path.hasAttribute self._NONE_TOGGLE_ATTRIBUTE\n            toggleChecked = true","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmFile'\n\n  @_VALUE_SPLITOR: '   '\n  @_SELECTOR: '.fm-file'\n  @_FILE_SELECTOR: 'input[type=file]'\n  @_SIMULATOR_SELECTOR: 'input:not([type=file])'\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\n  @_VALUE_ATTRIBUTE: 'value'\n\n  @_observerConfig:\n    childList: true\n    subtree: true\n\n  _getConfig: ->\n    _$file = luda.$child @constructor._FILE_SELECTOR, @_$component\n    _$simulator = luda.$child \\\n    @constructor._SIMULATOR_SELECTOR, @_$component\n    {_$file, _$simulator}\n\n  _constructor: ->\n    {\n      @_$file,\n      @_$simulator\n    } = @_getConfig()\n    @_init()\n\n  _onMutations: ->\n    @_constructor()\n\n  _insertSimulator: ->\n    @_$simulator = document.createElement 'input'\n    @_$simulator.tabIndex = -1\n    luda.$after @_$simulator, @_$file\n\n  _setPlaceholderValue: ->\n    @_$simulator.placeholder = \\\n    @_$file.getAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _setSimulatorValue: ->\n    values = []\n    Array.from(@_$file.files).map (file) -> values.push file.name\n    if values.length\n      @_$simulator.value = values.join @constructor._VALUE_SPLITOR\n    else if @_$file.hasAttribute(@constructor._VALUE_ATTRIBUTE)\n      @_$simulator.value = @_$file.getAttribute @constructor._VALUE_ATTRIBUTE\n\n  _init: ->\n    if @_$file\n      @_insertSimulator() unless @_$simulator\n      if @_$file.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n        @_setPlaceholderValue()\n      @_setSimulatorValue()\n\n  @_init: ->\n    self = this\n    luda.on 'change', \"#{@_SELECTOR} #{@_FILE_SELECTOR}\", (e) ->\n      self.query(luda.$parent self._SELECTOR, this)._setSimulatorValue()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._setSimulatorValue()","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmSelect'\n\n  @_SELECTOR: '.fm-select'\n  @_SELECT_SELECTOR: 'select'\n  @_SINGLE_SELECT_SIMULATOR_SELECTOR: 'input'\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\n  @_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS: 'fm-select-multiple-placeholder'\n  @_DEFAULT_SELECTED_OPTION_ATTRIBUTE: 'data-fm-select-default-selected'\n  @_INITED_ATTRIBUTE: 'data-fm-select-inited'\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: ['selected']\n\n  select: (indexOrIndexArray) ->\n    if @_$select.multiple\n      if @_$multipleSelectPlaceholder\n        selectedIndexes = indexOrIndexArray\n      else\n        selectedIndexes = indexOrIndexArray.map (index) -> index + 1\n      Array.from(@_$select.options).forEach ($option, index) ->\n        $option.selected = selectedIndexes.includes index\n      @_markSelectedOption()\n    else\n      @_$select.selectedIndex = selectedIndex\n      @_setSingleSelectSimulatorValue()\n      @_markSelectedOption()\n\n  _getConfig: ->\n    _$select = luda.$child @constructor._SELECT_SELECTOR, @_$component\n    _$singleSelectSimulator = luda.$child \\\n    @constructor._SINGLE_SELECT_SIMULATOR_SELECTOR, @_$component\n    _$multipleSelectPlaceholder = luda.$child \\\n    \".#{@constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS}\", @_$component\n    _$defaultSelectedOptions = luda.$children \\\n    \"[#{@constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE}]\", @_$component\n    _defaultSelectedOptionMarked = @_$component.hasAttribute \\\n    @constructor._INITED_ATTRIBUTE\n    {\n      _$select,\n      _$singleSelectSimulator,\n      _$multipleSelectPlaceholder,\n      _$defaultSelectedOptions,\n      _defaultSelectedOptionMarked\n    }\n\n  _constructor: ->\n    {\n      @_$select,\n      @_$singleSelectSimulator,\n      @_$multipleSelectPlaceholder,\n      @_$defaultSelectedOptions,\n      @_defaultSelectedOptionMarked\n    } = @_getConfig()\n    if @_$select\n      if @_$select.multiple\n        @_initMultipleSelect()\n      else\n        @_initSingleSelect()\n      \n  _onMutations: ->\n    @_constructor()\n\n  _markSelectedOption: ->\n    @_disconnect() if @_observer\n    Array.from(@_$select.options).forEach ($option) ->\n      if $option.selected\n        $option.setAttribute 'selected', 'selected'\n      else\n        $option.removeAttribute 'selected'\n    @_observe() unless @_observer\n\n  _markDefaultSelectedOption: ->\n    @_$component.setAttribute @constructor._INITED_ATTRIBUTE, ''\n    Array.from(@_$select.options).forEach ($option) =>\n      if $option.selected\n        $option.setAttribute @constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE, ''\n\n  _setSingleSelectedDefaultSelectedOption: ->\n    hasSelected = Array.from(@_$select.options).some ($option) ->\n      $option.getAttribute('selected') is 'selected'\n    @_$select.selectedIndex = -1 unless hasSelected\n\n  _insertSingleSelectSimulator: ->\n    @_$singleSelectSimulator = document.createElement 'input'\n    @_$singleSelectSimulator.tabIndex = -1\n    luda.$after @_$singleSelectSimulator, @_$select\n\n  _setSingleSelectPlaceholderValue: ->\n    @_$singleSelectSimulator.placeholder = @_$select.getAttribute \\\n    @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _setSingleSelectSimulatorValue: ->\n    if $selectedOption = @_$select.options[@_$select.selectedIndex]\n      @_$singleSelectSimulator.value = $selectedOption.innerText\n    else\n      @_$singleSelectSimulator.value = ''\n\n  _initSingleSelect: ->\n    @_insertSingleSelectSimulator() unless @_$singleSelectSimulator\n    if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n      @_setSingleSelectedDefaultSelectedOption()\n      @_setSingleSelectPlaceholderValue()\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\n    @_setSingleSelectSimulatorValue()\n    @_markSelectedOption()\n\n  _insertMultipleSelectBlankOption: ->\n    @_$multipleSelectPlaceholder = document.createElement 'option'\n    @_$multipleSelectPlaceholder.className = \\\n    @constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS\n    @_$multipleSelectPlaceholder.disabled = true\n    luda.$prepend @_$multipleSelectPlaceholder, @_$select\n\n  _setMultipleSelectPlaceholderValue: ->\n    @_$multipleSelectPlaceholder.innerText = @_$select.getAttribute \\\n    @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _initMultipleSelect: ->\n    unless @_$multipleSelectPlaceholder\n      if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n        @_insertMultipleSelectBlankOption()\n        @_setMultipleSelectPlaceholderValue()\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\n\n  _reset: ->\n    if @_$select\n      Array.from(@_$select.options).forEach ($option) =>\n        $option.selected = @_$defaultSelectedOptions.includes $option\n      @_setSingleSelectSimulatorValue() unless @_$select.multiple\n      @_markSelectedOption()\n\n  @_init: ->\n    self = this\n    luda.on 'change', \"#{@_SELECTOR} #{@_SELECT_SELECTOR}\", (e) ->\n      instance = self.query(luda.$parent self._SELECTOR, this)\n      instance._setSingleSelectSimulatorValue() unless this.multiple\n      instance._markSelectedOption()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._reset()","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'carousel'\n\n  @_SELECTOR: '.carousel'\n  @_ITEMS_SELECTOR: '.carousel-item'\n  @_PREV_CONTROL_SELECTOR: '.carousel-prev'\n  @_NEXT_CONTROL_SELECTOR: '.carousel-next'\n  @_INDICATORS_SELECTOR: '.carousel-indicators .btn'\n  @_INTERVAL_ATTRIBUTE: 'data-carousel-interval'\n  @_WRAP_ATTRIBUTE: 'data-carousel-wrap'\n  @_ITEM_ACTIVE_CSS_CLASS: 'carousel-item-active'\n  @_ITEM_NEXT_CSS_CLASS: 'carousel-item-next'\n  @_ITEM_PREV_CSS_CLASS: 'carousel-item-prev'\n  @_ACTIVE_INDEX: 0\n  @_INTERVAL: 5000\n  @_WRAP: true\n  @_FALSE: 'false'\n  @_ACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:activate\"\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\n  @_DEACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:deactivate\"\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: [@_INTERVAL_ATTRIBUTE, @_WRAP_ATTRIBUTE]\n \n  # public\n  activate: (index) ->\n    if @_$items.length and not @_transiting\n      activatedIndex = @_activeIndex\n      if index? \\\n      and index isnt @_activeIndex \\\n      and 0 <= index <= @_$items.length - 1\n        @_transiting = true\n        @_activeIndex = index\n        action = if index < activatedIndex then '_slidePrev' else '_slideNext'\n        @[action] @_$items[activatedIndex], activatedIndex\n\n  next: ->\n    if @_$items.length and not @_transiting\n      activatedIndex = @_activeIndex\n      index = activatedIndex + 1\n      if index > @_$items.length - 1\n        return unless @_wrap\n        index = 0\n      @_transiting = true\n      @_activeIndex = index\n      @_slideNext @_$items[activatedIndex], activatedIndex\n      @_playTimeStamp = Date.now()\n      @_pausedRemainTime = @_interval\n\n  prev: ->\n    if @_$items.length and not @_transiting\n      activatedIndex = @_activeIndex\n      index = activatedIndex - 1\n      if index < 0\n        return unless @_wrap\n        index = @_$items.length - 1\n      @_transiting = true\n      @_activeIndex = index\n      @_slidePrev @_$items[activatedIndex], activatedIndex\n      @_playTimeStamp = Date.now()\n      @_pausedRemainTime = @_interval\n\n  pause: ->\n    if @_intervaling?\n      clearInterval @_intervaling\n      @_intervaling = null\n      @_pausedRemainTime = @_pausedRemainTime - (Date.now() - @_playTimeStamp)\n\n  play: ->\n    if @_interval and @_$items.length > 1\n      @_playTimeStamp = Date.now()\n      @pause()\n      execute = =>\n        @next()\n        @_intervaling = setInterval @next.bind(this), @_interval\n      @_intervaling = setTimeout execute, @_pausedRemainTime\n\n\n  # private\n  _getConfig: ->\n    _$items = luda.$unnested \\\n    @constructor._ITEMS_SELECTOR, @_$component, @constructor._SELECTOR\n    _$indicators = luda.$unnested \\\n    @constructor._INDICATORS_SELECTOR, @_$component, @constructor._SELECTOR\n    _$prevControl = luda.$child \\\n    @constructor._PREV_CONTROL_SELECTOR, @_$component\n    _$nextControl = luda.$child \\\n    @constructor._NEXT_CONTROL_SELECTOR, @_$component\n    _activeIndex = _$items.indexOf \\\n    luda.$child \".#{@constructor._ITEM_ACTIVE_CSS_CLASS}\", @_$component\n    _activeIndex = @constructor._ACTIVE_INDEX if _activeIndex is -1\n    _interval = @_$component.getAttribute(@constructor._INTERVAL_ATTRIBUTE)\n    if _interval is @constructor._FALSE\n      _interval = false\n    else\n      _interval = Math.abs(parseInt _interval, 10) or @constructor._INTERVAL\n    _wrap = @_$component.getAttribute(@constructor._WRAP_ATTRIBUTE)\n    _wrap = if _wrap is @constructor._FALSE then false else @constructor._WRAP\n    {\n      _$items,\n      _$indicators,\n      _$prevControl,\n      _$nextControl,\n      _activeIndex,\n      _interval,\n      _wrap\n    }\n\n  _constructor: ->\n    {\n      @_$items,\n      @_$indicators,\n      @_$prevControl,\n      @_$nextControl,\n      @_activeIndex,\n      @_interval,\n      @_wrap\n    } = @_getConfig()\n    @_transiting = false\n    @_intervaling = null\n    @_playTimeStamp = 0\n    @_pausedRemainTime = @_interval\n    @_layout()\n    @play()\n\n  _onMutations: (mutations) ->\n    {\n      @_$items,\n      @_$indicators,\n      @_$prevControl,\n      @_$nextControl,\n      @_activeIndex,\n      @_interval,\n      @_wrap\n    } = @_getConfig()\n    @_setIndicatorsState()\n    @_setDirectionControlState()\n    @play()\n\n  _destroy: ->\n    @pause()\n\n  _layout: ->\n    @_$items.forEach ($item, index) =>\n      $item.style.transition = 'none'\n      if index > @_activeIndex\n        $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\n      else if index < @_activeIndex\n        $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\n      else\n        luda.dispatch($item, @constructor._ACTIVATED_EVENT_TYPE, index)\n        $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\n      luda.reflow($item)\n      $item.style.transition = ''\n    @_setIndicatorsState()\n    @_setDirectionControlState()\n\n  _slideNext: ($activatedItem, activatedIndex) ->\n    if @_$items.length > 1\n      $item = @_$items[@_activeIndex]\n      luda.dispatch($item, \\\n      @constructor._ACTIVATE_EVENT_TYPE, @_activeIndex)\n      $item.style.transition = 'none'\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\n      $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\n      luda.reflow $item\n      $item.style.transition = ''\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\n      luda.dispatch($activatedItem, \\\n      @constructor._DEACTIVATE_EVENT_TYPE, activatedIndex)\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\n      $activatedItem.classList.add @constructor._ITEM_PREV_CSS_CLASS\n      @_setIndicatorsState()\n      @_setDirectionControlState()\n\n  _slidePrev: ($activatedItem, activatedIndex) ->\n    if @_$items.length > 1\n      $item = @_$items[@_activeIndex]\n      luda.dispatch($item, \\\n      @constructor._ACTIVATE_EVENT_TYPE, @_activeIndex)\n      $item.style.transition = 'none'\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\n      $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\n      luda.reflow $item\n      $item.style.transition = ''\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\n      luda.dispatch($activatedItem, \\\n      @constructor._DEACTIVATE_EVENT_TYPE, activatedIndex)\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\n      $activatedItem.classList.add @constructor._ITEM_NEXT_CSS_CLASS\n      @_setIndicatorsState()\n      @_setDirectionControlState()\n\n  _setIndicatorsState: ->\n    @_$indicators.forEach ($indicator, index) =>\n      $indicator.disabled = index is @_activeIndex\n\n  _setDirectionControlState: ->\n    if @_$items.length <= 1\n      @_$prevControl?.disabled = @_$nextControl?.disabled = true\n    else\n      @_$prevControl?.disabled = @_activeIndex is 0 and not @_wrap\n      @_$nextControl?.disabled = \\\n      @_activeIndex is @_$items.length - 1 and not @_wrap\n  \n  # static private\n  @_init: ->\n    self = this\n    luda.on 'transitionend', @_ITEMS_SELECTOR, (e) ->\n      instance = self.query(luda.$parent self._SELECTOR, this)\n      instance._transiting = false\n      index = instance._$items.indexOf this\n      if this.classList.contains self._ITEM_ACTIVE_CSS_CLASS\n        luda.dispatch(this, self._ACTIVATED_EVENT_TYPE, index)\n      else\n        luda.dispatch(this, self._DEACTIVATED_EVENT_TYPE, index)\n    luda.on 'click', @_INDICATORS_SELECTOR, (e) ->\n      instance = self.query luda.$parent self._SELECTOR, this\n      instance.activate instance._$indicators.indexOf this\n    luda.on 'touchstart', @_SELECTOR, (e) ->\n      self.query(this).pause()\n    luda.on 'touchend', @_SELECTOR, (e) ->\n      setTimeout => self.query(this).play()\n    luda.on 'mouseover', @_SELECTOR, (e) ->\n      self.query(this).pause()\n    luda.on 'mouseout', @_SELECTOR, (e) ->\n      self.query(this).play()\n    luda.on luda._SWIPE_LEFT_OR_UP, @_SELECTOR, (startE, e) ->\n      self.query(this).next()\n    luda.on luda._SWIPE_RIGHT_OR_DOWN, @_SELECTOR, (startE, e) ->\n      self.query(this).prev()\n    luda.on 'click', @_PREV_CONTROL_SELECTOR, (e) ->\n      self.query(luda.$parent self._SELECTOR, this).prev()\n    luda.on 'click', @_NEXT_CONTROL_SELECTOR, (e) ->\n      self.query(luda.$parent self._SELECTOR, this).next()","import '../install.coffee'\nimport '../constants.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'dropdown'\n  @_SELECTOR: '.dropdown-fixed,.dropdown-absolute,\n               .dropdown-static,.dropdown-absolute-m'\n  @_MENU_SELECTOR: '.dropdown-menu'\n  @_ITEMS_SELECTOR: 'a[href]:not([disabled]),button:not([disabled]),\n                     input:not([disabled]),[tabindex]:not([disabled])'\n  @_TOGGLE_ATTRIBUTE: 'data-dropdown-toggle'\n  @_NONE_TOGGLE_ATTRIBUTE: 'data-dropdown-toggle-disabled'\n  @_STANDALONE_ATTRIBUTE: 'data-dropdown-standalone'\n  @_SWITCHES_SELECTOR: \"[#{@_TOGGLE_ATTRIBUTE}]\"\n  @_NONE_SWITCHES_SELECTOR: \"[#{@_NONE_TOGGLE_ATTRIBUTE}]\"\n  @_ACTIVE_CSS_CLASS: 'dropdown-active'\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: [\n      @_TOGGLE_ATTRIBUTE\n      @_NONE_TOGGLE_ATTRIBUTE\n      @_STANDALONE_ATTRIBUTE\n    ]\n\n  @_$focused: []\n\n  activate: ->\n    unless @_isActive()\n      @_$component.classList.add @constructor._ACTIVE_CSS_CLASS\n      @constructor._$focused.push document.activeElement\n      @_parent?.activate()\n      luda.dispatch(@_$component, @constructor._ACTIVATED_EVENT_TYPE)\n\n  deactivate: (focus) ->\n    if @_isActive()\n      @_$component.classList.remove @constructor._ACTIVE_CSS_CLASS\n      @_children.forEach (child) -> child.deactivate()\n      if focus\n        @constructor._$focused[@constructor._$focused.length - 1]?.focus()\n      @constructor._$focused.splice @constructor._$focused.length - 1, 1\n      luda.dispatch(@_$component, @constructor._DEACTIVATED_EVENT_TYPE)\n\n  toggle: (focus) ->\n    if @_isActive() then @deactivate(focus) else @activate()\n\n  prev: ->\n    if @_$items.length and @_isActive()\n      focusIndex = @_$items.indexOf(document.activeElement) - 1\n      focusIndex = 0 if focusIndex < 0\n      @_$items[focusIndex].focus()\n\n  next: ->\n    if @_$items.length and @_isActive()\n      focusIndex = @_$items.indexOf(document.activeElement) + 1\n      focusIndex = @_$items.length - 1 if focusIndex > @_$items.length - 1\n      @_$items[focusIndex].focus()\n\n  _getConfig: ->\n    _$menu = luda.$child @constructor._MENU_SELECTOR, @_$component\n    _$switches = luda.$unnested( \\\n    @constructor._SWITCHES_SELECTOR, @_$component, @constructor._SELECTOR)\n    .concat(luda.$unnested \\\n    @constructor._SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\n    _$noneSwitches = luda.$unnested( \\\n    @constructor._NONE_SWITCHES_SELECTOR, \\\n    @_$component, @constructor._SELECTOR) \\\n    .concat(luda.$unnested \\\n    @constructor._NONE_SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\n    _$items = luda.$unnested \\\n    @constructor._ITEMS_SELECTOR, _$menu, @constructor._MENU_SELECTOR\n    _isStandalone = @_$component.hasAttribute @constructor._STANDALONE_ATTRIBUTE\n    {_$items, _$switches, _$noneSwitches, _isStandalone}\n\n  _constructor: ->\n    {\n      @_$items,\n      @_$switches,\n      @_$noneSwitches,\n      @_isStandalone\n    } = @_getConfig()\n\n  _onMutations: (mutations) ->\n    @_constructor()\n\n  _isActive: ->\n    @_$component.classList.contains @constructor._ACTIVE_CSS_CLASS\n\n  _deactivateChildrenExcept: (exceptions) ->\n    if exceptions and not (exceptions instanceof Array)\n      exceptions = [exceptions]\n    if exceptions\n      @_children.forEach (child) ->\n        if child._isActive() and not exceptions.includes child\n          child.deactivate()\n    else\n      @_children.forEach (child) ->\n        child.deactivate() if child._isActive()\n\n  @deactivateExcept: (instances$dropdowns) ->\n    exceptions = []\n    if instances$dropdowns and not (instances$dropdowns instanceof Array)\n      instances$dropdowns = [instances$dropdowns]\n    if instances$dropdowns\n      instances$dropdowns.forEach (instance$dropdown) =>\n        exceptions.push exception if exception = @query instance$dropdown\n    if exceptions.length\n      @_instances.forEach (instance) ->\n        instanceIsntInExceptions = not exceptions.includes instance\n        instanceHasntExceptionChild = exceptions.every (exception) ->\n          not instance._hasDescendant exception\n        if instance._isActive() \\\n        and instanceIsntInExceptions \\\n        and instanceHasntExceptionChild\n          instance.deactivate()\n    else\n      @_instances.forEach (instance) ->\n        instance.deactivate() if instance._isActive()\n\n  @_standaloneInstances: ->\n    @_instances.filter (instance) -> instance if instance._isStandalone\n\n  @_init: ->\n    self = this\n    luda.onOpposite 'click', @_SELECTOR, (e) ->\n      self.deactivateExcept self._standaloneInstances()\n    luda.on 'click', @_SELECTOR, (e) ->\n      if instance = self.query this\n        toggleChecked = false\n        focus = not e.detail\n        self.deactivateExcept(self._standaloneInstances().concat instance)\n        instance._deactivateChildrenExcept()\n        instance._parent._deactivateChildrenExcept(instance) if instance._parent\n        if instance._$switches.length or instance._$noneSwitches.length\n          luda.eventPath(e).some ($path) ->\n            if instance._$switches.includes $path\n              instance.toggle focus\n              toggleChecked = true\n            else if instance._$noneSwitches.includes $path\n              toggleChecked = true\n        instance.toggle focus unless toggleChecked\n\n    luda.onOpposite 'keyup', @_SELECTOR, (e) -> self.deactivateExcept()\n    luda.on 'keyup', @_SELECTOR, (e) ->\n      if e.keyCode is luda.KEY_TAB and instance = self.query this\n        self.deactivateExcept(instance)\n        instance.activate()\n    luda.on 'keydown', @_SELECTOR, (e) ->\n      if e.keyCode is luda.KEY_ESC and instance = self.query this\n        e.preventDefault()\n        if instance._isActive()\n          instance.deactivate true\n        else\n          instance._parent?.deactivate true\n    luda.on 'keydown', @_SELECTOR, (e) ->\n      if [luda.KEY_LEFT, luda.KEY_UP].includes(e.keyCode) \\\n      and instance = self.query this\n        e.preventDefault()\n        if instance._isActive()\n          instance.prev()\n        else\n          instance._parent?.prev()\n      else if [luda.KEY_RIGHT, luda.KEY_DOWN].includes(e.keyCode) \\\n      and instance = self.query this\n        e.preventDefault()\n        if instance._isActive()\n          instance.next()\n        else\n          instance._parent?.next()","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\nimport '../behaviors/focus.coffee'\nimport '../behaviors/enter-click.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmDropdown'\n\n  @_SELECTOR: '.fm-dropdown'\n  @_VALUE_SPLITOR: '   '\n  @_LABEL_ATTRIBUTE: 'data-fm-dropdown-label'\n  @_VALUE_SELECTOR: '.dropdown-items .btn-radio input,\n                     .dropdown-items .btn-check input'\n  @_DEFAULT_VALUE_SELECTOR: '.dropdown-items .btn-radio label,\n                             .dropdown-items .btn-check label'\n  @_VALUE_HOLDER_SELECTOR: '.fm input'\n  @_ENTER_CLICK_VALUE_HOLDER_SELECTOR: '.fm-dropdown .fm input'\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: [\n      'checked'\n      @_LABEL_ATTRIBUTE\n    ]\n\n  _getConfig: ->\n    _$values = luda.$children @constructor._VALUE_SELECTOR, @_$component\n    _$defaultValues = luda.$children \\\n    @constructor._DEFAULT_VALUE_SELECTOR, @_$component\n    _$valueHolder = luda.$child \\\n    @constructor._VALUE_HOLDER_SELECTOR, @_$component\n    {_$values, _$valueHolder, _$defaultValues}\n\n  _constructor: ->\n    {\n      @_$values,\n      @_$valueHolder,\n      @_$defaultValues\n    } = @_getConfig()\n    @_setValueHolderAttribute()\n    @_setValueHolderValue()\n\n  _onMutations: ->\n    @_constructor()\n\n  _setValueHolderValue: ->\n    values = []\n    @_$values.forEach ($value, index) =>\n      if $value.checked\n        if $value.hasAttribute @constructor._LABEL_ATTRIBUTE\n          value = $value.getAttribute @constructor._LABEL_ATTRIBUTE\n        else\n          value = @_$defaultValues[index].innerText\n      values.push value if value and not values.includes value\n    if @_$valueHolder\n      @_$valueHolder.value = values.join @constructor._VALUE_SPLITOR\n\n  _setValueHolderAttribute: ->\n    @_$valueHolder.setAttribute('readonly', '') if @_$valueHolder\n\n  @_init: ->\n    self = this\n    luda.enterClick._add @_ENTER_CLICK_VALUE_HOLDER_SELECTOR\n    luda.on 'change', \"#{@_SELECTOR} #{@_VALUE_SELECTOR}\", (e) ->\n      self.query(luda.$parent self._SELECTOR, this)._setValueHolderValue()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._setValueHolderValue()\n    # prevent ios device pop out wired navigation pannel\n    if /iphone/i.test(navigator.userAgent) or /ipad/i.test(navigator.userAgent)\n      luda.on 'focusin', @_ENTER_CLICK_VALUE_HOLDER_SELECTOR, (e) ->\n        this.blur()\n        this.classList.add luda.focus._CSS_CLASS","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'tab'\n\n  @_SELECTOR: '.tab'\n  @_PANE_SELECTOR: '.tab-pane'\n  @_INDICATOR_SELECTOR: '.tab-indicators .btn-radio input[type=radio]'\n  @_PANE_ACTIVE_CSS_CLASS: 'tab-pane-active'\n  @_ACTIVE_INDEX: 0\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\n\n  @_observerConfig:\n    childList: true\n    subtree: true\n \n  # public\n  activate: (index) ->\n    if @_$panes.length\n      activatedIndex = @_activeIndex\n      if index? \\\n      and index isnt @_activeIndex \\\n      and 0 <= index <= @_$panes.length - 1\n        @_activeIndex = index\n        @_activate(activatedIndex)\n\n  # private\n  _getConfig: ->\n    _$panes = luda.$unnested \\\n    @constructor._PANE_SELECTOR, @_$component, @constructor._SELECTOR\n    _$indicators = luda.$unnested \\\n    @constructor._INDICATOR_SELECTOR, @_$component, @constructor._SELECTOR\n    _activeIndex = @constructor._ACTIVE_INDEX\n    _$indicators.some ($indicator, index) ->\n      if $indicator.checked\n        _activeIndex = index\n        true\n    {_$panes, _$indicators, _activeIndex}\n\n  _constructor: ->\n    {\n      @_$panes,\n      @_$indicators,\n      @_activeIndex\n    } = @_getConfig()\n    @_activate()\n\n  _onMutations: (mutations) ->\n    @_constructor()\n\n  _activate: (activatedIndex) ->\n    @_$panes.forEach ($pane, index) =>\n      if index is @_activeIndex\n        $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\n        luda.dispatch($pane, @constructor._ACTIVATED_EVENT_TYPE, index)\n      else\n        $pane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\n        if index is activatedIndex\n          luda.dispatch($pane, @constructor._DEACTIVATED_EVENT_TYPE, index)\n    @_setIndicatorsState()\n\n  _setIndicatorsState: ->\n    @_$indicators.forEach ($indicator, index) =>\n      if index is @_activeIndex\n        $indicator.setAttribute 'checked', ''\n      else\n        $indicator.removeAttribute 'checked'\n\n  # static private\n  @_init: ->\n    self = this\n    luda.on 'change', @_INDICATOR_SELECTOR, (e) ->\n      if this.checked\n        instance = self.query luda.$parent self._SELECTOR, this\n        instance.activate instance._$indicators.indexOf this"]}