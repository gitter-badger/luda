{"version":3,"sources":["../../coffee/documentation.coffee"],"names":["appendAnchors","clipboard","docAsideScrollTop","initClipboard","initCode","insertSubNav","renderCode","luda","on","e","$container","$child","scrollTop","$codes","$children","forEach","$code","classList","add","outerHTML","destroy","ClipboardJS","target","trigger","nextElementSibling","clearSelection","remove","innerText","setTimeout","$titles","items","selectors","length","$title","link","id","replace","tagName","toLowerCase","innerHTML","insertAdjacentHTML"],"mappings":";;;;;2LAAA,IAAAA,cAAAC,UAAAC,kBAAAC,cAAAC,SAAAC,aAAAC,WAAAJ,kBAAoB,EAEpBK,KAAKC,GAAG,0BAA2B,SAACC,GAClC,IAAAC,WAAAA,WAAaH,KAAKI,OAAO,qBACzBT,kBAAuBQ,WAAgBA,WAAWE,UAAe,IAEnEL,KAAKC,GAAG,oBAAqB,SAACC,GAC5B,IAAAC,WAAAA,WAAaH,KAAKI,OAAO,cACzB,GAA4CD,WAA5C,QAAAA,WAAWE,UAAYV,qBAIzBD,UAAY,KAEZK,WAAa,WACX,IAAAO,OAAAA,OAASN,KAAKO,UAAU,oCACxBD,OAAOE,QAAQ,SAACC,OACdA,MAAMC,UAAUC,IAAI,mBACpBF,MAAMG,2HAGSH,MAAMG,qBAEzBhB,cAAgB,WACd,GAAuBF,UAAvB,CAAAA,UAAUmB,UACVnB,UAAY,IAAIoB,YAAY,aAAc,CACxCC,OAAQ,SAACC,gBAAYA,QAAQC,6BAE/BvB,UAAUO,GAAG,UAAW,SAACC,GACvBA,EAAEgB,iBACFhB,EAAEc,QAAQN,UAAUS,OAAO,SAC3BjB,EAAEc,QAAQI,UAAY,UACtBlB,EAAEc,QAAQN,UAAUC,IAAI,eACxBT,EAAEc,QAAQN,UAAUS,OAAO,wBAC3BE,WAAW,WACTnB,EAAEc,QAAQI,UAAY,OACtBlB,EAAEc,QAAQN,UAAUC,IAAI,wBACxBT,EAAEc,QAAQN,UAAUS,OAAO,gBAC3B,QAENtB,SAAW,WACTE,oBACAH,iBAEFI,KAAKC,GAAG,WAAYJ,UACpBG,KAAKC,GAAG,oBAAqBJ,UAI7BC,aAAe,WACb,IAAAwB,QAAAC,MAAAC,UAAAA,UAAY,oEAGZF,QAAUtB,KAAKO,UAAUiB,WACzBD,MAAQ,GACR,GAAGD,QAAQG,OAAX,CACEH,QAAQd,QAAQ,SAACkB,QACf,IAAAC,KAAAA,kBAAoBD,OAAOE,gEAEzBF,OAAON,UAAUS,QAAQ,KAAM,IAAIA,QAAQ,aAAc,UAC3D,OAAOH,OAAOI,QAAQC,eAAtB,IACO,YACHR,oDAAsDI,WAF1D,IAGO,YACHJ,uDAAyDI,WAJ7D,eAMIJ,wDAA0DI,qBAChE3B,KAAKI,OAAO,2BAA2B4B,UAAYT,QAEvDvB,KAAKC,GAAG,WAAYH,cACpBE,KAAKC,GAAG,oBAAqBH,cAI7BL,cAAgB,WACd,IAAA6B,QAAAE,UAAAA,UAAY,2LAKZF,QAAUtB,KAAKO,UAAUiB,WACzB,GAAGF,QAAQG,OAAX,QACEH,QAAQd,QAAQ,SAACkB,QACf,IAAAC,KAAAD,OAAOhB,UAAUC,IAAI,YACrBe,OAAOhB,UAAUC,IAAI,OACrBgB,kBAAoBD,OAAOE,oFAE3BF,OAAOO,mBAAmB,aAAcN,UAE9C3B,KAAKC,GAAG,WAAYR,eACpBO,KAAKC,GAAG,oBAAqBR","sourcesContent":["docAsideScrollTop = 0\n\nluda.on 'turbolinks:before-visit', (e) ->\n  $container = luda.$child '#doc-aside'\n  docAsideScrollTop = if $container then $container.scrollTop else 0\n\nluda.on 'turbolinks:render', (e) ->\n  $container = luda.$child '#doc-aside'\n  $container.scrollTop = docAsideScrollTop if $container\n\n\n\nclipboard = null\n\nrenderCode = ->\n  $codes = luda.$children '.highlight:not(.rendered)'\n  $codes.forEach ($code) ->\n    $code.classList.add 'rendered'\n    $code.outerHTML = \"<div class='rel'>\\\n    <button type='button' \\\n    class='code-copy abs-r abs-t btn btn-small btn-secondary'>\\\n    Copy</button>#{$code.outerHTML}</div>\"\n\ninitClipboard = ->\n  clipboard.destroy() if clipboard\n  clipboard = new ClipboardJS('.code-copy', {\n    target: (trigger) -> trigger.nextElementSibling\n  })\n  clipboard.on 'success', (e) ->\n    e.clearSelection()\n    e.trigger.classList.remove 'focus'\n    e.trigger.innerText = 'Copied!'\n    e.trigger.classList.add 'btn-primary'\n    e.trigger.classList.remove 'btn-secondary'\n    setTimeout ->\n      e.trigger.innerText = 'Copy'\n      e.trigger.classList.add 'btn-secondary'\n      e.trigger.classList.remove 'btn-primary'\n    , 2000\n\ninitCode = ->\n  renderCode()\n  initClipboard()\n\nluda.on 'docready', initCode\nluda.on 'turbolinks:render', initCode\n\n\n\ninsertSubNav = ->\n  selectors = '#doc-container h2[id],\\\n  #doc-container h3[id],\\\n  #doc-container h4[id]'\n  $titles = luda.$children selectors\n  items = ''\n  if $titles.length\n    $titles.forEach ($title) ->\n      link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n      class='doc-sub-nav-item td-none'>\\\n      #{$title.innerText.replace(/^#/, '').replace(/modifier$/i, '')}</a>\"\n      switch $title.tagName.toLowerCase()\n        when 'h2'\n          items += \"<p class='mt-small py-none text-ellipsis'>#{link}</p>\"\n        when 'h3'\n          items += \"<p class='p6 pl-small py-none text-ellipsis'>#{link}</p>\"\n        else\n          items += \"<p class='p6 pl-medium py-none text-ellipsis'>#{link}</p>\"\n    luda.$child('#doc-sub-nav .nav-items').innerHTML = items\n\nluda.on 'docready', insertSubNav\nluda.on 'turbolinks:render', insertSubNav\n\n\n\nappendAnchors = ->\n  selectors = '#doc-container h2[id]:not(.rendered),\\\n  #doc-container h3[id]:not(.rendered),\\\n  #doc-container h4[id]:not(.rendered),\\\n  #doc-container h5[id]:not(.rendered),\\\n  #doc-container h6[id]:not(.rendered)'\n  $titles = luda.$children selectors\n  if $titles.length\n    $titles.forEach ($title) ->\n      $title.classList.add 'rendered'\n      $title.classList.add 'rel'\n      link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n      class='doc-anchor abs td-none c-primary'>#</a>\"\n      $title.insertAdjacentHTML 'afterBegin', link\n\nluda.on 'docready', appendAnchors\nluda.on 'turbolinks:render', appendAnchors"]}