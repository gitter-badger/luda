{"version":3,"file":"site.js","sources":["../../coffee/documentation.coffee"],"sourcesContent":["docAsideScrollTop = 0\n\nluda.on 'turbolinks:before-visit', (e) ->\n  $container = luda.$child '#doc-aside'\n  docAsideScrollTop = if $container then $container.scrollTop else 0\n\nluda.on 'turbolinks:render', (e) ->\n  $container = luda.$child '#doc-aside'\n  $container.scrollTop = docAsideScrollTop if $container\n\n\n\nclipboard = null\n\nrenderCode = ->\n  $codes = luda.$children '.highlight:not(.rendered)'\n  $codes.forEach ($code) ->\n    $code.classList.add 'rendered'\n    $code.outerHTML = \"<div class='rel'>\\\n    <button type='button' \\\n    class='code-copy abs-r abs-t btn btn-small btn-secondary'>\\\n    Copy</button>#{$code.outerHTML}</div>\"\n\ninitClipboard = ->\n  clipboard.destroy() if clipboard\n  clipboard = new ClipboardJS('.code-copy', {\n    target: (trigger) -> trigger.nextElementSibling\n  })\n  clipboard.on 'success', (e) ->\n    e.clearSelection()\n    e.trigger.classList.remove 'focus'\n    e.trigger.innerText = 'Copied!'\n    e.trigger.classList.add 'btn-primary'\n    e.trigger.classList.remove 'btn-secondary'\n    setTimeout ->\n      e.trigger.innerText = 'Copy'\n      e.trigger.classList.add 'btn-secondary'\n      e.trigger.classList.remove 'btn-primary'\n    , 2000\n\ninitCode = ->\n  renderCode()\n  initClipboard()\n\nluda.on 'docready', initCode\nluda.on 'turbolinks:render', initCode\n\n\n\ninsertSubNav = ->\n  selectors = '#doc-container h2[id],\\\n  #doc-container h3[id],\\\n  #doc-container h4[id]'\n  $titles = luda.$children selectors\n  items = ''\n  if $titles.length\n    $titles.forEach ($title) ->\n      link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n      class='doc-sub-nav-item td-none'>\\\n      #{$title.innerText.replace(/^#/, '').replace(/modifier$/i, '')}</a>\"\n      switch $title.tagName.toLowerCase()\n        when 'h2'\n          items += \"<p class='mt-small py-none text-ellipsis'>#{link}</p>\"\n        when 'h3'\n          items += \"<p class='p6 pl-small py-none text-ellipsis'>#{link}</p>\"\n        else\n          items += \"<p class='p6 pl-medium py-none text-ellipsis'>#{link}</p>\"\n    luda.$child('#doc-sub-nav .nav-items').innerHTML = items\n\nluda.on 'docready', insertSubNav\nluda.on 'turbolinks:render', insertSubNav\n\n\n\nappendAnchors = ->\n  selectors = '#doc-container h2[id]:not(.rendered),\\\n  #doc-container h3[id]:not(.rendered),\\\n  #doc-container h4[id]:not(.rendered),\\\n  #doc-container h5[id]:not(.rendered),\\\n  #doc-container h6[id]:not(.rendered)'\n  $titles = luda.$children selectors\n  if $titles.length\n    $titles.forEach ($title) ->\n      $title.classList.add 'rendered'\n      $title.classList.add 'rel'\n      link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n      class='doc-anchor abs td-none c-primary'>#</a>\"\n      $title.insertAdjacentHTML 'afterBegin', link\n\nluda.on 'docready', appendAnchors\nluda.on 'turbolinks:render', appendAnchors"],"names":[],"mappings":";;;;;;;;;;;EAAA,IAAA,aAAA,EAAA,SAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,QAAA,EAAA,YAAA,EAAA;;EAAA,iBAAA,GAAoB;;EAEpB,IAAI,CAAC,EAAL,CAAQ,yBAAR,EAAmC,SAAC,CAAD;EACjC,MAAA;IAAA,UAAA,GAAa,IAAI,CAAC,MAAL,CAAY,YAAZ;WACb,iBAAA,GAAuB,UAAH,GAAmB,UAAU,CAAC,SAA9B,GAA6C;EAFhC,CAAnC;;EAIA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,SAAC,CAAD;EAC3B,MAAA;IAAA,UAAA,GAAa,IAAI,CAAC,MAAL,CAAY,YAAZ;IACb,IAA4C,UAA5C;aAAA,UAAU,CAAC,SAAX,GAAuB,kBAAvB;;EAF2B,CAA7B;;EAMA,SAAA,GAAY;;EAEZ,UAAA,GAAa;EACX,MAAA;IAAA,MAAA,GAAS,IAAI,CAAC,SAAL,CAAe,2BAAf;WACT,MAAM,CAAC,OAAP,CAAe,SAAC,KAAD;MACb,KAAK,CAAC,SAAS,CAAC,GAAhB,CAAoB,UAApB;aACA,KAAK,CAAC,SAAN,GAAkB,CAAA,8GAAA,EAGH,KAAK,CAAC,SAHH,CAGa,MAHb;KAFpB;EAFW;;EASb,aAAA,GAAgB;IACd,IAAuB,SAAvB;MAAA,SAAS,CAAC,OAAV,GAAA;;IACA,SAAA,GAAY,IAAI,WAAJ,CAAgB,YAAhB,EAA8B;MACxC,MAAA,EAAQ,SAAC,OAAD;eAAa,OAAO,CAAC;;KADnB;WAGZ,SAAS,CAAC,EAAV,CAAa,SAAb,EAAwB,SAAC,CAAD;MACtB,CAAC,CAAC,cAAF;MACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,OAA3B;MACA,CAAC,CAAC,OAAO,CAAC,SAAV,GAAsB;MACtB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAApB,CAAwB,aAAxB;MACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,eAA3B;aACA,UAAA,CAAW;QACT,CAAC,CAAC,OAAO,CAAC,SAAV,GAAsB;QACtB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAApB,CAAwB,eAAxB;eACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,aAA3B;OAHF,EAIE,IAJF;KANF;EALc;;EAiBhB,QAAA,GAAW;IACT,UAAA;WACA,aAAA;EAFS;;EAIX,IAAI,CAAC,EAAL,CAAQ,UAAR,EAAoB,QAApB;;EACA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,QAA7B;;EAIA,YAAA,GAAe;EACb,MAAA,OAAA,EAAA,KAAA,EAAA;IAAA,SAAA,GAAY;IAGZ,OAAA,GAAU,IAAI,CAAC,SAAL,CAAe,SAAf;IACV,KAAA,GAAQ;IACR,IAAG,OAAO,CAAC,MAAX;MACE,OAAO,CAAC,OAAR,CAAgB,SAAC,MAAD;EACd,UAAA;QAAA,IAAA,GAAO,CAAA,UAAA,EAAa,MAAM,CAAC,EAApB,CAAuB,2DAAvB,EAEL,MAAM,CAAC,SAAS,CAAC,OAAjB,CAAyB,IAAzB,EAA+B,EAA/B,CAAkC,CAAC,OAAnC,CAA2C,YAA3C,EAAyD,EAAzD,CAFK,CAEwD,IAFxD;EAGP,cAAO,MAAM,CAAC,OAAO,CAAC,WAAf,EAAP;EAAA,aACO,IADP;mBAEI,KAAA,IAAS,CAAA,0CAAA,EAA6C,IAA7C,CAAkD,IAAlD;EAFb,aAGO,IAHP;mBAII,KAAA,IAAS,CAAA,6CAAA,EAAgD,IAAhD,CAAqD,IAArD;EAJb;mBAMI,KAAA,IAAS,CAAA,8CAAA,EAAiD,IAAjD,CAAsD,IAAtD;EANb;OAJF;aAWA,IAAI,CAAC,MAAL,CAAY,yBAAZ,CAAsC,CAAC,SAAvC,GAAmD,MAZrD;;EANa;;EAoBf,IAAI,CAAC,EAAL,CAAQ,UAAR,EAAoB,YAApB;;EACA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,YAA7B;;EAIA,aAAA,GAAgB;EACd,MAAA,OAAA,EAAA;IAAA,SAAA,GAAY;IAKZ,OAAA,GAAU,IAAI,CAAC,SAAL,CAAe,SAAf;IACV,IAAG,OAAO,CAAC,MAAX;aACE,OAAO,CAAC,OAAR,CAAgB,SAAC,MAAD;EACd,UAAA;QAAA,MAAM,CAAC,SAAS,CAAC,GAAjB,CAAqB,UAArB;QACA,MAAM,CAAC,SAAS,CAAC,GAAjB,CAAqB,KAArB;QACA,IAAA,GAAO,CAAA,UAAA,EAAa,MAAM,CAAC,EAApB,CAAuB,wEAAvB;eAEP,MAAM,CAAC,kBAAP,CAA0B,YAA1B,EAAwC,IAAxC;OALF,EADF;;EAPc;;EAehB,IAAI,CAAC,EAAL,CAAQ,UAAR,EAAoB,aAApB;;EACA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,aAA7B;;;;"}