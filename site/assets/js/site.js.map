{"version":3,"file":"site.js","sources":["../../coffee/documentation.coffee"],"sourcesContent":["docAsideScrollTop = 0\r\n\r\nluda.on 'turbolinks:before-visit', (e) ->\r\n  $container = luda.$child '#doc-aside'\r\n  docAsideScrollTop = if $container then $container.scrollTop else 0\r\n\r\nluda.on 'turbolinks:render', (e) ->\r\n  $container = luda.$child '#doc-aside'\r\n  $container.scrollTop = docAsideScrollTop if $container\r\n\r\n\r\n\r\nclipboard = null\r\n\r\nrenderCode = ->\r\n  $codes = luda.$children '.highlight:not(.rendered)'\r\n  $codes.forEach ($code) ->\r\n    $code.classList.add 'rendered'\r\n    $code.outerHTML = \"<div class='rel'>\\\r\n    <button type='button' \\\r\n    class='code-copy abs-r abs-t btn btn-small btn-secondary'>\\\r\n    Copy</button>#{$code.outerHTML}</div>\"\r\n\r\ninitClipboard = ->\r\n  clipboard.destroy() if clipboard\r\n  clipboard = new ClipboardJS('.code-copy', {\r\n    target: (trigger) -> trigger.nextElementSibling\r\n  })\r\n  clipboard.on 'success', (e) ->\r\n    e.clearSelection()\r\n    e.trigger.classList.remove 'focus'\r\n    e.trigger.innerText = 'Copied!'\r\n    e.trigger.classList.add 'btn-primary'\r\n    e.trigger.classList.remove 'btn-secondary'\r\n    setTimeout ->\r\n      e.trigger.innerText = 'Copy'\r\n      e.trigger.classList.add 'btn-secondary'\r\n      e.trigger.classList.remove 'btn-primary'\r\n    , 2000\r\n\r\ninitCode = ->\r\n  renderCode()\r\n  initClipboard()\r\n\r\nluda.on 'docready', initCode\r\nluda.on 'turbolinks:render', initCode\r\n\r\n\r\n\r\nappendAnchors = ->\r\n  selectors = '#doc-container h1[id]:not(.rendered),\\\r\n  #doc-container h2[id]:not(.rendered),\\\r\n  #doc-container h3[id]:not(.rendered),\\\r\n  #doc-container h4[id]:not(.rendered),\\\r\n  #doc-container h5[id]:not(.rendered),\\\r\n  #doc-container h6[id]:not(.rendered)'\r\n  $titles = luda.$children selectors\r\n  $titles.forEach ($title) ->\r\n    $title.classList.add 'rendered'\r\n    $title.classList.add 'rel'\r\n    link = \"<a href='##{$title.id}' data-turbolinks='false' class='doc-anchor abs td-none c-primary'>#</a>\"\r\n    $title.insertAdjacentHTML 'afterBegin', link\r\n\r\nluda.on 'docready', appendAnchors\r\nluda.on 'turbolinks:render', appendAnchors"],"names":[],"mappings":";;;;;;;;;;;EAAA,IAAA,aAAA,EAAA,SAAA,EAAA,iBAAA,EAAA,aAAA,EAAA,QAAA,EAAA;;EAAA,iBAAA,GAAoB;;EAEpB,IAAI,CAAC,EAAL,CAAQ,yBAAR,EAAmC,SAAC,CAAD;EACjC,MAAA;IAAA,UAAA,GAAa,IAAI,CAAC,MAAL,CAAY,YAAZ;WACb,iBAAA,GAAuB,UAAH,GAAmB,UAAU,CAAC,SAA9B,GAA6C;EAFhC,CAAnC;;EAIA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,SAAC,CAAD;EAC3B,MAAA;IAAA,UAAA,GAAa,IAAI,CAAC,MAAL,CAAY,YAAZ;IACb,IAA4C,UAA5C;aAAA,UAAU,CAAC,SAAX,GAAuB,kBAAvB;;EAF2B,CAA7B;;EAMA,SAAA,GAAY;;EAEZ,UAAA,GAAa;EACX,MAAA;IAAA,MAAA,GAAS,IAAI,CAAC,SAAL,CAAe,2BAAf;WACT,MAAM,CAAC,OAAP,CAAe,SAAC,KAAD;MACb,KAAK,CAAC,SAAS,CAAC,GAAhB,CAAoB,UAApB;aACA,KAAK,CAAC,SAAN,GAAkB,CAAA,8GAAA,EAGH,KAAK,CAAC,SAHH,CAGa,MAHb;KAFpB;EAFW;;EASb,aAAA,GAAgB;IACd,IAAuB,SAAvB;MAAA,SAAS,CAAC,OAAV,GAAA;;IACA,SAAA,GAAY,IAAI,WAAJ,CAAgB,YAAhB,EAA8B;MACxC,MAAA,EAAQ,SAAC,OAAD;eAAa,OAAO,CAAC;;KADnB;WAGZ,SAAS,CAAC,EAAV,CAAa,SAAb,EAAwB,SAAC,CAAD;MACtB,CAAC,CAAC,cAAF;MACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,OAA3B;MACA,CAAC,CAAC,OAAO,CAAC,SAAV,GAAsB;MACtB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAApB,CAAwB,aAAxB;MACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,eAA3B;aACA,UAAA,CAAW;QACT,CAAC,CAAC,OAAO,CAAC,SAAV,GAAsB;QACtB,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,GAApB,CAAwB,eAAxB;eACA,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,MAApB,CAA2B,aAA3B;OAHF,EAIE,IAJF;KANF;EALc;;EAiBhB,QAAA,GAAW;IACT,UAAA;WACA,aAAA;EAFS;;EAIX,IAAI,CAAC,EAAL,CAAQ,UAAR,EAAoB,QAApB;;EACA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,QAA7B;;EAIA,aAAA,GAAgB;EACd,MAAA,OAAA,EAAA;IAAA,SAAA,GAAY;IAMZ,OAAA,GAAU,IAAI,CAAC,SAAL,CAAe,SAAf;WACV,OAAO,CAAC,OAAR,CAAgB,SAAC,MAAD;EACd,QAAA;MAAA,MAAM,CAAC,SAAS,CAAC,GAAjB,CAAqB,UAArB;MACA,MAAM,CAAC,SAAS,CAAC,GAAjB,CAAqB,KAArB;MACA,IAAA,GAAO,CAAA,UAAA,EAAa,MAAM,CAAC,EAApB,CAAuB,wEAAvB;aACP,MAAM,CAAC,kBAAP,CAA0B,YAA1B,EAAwC,IAAxC;KAJF;EARc;;EAchB,IAAI,CAAC,EAAL,CAAQ,UAAR,EAAoB,aAApB;;EACA,IAAI,CAAC,EAAL,CAAQ,mBAAR,EAA6B,aAA7B;;;;"}