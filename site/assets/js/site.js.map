{"version":3,"file":"site.js","sources":["../../coffee/documentation.coffee","../../coffee/theme.coffee"],"sourcesContent":["(->\n  docAsideScrollTop = 0\n\n  luda.on 'turbolinks:before-visit', (e) ->\n    $container = luda.$child '#doc-aside'\n    docAsideScrollTop = if $container then $container.scrollTop else 0\n\n  luda.on 'turbolinks:render', (e) ->\n    $container = luda.$child '#doc-aside'\n    $container.scrollTop = docAsideScrollTop if $container\n\n\n\n  clipboard = null\n\n  renderCode = ->\n    $codes = luda.$children '.highlight:not(.rendered)'\n    $codes.forEach ($code) ->\n      $code.classList.add 'rendered'\n      $code.outerHTML = \"<div class='rel'>\\\n      <button type='button' \\\n      class='code-copy abs-r abs-t btn btn-small btn-secondary'>\\\n      Copy</button>#{$code.outerHTML}</div>\"\n\n  initClipboard = ->\n    clipboard.destroy() if clipboard\n    clipboard = new ClipboardJS('.code-copy', {\n      target: (trigger) -> trigger.nextElementSibling\n    })\n    clipboard.on 'success', (e) ->\n      e.clearSelection()\n      e.trigger.classList.remove 'focus'\n      e.trigger.innerText = 'Copied!'\n      e.trigger.classList.add 'btn-primary'\n      e.trigger.classList.remove 'btn-secondary'\n      setTimeout ->\n        e.trigger.innerText = 'Copy'\n        e.trigger.classList.add 'btn-secondary'\n        e.trigger.classList.remove 'btn-primary'\n      , 2000\n\n  initCode = ->\n    renderCode()\n    initClipboard()\n\n  luda.on 'docready', initCode\n  luda.on 'turbolinks:render', initCode\n\n\n\n  insertSubNav = ->\n    selectors = '#doc-container h2[id],\\\n    #doc-container h3[id],\\\n    #doc-container h4[id]'\n    $titles = luda.$children selectors\n    items = ''\n    if $titles.length\n      $titles.forEach ($title) ->\n        link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n        class='doc-sub-nav-item td-none'>\\\n        #{$title.innerText.replace(/^#/, '').replace(/modifier$/i, '')}</a>\"\n        switch $title.tagName.toLowerCase()\n          when 'h2'\n            items += \"<p class='mt-small py-none text-ellipsis'>#{link}</p>\"\n          when 'h3'\n            items += \"<p class='p6 pl-small py-none text-ellipsis'>#{link}</p>\"\n          else\n            items += \"<p class='p6 pl-medium py-none text-ellipsis'>#{link}</p>\"\n      luda.$child('#doc-sub-nav .nav-items').innerHTML = items\n\n  luda.on 'docready', insertSubNav\n  luda.on 'turbolinks:render', insertSubNav\n\n\n\n  appendAnchors = ->\n    selectors = '#doc-container h2[id]:not(.rendered),\\\n    #doc-container h3[id]:not(.rendered),\\\n    #doc-container h4[id]:not(.rendered),\\\n    #doc-container h5[id]:not(.rendered),\\\n    #doc-container h6[id]:not(.rendered)'\n    $titles = luda.$children selectors\n    if $titles.length\n      $titles.forEach ($title) ->\n        $title.classList.add 'rendered'\n        $title.classList.add 'rel'\n        link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n        class='doc-anchor abs td-none c-primary'>#</a>\"\n        $title.insertAdjacentHTML 'afterBegin', link\n\n  luda.on 'docready', appendAnchors\n  luda.on 'turbolinks:render', appendAnchors\n)()","(->\r\n  THEME_ID = 'luda-theme'\r\n  isChanging = false\r\n\r\n  changeTheme = (themeName, callback) ->\r\n\r\n    unless isChanging\r\n      isChanging = true\r\n      $currentTheme = luda.$child \"##{THEME_ID}\"\r\n      currentThemeHref = $currentTheme.href\r\n      currentThemeName = currentThemeHref.match(/luda-(.*)\\.min\\.css/)[1]\r\n\r\n      $theme = document.createElement 'link'\r\n      $theme.rel = 'stylesheet'\r\n      $theme.type = 'text/css'\r\n      $theme.dataset.turbolinksPermanent = ''\r\n      $theme.id = THEME_ID\r\n      $theme.href = currentThemeHref.replace currentThemeName, themeName\r\n      $currentTheme.remove()\r\n      document.head.insertAdjacentElement 'afterbegin', $theme\r\n      $theme.onload = ->\r\n        isChanging = false\r\n        callback() if callback\r\n\r\n  currentTheme = 'default'\r\n\r\n  luda.on 'click', '.change-theme', (e) ->\r\n    themeName = this.dataset.theme\r\n    unless themeName is currentTheme\r\n      changeThemeFn = ->\r\n        changeTheme themeName, ->\r\n          currentTheme = themeName\r\n          document.body.classList.remove 'changing-theme'\r\n      document.body.classList.add 'changing-theme'\r\n      setTimeout changeThemeFn, 600\r\n)()"],"names":[],"mappings":"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"}