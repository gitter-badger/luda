{"version":3,"file":"site.js","sources":["../../coffee/documentation.coffee","../../coffee/theme.coffee"],"sourcesContent":["(->\n  docAsideScrollTop = 0\n\n  luda.on 'turbolinks:before-visit', (e) ->\n    $container = luda.$child '#doc-aside'\n    docAsideScrollTop = if $container then $container.scrollTop else 0\n\n  luda.on 'turbolinks:render', (e) ->\n    $container = luda.$child '#doc-aside'\n    $container.scrollTop = docAsideScrollTop if $container\n\n\n\n  clipboard = null\n\n  renderCode = ->\n    $codes = luda.$children '.highlight:not(.rendered)'\n    $codes.forEach ($code) ->\n      $code.classList.add 'rendered'\n      $code.outerHTML = \"<div class='rel'>\\\n      <button type='button' \\\n      class='code-copy abs-r abs-t btn btn-small btn-secondary'>\\\n      Copy</button>#{$code.outerHTML}</div>\"\n\n  initClipboard = ->\n    clipboard.destroy() if clipboard\n    clipboard = new ClipboardJS('.code-copy', {\n      target: (trigger) -> trigger.nextElementSibling\n    })\n    clipboard.on 'success', (e) ->\n      e.clearSelection()\n      e.trigger.classList.remove 'focus'\n      e.trigger.innerText = 'Copied!'\n      e.trigger.classList.add 'btn-primary'\n      e.trigger.classList.remove 'btn-secondary'\n      setTimeout ->\n        e.trigger.innerText = 'Copy'\n        e.trigger.classList.add 'btn-secondary'\n        e.trigger.classList.remove 'btn-primary'\n      , 2000\n\n  initCode = ->\n    renderCode()\n    initClipboard()\n\n  luda.on 'docready', initCode\n  luda.on 'turbolinks:render', initCode\n\n\n\n  insertSubNav = ->\n    selectors = '#doc-container h2[id],\\\n    #doc-container h3[id],\\\n    #doc-container h4[id]'\n    $titles = luda.$children selectors\n    items = ''\n    if $titles.length\n      $titles.forEach ($title) ->\n        link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n        class='doc-sub-nav-item td-none'>\\\n        #{$title.innerText.replace(/^#/, '').replace(/modifier$/i, '')}</a>\"\n        switch $title.tagName.toLowerCase()\n          when 'h2'\n            items += \"<p class='mt-small py-none text-ellipsis'>#{link}</p>\"\n          when 'h3'\n            items += \"<p class='p6 pl-small py-none text-ellipsis'>#{link}</p>\"\n          else\n            items += \"<p class='p6 pl-medium py-none text-ellipsis'>#{link}</p>\"\n      luda.$child('#doc-sub-nav .nav-items').innerHTML = items\n\n  luda.on 'docready', insertSubNav\n  luda.on 'turbolinks:render', insertSubNav\n\n\n\n  appendAnchors = ->\n    selectors = '#doc-container h2[id]:not(.rendered),\\\n    #doc-container h3[id]:not(.rendered),\\\n    #doc-container h4[id]:not(.rendered),\\\n    #doc-container h5[id]:not(.rendered),\\\n    #doc-container h6[id]:not(.rendered)'\n    $titles = luda.$children selectors\n    if $titles.length\n      $titles.forEach ($title) ->\n        $title.classList.add 'rendered'\n        $title.classList.add 'rel'\n        link = \"<a href='##{$title.id}' data-turbolinks='false' \\\n        class='doc-anchor abs td-none c-primary'>#</a>\"\n        $title.insertAdjacentHTML 'afterBegin', link\n\n  luda.on 'docready', appendAnchors\n  luda.on 'turbolinks:render', appendAnchors\n)()","(->\n  THEME_ID = 'luda-theme'\n  CHANGING_CLASS = 'changing-theme'\n  TRIGGER_SELECTOR = '.change-theme'\n  THEME_NAME_ATTRIBUTE = 'data-theme'\n  isChanging = false\n  theme = 'default'\n\n  loadTheme = (callback) ->\n\n    $theme = luda.$child \"##{THEME_ID}\"\n    themeHref = $theme.getAttribute 'href'\n    oldTheme = themeHref.match(/luda-(.*)\\.min\\.css/)[1]\n    themeHref = themeHref.replace oldTheme, theme\n    $theme.href = themeHref\n    $theme.onload = callback\n\n  luda.on 'click', TRIGGER_SELECTOR, (e) ->\n    newTheme = this.getAttribute THEME_NAME_ATTRIBUTE\n    unless isChanging or newTheme is theme\n      isChanging = true\n      theme = newTheme\n      document.body.classList.add CHANGING_CLASS\n      setTimeout(->\n        loadTheme ->\n          document.body.classList.remove CHANGING_CLASS\n          setTimeout(->\n            isChanging = false\n          , 500)\n      , 500)\n\n  # luda.on 'turbolinks:before-render', (e) ->\n    # window.newBody = e.data.newBody\n    # console.log e.data.newBody.parentNode\n    # themeHref = luda.$child(\"##{THEME_ID}\").getAttribute 'href'\n    # $theme = e.data.newBody.querySelector(\"##{THEME_ID}\")\n    # $theme.href = themeHref\n)()"],"names":[],"mappings":"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"}