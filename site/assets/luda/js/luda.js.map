{"version":3,"file":"luda.js","sources":["../../src/coffee/install.coffee","../../src/coffee/constants.coffee","../../src/coffee/dom.coffee","../../src/coffee/event.coffee","../../src/coffee/utilities.coffee","../../src/coffee/static.coffee","../../src/coffee/behaviors/enter.coffee","../../src/coffee/behaviors/focus.coffee","../../src/coffee/behaviors/tabulate.coffee","../../src/coffee/factory.coffee","../../src/coffee/behaviors/readonly.coffee","../../src/coffee/behaviors/toggle.coffee","../../src/coffee/elements/form-file.coffee","../../src/coffee/elements/form-select.coffee","../../src/coffee/patterns/carousel.coffee","../../src/coffee/patterns/dropdown.coffee","../../src/coffee/patterns/form-dropdown.coffee","../../src/coffee/patterns/tab.coffee"],"sourcesContent":["ENV = (->\n  if typeof document isnt 'undefined'\n    return window if typeof window isnt 'undefined'\n    return global if typeof global isnt 'undefined'\n  throw new Error 'Unsupported runtime environment.'\n)()\n\n\n\nunless typeof ENV.luda is 'function'\n  ENV.luda = (installer) ->\n    throw new Error 'Installer cannot be detected.' unless installer\n    unless ['object', 'function'].includes typeof installer\n      throw new Error 'Installer must be object, array or function.'\n    if installer.hasOwnProperty '_SCOPE'\n      unless typeof installer._SCOPE is 'string'\n        throw new Error '_SCOPE must be string'\n      return ENV.luda._install installer._SCOPE, installer\n    if installer instanceof Array or typeof installer is 'function'\n      throw new Error 'Unscoped installer must be object.'\n    installed = {}\n    for name, property of installer\n      installed[name] = ENV.luda._install name, property\n    installed\n\n  ENV.luda._install = (namespace, installer) ->\n    if ENV.luda[namespace]\n      console.warn \"Namespace #{namespace} is ocupied, sikp installation.\"\n      return ENV.luda[namespace]\n    for installedName, installedInstaller of ENV.luda\n      if installer is installedInstaller\n        console.warn \"Installer is installed with name #{installedName},\n                      skip installation.\"\n        return ENV.luda[installedName]\n    if installer._install\n      if typeof installer._install is 'function'\n        return ENV.luda[namespace] = installer._install()\n      return ENV.luda[namespace] = installer._install\n    ENV.luda[namespace] = installer","import './install.coffee'\n\n\n\nluda\n\n  KEY_LEFT: 37\n  KEY_UP: 38\n  KEY_RIGHT: 39\n  KEY_DOWN: 40\n  KEY_TAB: 9\n  KEY_ESC: 27\n  KEY_ENTER: 13","import './install.coffee'\r\n\r\n\r\n\r\nluda\r\n \r\n  $child: (selector, $ancestor) ->\r\n    $ancestor = document unless $ancestor\r\n    $ancestor.querySelector selector\r\n\r\n  $children: (selector, $ancestor) ->\r\n    $ancestor = document unless $ancestor\r\n    $descendant = @$child selector, $ancestor\r\n    if $descendant\r\n      descendants = Array.from($ancestor.querySelectorAll selector)\r\n    else\r\n      descendants = []\r\n\r\n  $unnested: (selector, $ancestor, ancestorSelector) ->\r\n    descendants = @$children selector, $ancestor\r\n    descendants.filter ($descendant) =>\r\n      $descendant if @$parent(ancestorSelector, $descendant) is $ancestor\r\n\r\n  $parent: (selector, $descendant) ->\r\n    $ancestor = $descendant.parentNode\r\n    if $ancestor\r\n      if $ancestor.matches and $ancestor.matches selector\r\n        $ancestor\r\n      else\r\n        @$parent selector, $ancestor\r\n\r\n  $parents: (selector, $descendant, _ancestors) ->\r\n    $ancestor = @$parent selector, $descendant\r\n    _ancestors = [] unless _ancestors\r\n    if $ancestor\r\n      _ancestors.push($ancestor)\r\n      @$parents selector, $ancestor, _ancestors\r\n    else\r\n      _ancestors\r\n\r\n  $after: ($node, $target) ->\r\n    $parent = $target.parentNode\r\n    if $parent.lastChild is $target\r\n      $parent.appendChild $node\r\n    else\r\n      $parent.insertBefore $node, $target.nextSibling\r\n\r\n  $prepend: ($node, $target) ->\r\n    if $target.firstChild\r\n      $target.insertBefore $node, $target.firstChild\r\n    else\r\n      $target.appendChild $node\r\n\r\n  reflow: ($element) -> $element.offsetHeight\r\n\r\n  _getTransitionDurations: (style, propertyLength) ->\r\n    durationArray = style.split ','\r\n    while durationArray.length < propertyLength\r\n      durationArray = durationArray.concat durationArray\r\n    if durationArray.length > propertyLength\r\n      durationArray = durationArray.slice 0, propertyLength\r\n    durationArray.map (durationStr) ->\r\n      duration = parseFloat durationStr\r\n      return 0 unless duration\r\n      if durationStr.match 'ms' then duration else duration * 1000\r\n\r\n  getTransitionDuration: ($element) ->\r\n    styles = window.getComputedStyle $element\r\n    length = styles.transitionProperty.split(',').length\r\n    return 0 unless length\r\n    delays = @_getTransitionDurations styles.transitionDelay, length\r\n    durations = @_getTransitionDurations styles.transitionDuration, length\r\n    finalDurations = durations.map (duration, index) -> duration + delays[index]\r\n    Math.max.apply null, finalDurations\r\n\r\n  _observeDom: (onNodeAdded, onNodeRemoved) ->\r\n    observerConfig =\r\n      childList: true\r\n      subtree: true\r\n    observer = new MutationObserver (mutations) ->\r\n      mutations.forEach (mutation) ->\r\n        $removedNodes = Array.from mutation.removedNodes\r\n        $addedNodes = Array.from mutation.addedNodes\r\n        $removedNodes.forEach ($node) ->\r\n          onNodeRemoved $node if $node instanceof Element and onNodeRemoved\r\n        $addedNodes.forEach ($node) ->\r\n          onNodeAdded $node if $node instanceof Element and onNodeAdded\r\n    observer.observe document.documentElement, observerConfig\r\n    observer","import './install.coffee'\nimport './dom.coffee'\n\n\n\nluda\n \n  _SWIPE_DISTANCE: 10\n  _EVENT_TYPE_PREFIX: 'luda'\n  _SWIPE_LEFT: 'swipeleft'\n  _SWIPE_RIGHT: 'swiperight'\n  _SWIPE_UP: 'swipeup'\n  _SWIPE_DOWN: 'swipedown'\n  _SWIPE_LEFT_OR_UP: 'swipeleft or swipeup'\n  _SWIPE_RIGHT_OR_DOWN: 'swiperight or swipedown'\n  _DOC_READY: 'docready'\n  _FORM_RESET: 'reset'\n\n  eventPath: (event) ->\n    if event.composedPath\n      path = event.composedPath()\n    else if event.path\n      path = event.path\n    else\n      path = [event.target].concat(luda.$parents '*', event.target)\n\n  on: (event, selector..., handler) ->\n    switch event\n      when @_DOC_READY then @_onDocReady handler\n      when @_FORM_RESET then @_onReset selector[0], handler\n      when @_SWIPE_LEFT, \\\n      @_SWIPE_RIGHT, \\\n      @_SWIPE_UP, \\\n      @_SWIPE_DOWN, \\\n      @_SWIPE_LEFT_OR_UP, \\\n      @_SWIPE_RIGHT_OR_DOWN\n      then @_onSwipe event, selector[0], handler\n      else @_on event, selector[0], handler\n\n  onOpposite: (event, selector, handler) ->\n    _self = this\n    document.addEventListener event, (e) ->\n      trigger = _self.eventPath(e).every ($element) ->\n        not $element.matches or not $element.matches selector\n      handler e if trigger\n\n  dispatch: ($target, type, detail, delayMilliseconds, options = {}) ->\n    options.bubbles = true unless typeof options.bubbles is 'boolean'\n    options.cancelable = true unless typeof options.cancelable is 'boolean'\n    options.composed = true unless typeof options.composed is 'boolean'\n    evt = new Event \"#{@_EVENT_TYPE_PREFIX}:#{type}\", options\n    evt.detail = detail\n    if typeof delayMilliseconds is 'number'\n      setTimeout ->\n        $target.dispatchEvent evt if $target\n      , delayMilliseconds\n    else\n      $target.dispatchEvent evt\n      evt\n  \n  _onDocReady: (handler) ->\n    if document.readyState is 'loading'\n      document.addEventListener 'DOMContentLoaded', handler\n    else\n      handler()\n\n  _onReset: (selector, handler) ->\n    document.addEventListener 'reset', (e) ->\n      if selector?\n        luda.$children(selector, e.target).forEach ($element) ->\n          handler.bind($element)(e)\n      else\n        handler e\n \n  _onSwipe: (event, selector, handler) ->\n    _self = this\n    watch = false\n    $touchStartElement = document\n    touchStartE = null\n    touchStartX = 0\n    touchStartY = 0\n    document.addEventListener 'touchstart', (e) ->\n      if e.touches.length is 1\n        touchStartX = e.touches[0].screenX\n        touchStartY = e.touches[0].screenY\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              $touchStartElement = $element\n              touchStartE = e\n              watch = true\n              return true\n        else\n          watch = true\n\n    document.addEventListener 'touchmove', (e) ->\n      if watch and e.touches.length is 1\n        touchDistanceX = e.touches[0].screenX - touchStartX\n        touchDistanceY = e.touches[0].screenY - touchStartY\n        eventX = undefined\n        eventY = undefined\n        eventXOrY = undefined\n        if Math.abs(touchDistanceX) >= _self._SWIPE_DISTANCE\n          if touchDistanceX > 0\n            eventX = _self._SWIPE_RIGHT\n          else\n            eventX = _self._SWIPE_LEFT\n        if Math.abs(touchDistanceY) >= _self._SWIPE_DISTANCE\n          if touchDistanceY > 0\n            eventY = _self._SWIPE_DOWN\n          else\n            eventY = _self._SWIPE_UP\n        if eventX is _self._SWIPE_LEFT \\\n        or eventY is _self._SWIPE_UP\n          eventXOrY = _self._SWIPE_LEFT_OR_UP\n        if eventX is _self._SWIPE_RIGHT \\\n        or eventY is _self._SWIPE_DOWN\n          eventXOrY = _self._SWIPE_RIGHT_OR_DOWN\n        if (eventX? and eventX is event) \\\n        or (eventY? and eventY is event) \\\n        or eventXOrY is event\n          if selector?\n            _self.eventPath(e).some ($element) ->\n              if $element is $touchStartElement\n                watch = false\n                handler.bind($element)(touchStartE, e)\n                return true\n          else\n            watch = false\n            handler touchStartE, e\n\n  _on: (event, selector, handler) ->\n    if selector is window\n      window.addEventListener event, (e) -> handler e\n    else\n      _self = this\n      document.addEventListener event, (e) ->\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              handler.bind($element)(e)\n              return true\n        else\n          handler e","import './install.coffee'\n\n\n\nluda\n \n  except: (element, arr) ->\n    arr.splice(arr.indexOf(element), 1) if arr.includes element","import './install.coffee'\r\nimport './utilities.coffee'\r\nimport './dom.coffee'\r\nimport './event.coffee'\r\n\r\n\r\n  \r\nluda class Static\r\n\r\n  @_SCOPE: 'Static'\r\n  \r\n  @_SELECTOR_INVALID_ERROR: '@param selector must be a css selector string'\r\n  @_SELECTORS: []\r\n\r\n  @_ACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:deactivated\"\r\n  @_ACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-activating\"\r\n  @_DEACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-deactivating\"\r\n\r\n  @_Observed: []\r\n  @_observer: null\r\n\r\n  @_selector: ''\r\n\r\n  @_add: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    @_SELECTORS.push selector unless @_SELECTORS.includes selector\r\n    @_mergeSelectors()\r\n\r\n  @_remove: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    luda.except selector, @_SELECTORS\r\n    @_mergeSelectors()\r\n\r\n  @_mergeSelectors: ->\r\n    @_selector = @_SELECTORS.join ','\r\n\r\n  @_activatePrevented: ($ele, detail) ->\r\n    activateEvent = luda.dispatch $ele, @_ACTIVATE_EVENT_TYPE(), detail\r\n    activateEvent.defaultPrevented\r\n\r\n  @_deactivatePrevented: ($ele, detail) ->\r\n    deactivateEvent = luda.dispatch $ele, @_DEACTIVATE_EVENT_TYPE(), detail\r\n    deactivateEvent.defaultPrevented\r\n\r\n  @_handleActivateEnd: ($ele, detail) ->\r\n    @_setActivatingMark $ele, detail\r\n    activateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch $ele, @_ACTIVATED_EVENT_TYPE(), detail, activateDuration\r\n    setTimeout =>\r\n      @_removeActivatingMark $ele if $ele\r\n    , activateDuration\r\n    activateDuration\r\n\r\n  @_handleDeactivateEnd: ($ele, detail) ->\r\n    @_setDeactivatingMark $ele, detail\r\n    deactivateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch $ele, @_DEACTIVATED_EVENT_TYPE(), detail, deactivateDuration\r\n    setTimeout =>\r\n      @_removeDeactivatingMark $ele if $ele\r\n    , deactivateDuration\r\n    deactivateDuration\r\n\r\n  @_handleActivateCancel: ($ele, detail) ->\r\n    if @_isActivating $ele\r\n      luda.dispatch $ele, @_ACTIVATED_EVENT_TYPE(), detail\r\n      @_removeActivatingMark $ele\r\n\r\n  @_handleDeactivateCancel: ($ele, detail) ->\r\n    if @_isDeactivating $ele\r\n      luda.dispatch $ele, @_DEACTIVATED_EVENT_TYPE(), detail\r\n      @_removeDeactivatingMark $ele\r\n\r\n  @_isActivating: ($ele) ->\r\n    $ele.hasAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_isDeactivating: ($ele) ->\r\n    $ele.hasAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_isTransitioning: ($ele) ->\r\n    @_isActivating($ele) or @_isDeactivating($ele)\r\n\r\n  @_getActivatingMark: ($ele) ->\r\n    $ele.getAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_getDeactivatingMark: ($ele) ->\r\n    $ele.getAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_removeActivatingMark: ($ele) ->\r\n    $ele.removeAttribute @_ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_removeDeactivatingMark: ($ele) ->\r\n    $ele.removeAttribute @_DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  @_setActivatingMark: ($ele, value) ->\r\n    $ele.setAttribute @_ACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @_setDeactivatingMark: ($ele, value) ->\r\n    $ele.setAttribute @_DEACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @_onEleAdded: ($ele) ->\r\n    Static._onEleAddedOrRemoved $ele, '_onElementAdded'\r\n\r\n  @_onEleRemoved: ($ele) ->\r\n    Static._onEleAddedOrRemoved $ele, '_onElementRemoved'\r\n\r\n  @_onEleAddedOrRemoved: ($ele, action) ->\r\n    Static._Observed.forEach (Observed) ->\r\n      return unless Observed[action]\r\n      $matched = luda.$children Observed._selector, $ele\r\n      $matched.unshift $ele if $ele.matches Observed._selector\r\n      $matched.forEach ($target) -> Observed[action] $target\r\n\r\n  @_observe: (classObj) ->\r\n    unless Static._observer\r\n      Static._observer = \\\r\n      luda._observeDom Static._onEleAdded, Static._onEleRemoved\r\n    if classObj._onElementAdded or classObj._onElementRemoved \\\r\n    and classObj._selector\r\n      unless Static._Observed.includes classObj\r\n        Static._Observed.push classObj\r\n\r\n  @_install: ->\r\n    self = this\r\n    return this if this is Static\r\n    @_SELECTORS = [] unless @hasOwnProperty '_SELECTORS'\r\n    @_mergeSelectors()\r\n    exposed = @_init() if typeof @_init is 'function'\r\n    luda.on luda._DOC_READY, -> Static._observe(self)\r\n    if exposed then exposed else this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'enter'\r\n\r\n  @_SELECTORS: [\r\n    'input[type=checkbox]'\r\n    'input[type=radio]'\r\n    '[tabindex]'\r\n  ]\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-enter-disabled'\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_ENTER \\\r\n      and e.target.matches(self._selector)\r\n        e.preventDefault()\r\n        setTimeout(-> e.target.click())","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'focus'\r\n\r\n  @_CSS_CLASS: 'focus'\r\n  # mouse focusable selectors\r\n  @_SELECTORS: ['select'\r\n                'textarea'\r\n                ':not(.btn-check):not(.btn-radio):not(.btn-file) >\r\n                 input:not([type=button]):not([type=submit]):not([type=reset])'\r\n              ]\r\n  @_TOUCHSTART_FOCUS_SELECTOR: 'input[type=range]'\r\n  @_PARENT_FOCUS_SELECTOR: 'select[multiple]'\r\n  @_PARENT_FOCUS_CHILDREN_SELECTOR: \"#{@_PARENT_FOCUS_SELECTOR} *\"\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-focus-disabled'\r\n\r\n  @_$focus: document.getElementsByClassName(@_CSS_CLASS)\r\n\r\n  @_isActive: ->\r\n    not document.documentElement.hasAttribute(@_DISABLED_ATTRIBUTE)\r\n\r\n  @_removeFocusClassExcept: ($exception) ->\r\n    Array.from(@_$focus).forEach ($focus) =>\r\n      $focus.classList.remove @_CSS_CLASS if $focus isnt $exception\r\n\r\n  @_addFocusClassExceptHtmlAndBody: ($target) ->\r\n    if $target isnt document.body and $target isnt document.documentElement\r\n      $target.classList.add @_CSS_CLASS\r\n\r\n  @_changeFocusStateOnKeyEvent: (e) ->\r\n    if @_isActive()\r\n      @_removeFocusClassExcept e.target\r\n      @_addFocusClassExceptHtmlAndBody e.target\r\n\r\n  @_changeFocusStateOnMouseDownEvent: (e) ->\r\n    if @_isActive()\r\n      if e.target.matches @_PARENT_FOCUS_CHILDREN_SELECTOR\r\n        target = luda.$parent @_PARENT_FOCUS_SELECTOR, e.target\r\n      else\r\n        target = e.target\r\n      if target.matches @_selector\r\n        @_removeFocusClassExcept target\r\n        @_addFocusClassExceptHtmlAndBody target\r\n      else\r\n        @_removeFocusClassExcept()\r\n\r\n  @_setElementPrototype: ->\r\n    focus = HTMLElement.prototype.focus\r\n    blur = HTMLElement.prototype.blur\r\n    self = this\r\n    HTMLElement.prototype.focus = ->\r\n      focus.apply this, arguments\r\n      if self._isActive() and document.activeElement is this\r\n        self._removeFocusClassExcept this\r\n        self._addFocusClassExceptHtmlAndBody this\r\n    HTMLElement.prototype.blur = ->\r\n      blur.apply this, arguments\r\n      this.classList.remove self._CSS_CLASS if self._isActive()\r\n\r\n  @_init: ->\r\n    self = this\r\n    @_setElementPrototype()\r\n    luda.on 'keydown', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'keyup', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'mousedown', @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'touchstart', @_TOUCHSTART_FOCUS_SELECTOR, \\\r\n    @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'focusin', @_changeFocusStateOnMouseDownEvent.bind this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'tabulate'\r\n\r\n  @_SELECTORS: ['input[type=radio]:not([disabled])']\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-tabulate-disabled'\r\n\r\n  @_querySameName$radios: ($radio) ->\r\n    if $radio.name\r\n      selector = \"#{@_selector}[name=#{$radio.name}]\"\r\n    else\r\n      selector = @_selector\r\n    $inputs = luda.$children selector\r\n    $inputs.filter ($input) -> $input.tabIndex >= 0\r\n\r\n  @_query$prev$next: ($radio) ->\r\n    $sameNameRadios = @_querySameName$radios $radio\r\n    radioIndex = $sameNameRadios.indexOf $radio\r\n    $prev = $sameNameRadios[radioIndex - 1]\r\n    $next = $sameNameRadios[radioIndex + 1]\r\n    {$prev, $next}\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_TAB \\\r\n      and e.target.nodeName.toUpperCase() is 'INPUT' \\\r\n      and e.target.type is 'radio'\r\n        if e.shiftKey\r\n          if $prev = self._query$prev$next(e.target).$prev\r\n            e.preventDefault()\r\n            $prev.focus()\r\n        else\r\n          if $next = self._query$prev$next(e.target).$next\r\n            e.preventDefault()\r\n            $next.focus()","import './install.coffee'\r\nimport './utilities.coffee'\r\nimport './dom.coffee'\r\nimport './event.coffee'\r\n\r\n\r\n\r\n\r\nluda class Factory\r\n\r\n  @_SCOPE: 'Factory'\r\n  \r\n  @_COMPONENT_NO_SELECTOR_ERROR: 'Extended component must has a css selector'\r\n  @_$COMPONENT_INVALID_ERROR: '@param $component must be an instance of Element'\r\n  @_SELECTOR: ''\r\n\r\n  @_ACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: -> \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: -> \"#{@_SCOPE}:deactivated\"\r\n  @_ACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-activating\"\r\n  @_DEACTIVATING_MARK_ATTRIBUTE: -> \"data-#{@_SCOPE}-deactivating\"\r\n\r\n  @_instances: []\r\n\r\n  @_Observed: []\r\n  @_observer: null\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n\r\n  _hasDescendant: (descendant) ->\r\n    if @_children.length and descendant\r\n      return true if @_children.includes descendant\r\n      return @_children.some (child) -> child._hasDescendant descendant\r\n    else\r\n      return false\r\n\r\n  _observe: ->\r\n    @_observer = new MutationObserver @_onMutations.bind this\r\n    @_observer.observe @_$component, @constructor._observerConfig\r\n\r\n  _disconnect: ->\r\n    @_observer.disconnect()\r\n    @_observer = null\r\n\r\n  _activatePrevented: ($ele, detail) ->\r\n    activateEvent = luda.dispatch($ele, \\\r\n    @constructor._ACTIVATE_EVENT_TYPE(), detail)\r\n    activateEvent.defaultPrevented\r\n\r\n  _deactivatePrevented: ($ele, detail) ->\r\n    deactivateEvent = luda.dispatch($ele, \\\r\n    @constructor._DEACTIVATE_EVENT_TYPE(), detail)\r\n    deactivateEvent.defaultPrevented\r\n\r\n  _handleActivateEnd: ($ele, detail) ->\r\n    @_setActivatingMark detail\r\n    activateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch($ele, \\\r\n    @constructor._ACTIVATED_EVENT_TYPE(), detail, \\\r\n    activateDuration)\r\n    setTimeout =>\r\n      @_removeActivatingMark() if @_$component\r\n    , activateDuration\r\n    activateDuration\r\n\r\n  _handleDeactivateEnd: ($ele, detail) ->\r\n    @_setDeactivatingMark detail\r\n    deactivateDuration = luda.getTransitionDuration $ele\r\n    luda.dispatch($ele, \\\r\n    @constructor._DEACTIVATED_EVENT_TYPE(), detail, \\\r\n    deactivateDuration)\r\n    setTimeout =>\r\n      @_removeDeactivatingMark() if @_$component\r\n    , deactivateDuration\r\n    deactivateDuration\r\n\r\n  _handleActivateCancel: ($ele, detail) ->\r\n    if @_isActivating()\r\n      luda.dispatch($ele, \\\r\n      @constructor._ACTIVATED_EVENT_TYPE(), detail)\r\n      @_removeActivatingMark()\r\n\r\n  _handleDeactivateCancel: ($ele, detail) ->\r\n    if @_isDeactivating()\r\n      luda.dispatch($ele, \\\r\n      @constructor._DEACTIVATED_EVENT_TYPE(), detail)\r\n      @_removeDeactivatingMark()\r\n\r\n  _isActivating: ->\r\n    @_$component.hasAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _isDeactivating: ->\r\n    @_$component.hasAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _isTransitioning: ->\r\n    @_isActivating() or @_isDeactivating()\r\n\r\n  _getActivatingMark: ->\r\n    @_$component.getAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _getDeactivatingMark: ->\r\n    @_$component.getAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _removeActivatingMark: ->\r\n    @_$component.removeAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _removeDeactivatingMark: ->\r\n    @_$component.removeAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE()\r\n\r\n  _setActivatingMark: (value) ->\r\n    @_$component.setAttribute @constructor._ACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  _setDeactivatingMark: (value) ->\r\n    @_$component.setAttribute @constructor._DEACTIVATING_MARK_ATTRIBUTE(), value\r\n\r\n  @create: ($component) ->\r\n    componentIsElementInstance = $component instanceof Element\r\n    throw new Error @_$COMPONENT_INVALID_ERROR unless componentIsElementInstance\r\n    $family = @_query$family $component\r\n    instance = @query $component\r\n    if $family._$parent\r\n      if parent = @query $family._$parent\r\n        @_instances.push instance = @_createInstance $component unless instance\r\n        if instance._parent isnt parent\r\n          parent._children.push(instance) and (instance._parent = parent)\r\n        $family._$children.forEach ($child) => @create $child\r\n        return instance\r\n      else\r\n        @create $family._$parent\r\n        return @query $component\r\n    else\r\n      @_instances.push instance = @_createInstance $component unless instance\r\n      $family._$children.forEach ($child) => @create $child\r\n      return instance\r\n\r\n  @destroy: (instance$component) ->\r\n    instance = @query instance$component\r\n    if instance\r\n      instance._disconnect() if instance._observer\r\n      instance._destroy() if instance._destroy\r\n      @destroy instance._children[0] while instance._children.length\r\n      if instance._parent\r\n        luda.except instance, instance._parent._children\r\n      luda.except instance, @_instances\r\n      for attribute, value of instance\r\n        instance[attribute] = null\r\n        \r\n  @query: (instance$component) ->\r\n    instance = null\r\n    if instance$component instanceof this \\\r\n    and @_instances.includes instance$component\r\n      instance = instance$component\r\n    else if instance$component instanceof Element\r\n      @_instances.some (inited) ->\r\n        if inited._$component is instance$component\r\n          instance = inited\r\n          return true\r\n    return instance\r\n\r\n  @_query$family: ($component) ->\r\n    _$parent = null\r\n    _$children = []\r\n    if @_SELECTOR\r\n      _$parent = luda.$parent @_SELECTOR, $component\r\n      _$children = luda.$unnested @_SELECTOR, $component, @_SELECTOR\r\n    {_$parent, _$children}\r\n\r\n  @_createInstance: ($component) ->\r\n    instance = new this()\r\n    instance._$component = $component\r\n    instance._parent = null\r\n    instance._children = []\r\n    instance._observer = null\r\n    instance._constructor() if instance._constructor\r\n    unless instance._observer and instance._onMutations and @_observerConfig\r\n      instance._observe()\r\n    instance\r\n\r\n  @_onEleAdded: ($ele) ->\r\n    Factory._onEleAddedOrRemoved($ele, 'create')\r\n\r\n  @_onEleRemoved: ($ele) ->\r\n    Factory._onEleAddedOrRemoved($ele, 'destroy')\r\n\r\n  @_onEleAddedOrRemoved: ($ele, action) ->\r\n    Factory._Observed.forEach (Observed) ->\r\n      return Observed[action] $ele if $ele.matches Observed._SELECTOR\r\n      luda.$children(Observed._SELECTOR, $ele).forEach ($child) ->\r\n        Observed[action] $child\r\n\r\n  @_observe: (classObj) ->\r\n    unless Factory._observer\r\n      Factory._observer = \\\r\n      luda._observeDom Factory._onEleAdded, Factory._onEleRemoved\r\n    unless Factory._Observed.includes classObj\r\n      Factory._Observed.push classObj\r\n\r\n  @_install: ->\r\n    self = this\r\n    return this if this is Factory\r\n    unless @_SELECTOR or typeof @_SELECTOR isnt 'string'\r\n      throw new Error @_COMPONENT_NO_SELECTOR_ERROR\r\n    @_instances = [] unless @hasOwnProperty '_instances'\r\n    exposed = @_init() if typeof @_init is 'function'\r\n    luda.on luda._DOC_READY, ->\r\n      luda.$children(self._SELECTOR).forEach ($component) ->\r\n        self.create $component\r\n      Factory._observe(self)\r\n    if exposed then exposed else this","import '../install.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'readonly'\r\n  @_READONLY_ATTRIBUTE: 'data-readonly'\r\n  @_READONLY_FALSE_VALUE: 'false'\r\n  @_SELECTOR: \"[#{@_READONLY_ATTRIBUTE}]\"\r\n\r\n  @_observerConfig:\r\n    attributes: true\r\n    attributeFilter: [@_READONLY_ATTRIBUTE]\r\n\r\n  _getConfig: ->\r\n    readonly = @_$component.getAttribute @constructor._READONLY_ATTRIBUTE\r\n    _isReadonly = readonly isnt @constructor._READONLY_FALSE_VALUE\r\n    _originalTabIndex = @_$component.tabIndex\r\n    {_isReadonly, _originalTabIndex}\r\n    \r\n  _constructor: ->\r\n    {\r\n      @_isReadonly,\r\n      @_originalTabIndex\r\n    } = @_getConfig()\r\n    @_setTabIndex()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _setTabIndex: ->\r\n    if @_isReadonly\r\n      @_$component.tabIndex = -1\r\n    else\r\n      @_$component.tabIndex = @_originalTabIndex","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../static.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Static\r\n\r\n  @_SCOPE: 'toggle'\r\n  @_TOGGLE_TARGET_ATTRIBUTE: 'data-toggle-target'\r\n  @_TOGGLE_ATTRIBUTE: 'data-toggle'\r\n  @_TOGGLE_FOR_ATTRIBUTE: 'data-toggle-for'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-toggle-disabled'\r\n  @_AUTO_DEACTIVATE_ATTRIBUTE: 'data-toggle-auto-deactivate'\r\n  @_AUTO_DEACTIVATE_DURATION: 3000\r\n  @_ACTIVE_CSS_CLASS: 'toggle-active'\r\n  @_SELECTORS: [\r\n    \"[#{@_TOGGLE_TARGET_ATTRIBUTE}]\"\r\n  ]\r\n\r\n  @activate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return if $target.classList.contains @_ACTIVE_CSS_CLASS\r\n      return if @_isTransitioning $target\r\n      return if @_activatePrevented $target\r\n      $target.classList.add @_ACTIVE_CSS_CLASS\r\n      @_handleActivateEnd $target\r\n      @_delayDeactivate $target if @_shouldAutoDeactivate $target\r\n\r\n  @deactivate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return unless $target.classList.contains @_ACTIVE_CSS_CLASS\r\n      return if @_isTransitioning $target\r\n      return if @_deactivatePrevented $target\r\n      $target.classList.remove @_ACTIVE_CSS_CLASS\r\n      @_handleDeactivateEnd $target\r\n\r\n  @toggle: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      if $target.classList.contains @_ACTIVE_CSS_CLASS\r\n        @deactivate($target)\r\n      else\r\n        @activate($target)\r\n\r\n  @_onElementAdded: ($ele) ->\r\n    @_handleActivateCancel $ele\r\n    @_handleDeactivateCancel $ele\r\n    @_delayDeactivate $ele if @_shouldAutoDeactivate $ele\r\n\r\n  @_shouldAutoDeactivate: ($target) ->\r\n    $target.hasAttribute @_AUTO_DEACTIVATE_ATTRIBUTE\r\n\r\n  @_delayDeactivate: ($target) ->\r\n    delay = parseInt $target.getAttribute(@_AUTO_DEACTIVATE_ATTRIBUTE), 10\r\n    delay = @_AUTO_DEACTIVATE_DURATION if not delay\r\n    setTimeout =>\r\n      @deactivate $target if $target\r\n    , delay\r\n\r\n  @_query$targets: (name$target) ->\r\n    if name$target instanceof Element\r\n      [name$target]\r\n    else\r\n      luda.$children \"[#{@_TOGGLE_TARGET_ATTRIBUTE}=#{name$target}]\"\r\n\r\n  @_init: ->\r\n    self = this\r\n    clickEventSelector = \"[#{@_TOGGLE_FOR_ATTRIBUTE}],[#{@_TOGGLE_ATTRIBUTE}]\"\r\n    luda.on luda._DOC_READY, ->\r\n      luda.$children(self._selector).forEach ($target) ->\r\n        self._delayDeactivate $target if self._shouldAutoDeactivate $target\r\n    luda.on 'click', clickEventSelector, (e) ->\r\n      toggleChecked = false\r\n      luda.eventPath(e).some ($path) ->\r\n        if $path instanceof Element\r\n          if $path.hasAttribute(self._TOGGLE_ATTRIBUTE) \\\r\n          or $path.hasAttribute(self._TOGGLE_FOR_ATTRIBUTE)\r\n            if toggleName = $path.getAttribute self._TOGGLE_FOR_ATTRIBUTE\r\n              self.toggle toggleName\r\n              toggleChecked = true\r\n            if $path.hasAttribute self._TOGGLE_ATTRIBUTE\r\n              if $path.hasAttribute self._TOGGLE_TARGET_ATTRIBUTE\r\n                $toggle = $path\r\n              else\r\n                $toggle = luda.$parent \\\r\n                \"[#{self._TOGGLE_TARGET_ATTRIBUTE}]\", $path\r\n              if $toggle\r\n                self.toggle $toggle\r\n                toggleChecked = true\r\n          else if $path.hasAttribute self._TOGGLE_DISABLED_ATTRIBUTE\r\n            toggleChecked = true","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmFile'\r\n\r\n  @_VALUE_SPLITOR: '   '\r\n  @_SELECTOR: '.fm-file'\r\n  @_FILE_SELECTOR: 'input[type=file]'\r\n  @_SIMULATOR_SELECTOR: 'input:not([type=file])'\r\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\r\n  @_VALUE_ATTRIBUTE: 'value'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n\r\n  reset: ->\r\n    @_$file.value = ''\r\n    @_$simulator.value = ''\r\n\r\n  _getConfig: ->\r\n    _$file = luda.$child @constructor._FILE_SELECTOR, @_$component\r\n    _$simulator = luda.$child \\\r\n    @constructor._SIMULATOR_SELECTOR, @_$component\r\n    {_$file, _$simulator}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$file,\r\n      @_$simulator\r\n    } = @_getConfig()\r\n    @_init()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _insertSimulator: ->\r\n    @_$simulator = document.createElement 'input'\r\n    @_$simulator.tabIndex = -1\r\n    luda.$after @_$simulator, @_$file\r\n\r\n  _setPlaceholderValue: ->\r\n    @_$simulator.placeholder = \\\r\n    @_$file.getAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _setSimulatorValue: ->\r\n    values = []\r\n    Array.from(@_$file.files).map (file) -> values.push file.name\r\n    if values.length\r\n      @_$simulator.value = values.join @constructor._VALUE_SPLITOR\r\n    else if @_$file.hasAttribute(@constructor._VALUE_ATTRIBUTE)\r\n      @_$simulator.value = @_$file.getAttribute @constructor._VALUE_ATTRIBUTE\r\n\r\n  _init: ->\r\n    if @_$file\r\n      @_insertSimulator() unless @_$simulator\r\n      if @_$file.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n        @_setPlaceholderValue()\r\n      @_setSimulatorValue()\r\n\r\n  @reset: ($file) -> @query($file).reset()\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_FILE_SELECTOR}\", (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this)._setSimulatorValue()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._setSimulatorValue()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmSelect'\r\n\r\n  @_SELECTOR: '.fm-select'\r\n  @_SELECT_SELECTOR: 'select'\r\n  @_SINGLE_SELECT_SIMULATOR_SELECTOR: 'input'\r\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\r\n  @_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS: 'fm-select-multiple-placeholder'\r\n  @_DEFAULT_SELECTED_OPTION_ATTRIBUTE: 'data-fm-select-default-selected'\r\n  @_INITED_ATTRIBUTE: 'data-fm-select-inited'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: ['selected']\r\n\r\n  select: (indexOrIndexArray) ->\r\n    if @_$select.multiple\r\n      if @_$multipleSelectPlaceholder\r\n        selectedIndexes = indexOrIndexArray\r\n      else\r\n        selectedIndexes = indexOrIndexArray.map (index) -> index + 1\r\n      Array.from(@_$select.options).forEach ($option, index) ->\r\n        $option.selected = selectedIndexes.includes index\r\n      @_markSelectedOption()\r\n    else\r\n      @_$select.selectedIndex = indexOrIndexArray\r\n      @_setSingleSelectSimulatorValue()\r\n      @_markSelectedOption()\r\n\r\n  _getConfig: ->\r\n    _$select = luda.$child @constructor._SELECT_SELECTOR, @_$component\r\n    _$singleSelectSimulator = luda.$child \\\r\n    @constructor._SINGLE_SELECT_SIMULATOR_SELECTOR, @_$component\r\n    _$multipleSelectPlaceholder = luda.$child \\\r\n    \".#{@constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS}\", @_$component\r\n    _$defaultSelectedOptions = luda.$children \\\r\n    \"[#{@constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE}]\", @_$component\r\n    _defaultSelectedOptionMarked = @_$component.hasAttribute \\\r\n    @constructor._INITED_ATTRIBUTE\r\n    {\r\n      _$select,\r\n      _$singleSelectSimulator,\r\n      _$multipleSelectPlaceholder,\r\n      _$defaultSelectedOptions,\r\n      _defaultSelectedOptionMarked\r\n    }\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$select,\r\n      @_$singleSelectSimulator,\r\n      @_$multipleSelectPlaceholder,\r\n      @_$defaultSelectedOptions,\r\n      @_defaultSelectedOptionMarked\r\n    } = @_getConfig()\r\n    if @_$select\r\n      if @_$select.multiple\r\n        @_initMultipleSelect()\r\n      else\r\n        @_initSingleSelect()\r\n      \r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _markSelectedOption: ->\r\n    @_disconnect() if @_observer\r\n    Array.from(@_$select.options).forEach ($option) ->\r\n      if $option.selected\r\n        $option.setAttribute 'selected', 'selected'\r\n      else\r\n        $option.removeAttribute 'selected'\r\n    @_observe() unless @_observer\r\n\r\n  _markDefaultSelectedOption: ->\r\n    @_$component.setAttribute @constructor._INITED_ATTRIBUTE, ''\r\n    Array.from(@_$select.options).forEach ($option) =>\r\n      if $option.selected\r\n        $option.setAttribute @constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE, ''\r\n\r\n  _setSingleSelectedDefaultSelectedOption: ->\r\n    hasSelected = Array.from(@_$select.options).some ($option) ->\r\n      $option.getAttribute('selected') is 'selected'\r\n    @_$select.selectedIndex = -1 unless hasSelected\r\n\r\n  _insertSingleSelectSimulator: ->\r\n    @_$singleSelectSimulator = document.createElement 'input'\r\n    @_$singleSelectSimulator.tabIndex = -1\r\n    luda.$after @_$singleSelectSimulator, @_$select\r\n\r\n  _setSingleSelectPlaceholderValue: ->\r\n    @_$singleSelectSimulator.placeholder = @_$select.getAttribute \\\r\n    @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _setSingleSelectSimulatorValue: ->\r\n    if $selectedOption = @_$select.options[@_$select.selectedIndex]\r\n      @_$singleSelectSimulator.value = $selectedOption.innerText\r\n    else\r\n      @_$singleSelectSimulator.value = ''\r\n\r\n  _initSingleSelect: ->\r\n    @_insertSingleSelectSimulator() unless @_$singleSelectSimulator\r\n    if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n      @_setSingleSelectedDefaultSelectedOption()\r\n      @_setSingleSelectPlaceholderValue()\r\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\r\n    @_setSingleSelectSimulatorValue()\r\n    @_markSelectedOption()\r\n\r\n  _insertMultipleSelectBlankOption: ->\r\n    @_$multipleSelectPlaceholder = document.createElement 'option'\r\n    @_$multipleSelectPlaceholder.className = \\\r\n    @constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS\r\n    @_$multipleSelectPlaceholder.disabled = true\r\n    luda.$prepend @_$multipleSelectPlaceholder, @_$select\r\n\r\n  _setMultipleSelectPlaceholderValue: ->\r\n    @_$multipleSelectPlaceholder.innerText = @_$select.getAttribute \\\r\n    @constructor._PLACEHOLDER_ATTRIBUTE\r\n\r\n  _initMultipleSelect: ->\r\n    unless @_$multipleSelectPlaceholder\r\n      if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\r\n        @_insertMultipleSelectBlankOption()\r\n        @_setMultipleSelectPlaceholderValue()\r\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\r\n\r\n  _reset: ->\r\n    if @_$select\r\n      Array.from(@_$select.options).forEach ($option) =>\r\n        $option.selected = @_$defaultSelectedOptions.includes $option\r\n      @_setSingleSelectSimulatorValue() unless @_$select.multiple\r\n      @_markSelectedOption()\r\n\r\n  @select: ($select, indexOrIndexArray) ->\r\n    @query($select).select indexOrIndexArray\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_SELECT_SELECTOR}\", (e) ->\r\n      instance = self.query(luda.$parent self._SELECTOR, this)\r\n      instance._setSingleSelectSimulatorValue() unless this.multiple\r\n      instance._markSelectedOption()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._reset()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'carousel'\r\n\r\n  @_SELECTOR: '.carousel'\r\n  @_ITEMS_SELECTOR: '.carousel-item'\r\n  @_PREV_CONTROL_SELECTOR: '.carousel-prev'\r\n  @_NEXT_CONTROL_SELECTOR: '.carousel-next'\r\n  @_INDICATORS_SELECTOR: '.carousel-indicators .btn'\r\n  @_INTERVAL_ATTRIBUTE: 'data-carousel-interval'\r\n  @_WRAP_ATTRIBUTE: 'data-carousel-wrap'\r\n  @_ACTIVATED_INDEX_ATTRIBUTE: 'data-carousel-activated-index'\r\n  @_ITEM_ACTIVE_CSS_CLASS: 'carousel-item-active'\r\n  @_ITEM_NEXT_CSS_CLASS: 'carousel-item-next'\r\n  @_ITEM_PREV_CSS_CLASS: 'carousel-item-prev'\r\n  @_ACTIVE_INDEX: 0\r\n  @_INTERVAL: 5000\r\n  @_WRAP: true\r\n  @_FALSE: 'false'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [@_INTERVAL_ATTRIBUTE, @_WRAP_ATTRIBUTE]\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$items.length - 1 \\\r\n      and @_canTransition(index, activatedIndex)\r\n        @_activeIndex = index\r\n        action = if index < activatedIndex then '_slidePrev' else '_slideNext'\r\n        @[action] activatedIndex\r\n\r\n  next: ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex + 1\r\n      if index > @_$items.length - 1\r\n        return unless @_wrap\r\n        index = 0\r\n      return unless @_canTransition(index, activatedIndex)\r\n      @_activeIndex = index\r\n      @_slideNext activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  prev: ->\r\n    if @_$items.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex - 1\r\n      if index < 0\r\n        return unless @_wrap\r\n        index = @_$items.length - 1\r\n      return unless @_canTransition(index, activatedIndex)\r\n      @_activeIndex = index\r\n      @_slidePrev activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  pause: ->\r\n    if @_intervaling?\r\n      clearInterval @_intervaling\r\n      @_intervaling = null\r\n      @_pausedRemainTime = @_pausedRemainTime - (Date.now() - @_playTimeStamp)\r\n\r\n  play: ->\r\n    if @_interval and @_$items.length > 1\r\n      @_playTimeStamp = Date.now()\r\n      @pause()\r\n      execute = =>\r\n        @next()\r\n        @_intervaling = setInterval @next.bind(this), @_interval\r\n      @_intervaling = setTimeout execute, @_pausedRemainTime\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATORS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$prevControl = luda.$child \\\r\n    @constructor._PREV_CONTROL_SELECTOR, @_$component\r\n    _$nextControl = luda.$child \\\r\n    @constructor._NEXT_CONTROL_SELECTOR, @_$component\r\n    _activeIndex = _$items.indexOf \\\r\n    luda.$child \".#{@constructor._ITEM_ACTIVE_CSS_CLASS}\", @_$component\r\n    _activeIndex = @constructor._ACTIVE_INDEX if _activeIndex is -1\r\n    _interval = @_$component.getAttribute(@constructor._INTERVAL_ATTRIBUTE)\r\n    if _interval is @constructor._FALSE\r\n      _interval = false\r\n    else\r\n      _interval = Math.abs(parseInt _interval, 10) or @constructor._INTERVAL\r\n    _wrap = @_$component.getAttribute(@constructor._WRAP_ATTRIBUTE)\r\n    _wrap = if _wrap is @constructor._FALSE then false else @constructor._WRAP\r\n    {\r\n      _$items,\r\n      _$indicators,\r\n      _$prevControl,\r\n      _$nextControl,\r\n      _activeIndex,\r\n      _interval,\r\n      _wrap\r\n    }\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_intervaling = null\r\n    @_playTimeStamp = 0\r\n    @_pausedRemainTime = @_interval\r\n    @_layout()\r\n    @_handleTransitionCancel()\r\n    @play()\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n    @play()\r\n\r\n  _destroy: ->\r\n    @pause()\r\n\r\n  _layout: ->\r\n    @_$items.forEach ($item, index) =>\r\n      $item.style.transition = 'none'\r\n      if index > @_activeIndex\r\n        $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else if index < @_activeIndex\r\n        $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else\r\n        $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n\r\n  _slideNext: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n  _slidePrev: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n  _canTransition: (activeIndex, activatedIndex) ->\r\n    not @_activatePrevented(@_$items[activeIndex], activeIndex) \\\r\n    and not @_deactivatePrevented(@_$items[activatedIndex], activatedIndex)\r\n\r\n  _handleTransitionEnd: (activeIndex, activatedIndex) ->\r\n    activateDuration = \\\r\n    @_handleActivateEnd @_$items[activeIndex], activeIndex\r\n    deactivateDuration = \\\r\n    @_handleDeactivateEnd @_$items[activatedIndex], activatedIndex\r\n\r\n  _handleTransitionCancel: ->\r\n    if @_isActivating()\r\n      index = parseInt @_getActivatingMark(), 10\r\n      @_handleActivateCancel @_$items[index], index\r\n    if @_isDeactivating()\r\n      activatedIndex = parseInt @_getDeactivatingMark(), 10\r\n      @_handleDeactivateCancel @_$items[activatedIndex], activatedIndex\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      $indicator.disabled = index is @_activeIndex\r\n\r\n  _setDirectionControlState: ->\r\n    if @_$items.length <= 1\r\n      @_$prevControl?.disabled = @_$nextControl?.disabled = true\r\n    else\r\n      @_$prevControl?.disabled = @_activeIndex is 0 and not @_wrap\r\n      @_$nextControl?.disabled = \\\r\n      @_activeIndex is @_$items.length - 1 and not @_wrap\r\n  \r\n  @activate: ($carousel, index) -> @query($carousel).activate index\r\n\r\n  @next: ($carousel) -> @query($carousel).next()\r\n\r\n  @prev: ($carousel) -> @query($carousel).prev()\r\n\r\n  @pause: ($carousel) -> @query($carousel).pause()\r\n\r\n  @play: ($carousel) -> @query($carousel).play()\r\n\r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'click', @_INDICATORS_SELECTOR, (e) ->\r\n      instance = self.query luda.$parent self._SELECTOR, this\r\n      instance.activate instance._$indicators.indexOf this\r\n    luda.on 'touchstart', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'touchend', @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this).play()\r\n    luda.on 'mouseover', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'mouseout', @_SELECTOR, (e) ->\r\n      self.query(this).play()\r\n    luda.on luda._SWIPE_LEFT_OR_UP, @_SELECTOR, (startE, e) ->\r\n      self.query(this).next()\r\n    luda.on luda._SWIPE_RIGHT_OR_DOWN, @_SELECTOR, (startE, e) ->\r\n      self.query(this).prev()\r\n    luda.on 'click', @_PREV_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).prev()\r\n    luda.on 'click', @_NEXT_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).next()","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'dropdown'\r\n  @_SELECTOR: '.dropdown-fixed,.dropdown-absolute,\r\n               .dropdown-static,.dropdown-absolute-m'\r\n  @_MENU_SELECTOR: '.dropdown-menu'\r\n  @_ITEMS_SELECTOR: 'a[href]:not([disabled]),button:not([disabled]),\r\n                     input:not([disabled]),[tabindex]:not([disabled])'\r\n  @_TOGGLE_ATTRIBUTE: 'data-dropdown-toggle'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-dropdown-toggle-disabled'\r\n  @_STANDALONE_ATTRIBUTE: 'data-dropdown-standalone'\r\n  @_SWITCHES_SELECTOR: \"[#{@_TOGGLE_ATTRIBUTE}]\"\r\n  @_NONE_SWITCHES_SELECTOR: \"[#{@_TOGGLE_DISABLED_ATTRIBUTE}]\"\r\n  @_ACTIVE_CSS_CLASS: 'dropdown-active'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [\r\n      @_TOGGLE_ATTRIBUTE\r\n      @_TOGGLE_DISABLED_ATTRIBUTE\r\n      @_STANDALONE_ATTRIBUTE\r\n    ]\r\n\r\n  @_$focused: []\r\n\r\n  activate: ->\r\n    return if @_isActive() or @_isTransitioning()\r\n    return if @_activatePrevented @_$menu\r\n    @_$component.classList.add @constructor._ACTIVE_CSS_CLASS\r\n    @constructor._$focused.push document.activeElement\r\n    @_parent?.activate()\r\n    @_handleActivateEnd @_$menu\r\n\r\n  deactivate: (focus) ->\r\n    return unless @_isActive() and not @_isTransitioning()\r\n    return if @_deactivatePrevented @_$menu\r\n    @_$component.classList.remove @constructor._ACTIVE_CSS_CLASS\r\n    @_children.forEach (child) -> child.deactivate()\r\n    if focus\r\n      @constructor._$focused[@constructor._$focused.length - 1]?.focus()\r\n    @constructor._$focused.splice @constructor._$focused.length - 1, 1\r\n    @_handleDeactivateEnd @_$menu\r\n\r\n  toggle: (focus) ->\r\n    if @_isActive() then @deactivate(focus) else @activate()\r\n\r\n  _prev: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) - 1\r\n      focusIndex = 0 if focusIndex < 0\r\n      @_$items[focusIndex].focus()\r\n\r\n  _next: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) + 1\r\n      focusIndex = @_$items.length - 1 if focusIndex > @_$items.length - 1\r\n      @_$items[focusIndex].focus()\r\n\r\n  _getConfig: ->\r\n    _$menu = luda.$child @constructor._MENU_SELECTOR, @_$component\r\n    _$switches = luda.$unnested( \\\r\n    @constructor._SWITCHES_SELECTOR, @_$component, @constructor._SELECTOR)\r\n    .concat(luda.$unnested \\\r\n    @constructor._SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$noneSwitches = luda.$unnested( \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, \\\r\n    @_$component, @constructor._SELECTOR) \\\r\n    .concat(luda.$unnested \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, _$menu, @constructor._MENU_SELECTOR\r\n    _isStandalone = @_$component.hasAttribute @constructor._STANDALONE_ATTRIBUTE\r\n    {_$menu, _$items, _$switches, _$noneSwitches, _isStandalone}\r\n\r\n  _constructor: ->\r\n    @_onMutations()\r\n    @_handleActivateCancel @_$menu\r\n    @_handleDeactivateCancel @_$menu\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$menu,\r\n      @_$items,\r\n      @_$switches,\r\n      @_$noneSwitches,\r\n      @_isStandalone\r\n    } = @_getConfig()\r\n\r\n  _isActive: ->\r\n    @_$component.classList.contains @constructor._ACTIVE_CSS_CLASS\r\n\r\n  _deactivateChildrenExcept: (exceptions) ->\r\n    if exceptions and not (exceptions instanceof Array)\r\n      exceptions = [exceptions]\r\n    if exceptions\r\n      @_children.forEach (child) ->\r\n        if child._isActive() and not exceptions.includes child\r\n          child.deactivate()\r\n    else\r\n      @_children.forEach (child) ->\r\n        child.deactivate() if child._isActive()\r\n\r\n  @activate: ($dropdown) -> @query($dropdown).activate()\r\n\r\n  @deactivate: ($dropdown, focus) -> @query($dropdown).deactivate(focus)\r\n\r\n  @toggle: ($dropdown, focus) -> @query($dropdown).toggle focus\r\n\r\n  @deactivateExcept: (instances$dropdowns) ->\r\n    exceptions = []\r\n    if instances$dropdowns and not (instances$dropdowns instanceof Array)\r\n      instances$dropdowns = [instances$dropdowns]\r\n    if instances$dropdowns\r\n      instances$dropdowns.forEach (instance$dropdown) =>\r\n        exceptions.push exception if exception = @query instance$dropdown\r\n    if exceptions.length\r\n      @_instances.forEach (instance) ->\r\n        instanceIsntInExceptions = not exceptions.includes instance\r\n        instanceHasntExceptionChild = exceptions.every (exception) ->\r\n          not instance._hasDescendant exception\r\n        if instance._isActive() \\\r\n        and instanceIsntInExceptions \\\r\n        and instanceHasntExceptionChild\r\n          instance.deactivate()\r\n    else\r\n      @_instances.forEach (instance) ->\r\n        instance.deactivate() if instance._isActive()\r\n\r\n  @_standaloneInstances: ->\r\n    @_instances.filter (instance) -> instance if instance._isStandalone\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.onOpposite 'click', @_SELECTOR, (e) ->\r\n      self.deactivateExcept self._standaloneInstances()\r\n    luda.on 'click', @_SELECTOR, (e) ->\r\n      if instance = self.query this\r\n        toggleChecked = false\r\n        focus = not e.detail\r\n        self.deactivateExcept(self._standaloneInstances().concat instance)\r\n        instance._deactivateChildrenExcept()\r\n        instance._parent._deactivateChildrenExcept(instance) if instance._parent\r\n        if instance._$switches.length or instance._$noneSwitches.length\r\n          luda.eventPath(e).some ($path) ->\r\n            if instance._$switches.includes $path\r\n              instance.toggle focus\r\n              toggleChecked = true\r\n            else if instance._$noneSwitches.includes $path\r\n              toggleChecked = true\r\n        instance.toggle focus unless toggleChecked\r\n\r\n    luda.onOpposite 'keyup', @_SELECTOR, (e) -> self.deactivateExcept()\r\n    luda.on 'keyup', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_TAB and instance = self.query this\r\n        self.deactivateExcept(instance)\r\n        instance.activate()\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_ESC and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance.deactivate true\r\n        else\r\n          instance._parent?.deactivate true\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if [luda.KEY_LEFT, luda.KEY_UP].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance._prev()\r\n        else\r\n          instance._parent?._prev()\r\n      else if [luda.KEY_RIGHT, luda.KEY_DOWN].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance._next()\r\n        else\r\n          instance._parent?._next()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\nimport '../behaviors/focus.coffee'\r\nimport '../behaviors/enter.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'fmDropdown'\r\n\r\n  @_SELECTOR: '.fm-dropdown'\r\n  @_VALUE_SPLITOR: '   '\r\n  @_LABEL_ATTRIBUTE: 'data-fm-dropdown-label'\r\n  @_VALUE_SELECTOR: '.dropdown-items .btn-radio input,\r\n                     .dropdown-items .btn-check input'\r\n  @_DEFAULT_VALUE_SELECTOR: '.dropdown-items .btn-radio label,\r\n                             .dropdown-items .btn-check label'\r\n  @_VALUE_HOLDER_SELECTOR: '.fm input'\r\n  @_ENTER_BEHAVIOR_SELECTOR: '.fm-dropdown .fm input'\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [\r\n      'checked'\r\n      @_LABEL_ATTRIBUTE\r\n    ]\r\n\r\n  _getConfig: ->\r\n    _$values = luda.$children @constructor._VALUE_SELECTOR, @_$component\r\n    _$defaultValues = luda.$children \\\r\n    @constructor._DEFAULT_VALUE_SELECTOR, @_$component\r\n    _$valueHolder = luda.$child \\\r\n    @constructor._VALUE_HOLDER_SELECTOR, @_$component\r\n    {_$values, _$valueHolder, _$defaultValues}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$values,\r\n      @_$valueHolder,\r\n      @_$defaultValues\r\n    } = @_getConfig()\r\n    @_setValueHolderAttribute()\r\n    @_setValueHolderValue()\r\n\r\n  _onMutations: ->\r\n    @_constructor()\r\n\r\n  _setValueHolderValue: ->\r\n    values = []\r\n    @_$values.forEach ($value, index) =>\r\n      if $value.checked\r\n        if $value.hasAttribute @constructor._LABEL_ATTRIBUTE\r\n          value = $value.getAttribute @constructor._LABEL_ATTRIBUTE\r\n        else\r\n          value = @_$defaultValues[index].innerText\r\n      values.push value if value and not values.includes value\r\n    if @_$valueHolder\r\n      @_$valueHolder.value = values.join @constructor._VALUE_SPLITOR\r\n\r\n  _setValueHolderAttribute: ->\r\n    @_$valueHolder.setAttribute('readonly', '') if @_$valueHolder\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.enter._add @_ENTER_BEHAVIOR_SELECTOR\r\n    luda.on 'change', \"#{@_SELECTOR} #{@_VALUE_SELECTOR}\", (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this)._setValueHolderValue()\r\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this)._setValueHolderValue()\r\n    # prevent ios device pop out wired navigation pannel\r\n    if /iphone/i.test(navigator.userAgent) or /ipad/i.test(navigator.userAgent)\r\n      luda.on 'focusin', @_ENTER_BEHAVIOR_SELECTOR, (e) ->\r\n        this.blur()\r\n        this.classList.add luda.focus._CSS_CLASS","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../factory.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Factory\r\n\r\n  @_SCOPE: 'tab'\r\n\r\n  @_SELECTOR: '.tab'\r\n  @_PANE_SELECTOR: '.tab-pane'\r\n  @_INDICATOR_SELECTOR: '.tab-indicators .btn-radio input[type=radio]'\r\n  @_PANE_ACTIVE_CSS_CLASS: 'tab-pane-active'\r\n  @_ACTIVE_INDEX: 0\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$panes.length and not @_isTransitioning()\r\n      activatedIndex = @_activeIndex\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$panes.length - 1\r\n        return unless @_canTransition index, activatedIndex\r\n        @_activeIndex = index\r\n        @_activate activatedIndex\r\n\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$panes = luda.$unnested \\\r\n    @constructor._PANE_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATOR_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _activeIndex = @constructor._ACTIVE_INDEX\r\n    _$indicators.some ($indicator, index) ->\r\n      if $indicator.checked\r\n        _activeIndex = index\r\n        true\r\n    {_$panes, _$indicators, _activeIndex}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$panes,\r\n      @_$indicators,\r\n      @_activeIndex\r\n    } = @_getConfig()\r\n    @_layout()\r\n    @_handleTransitionCancel()\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$panes,\r\n      @_$indicators,\r\n      @_activeIndex\r\n    } = @_getConfig()\r\n    @_setIndicatorsState()\r\n\r\n  _layout: ->\r\n    @_$panes.forEach ($pane, index) =>\r\n      $pane.style.transition = 'none'\r\n      if index is @_activeIndex\r\n        $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\r\n      else\r\n        $pane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\r\n      luda.reflow $pane\r\n      $pane.style.transition = ''\r\n    @_setIndicatorsState()\r\n\r\n  _activate: (activatedIndex) ->\r\n    $pane = @_$panes[@_activeIndex]\r\n    $activatedPane = @_$panes[activatedIndex]\r\n    $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\r\n    $activatedPane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\r\n    @_handleTransitionEnd @_activeIndex, activatedIndex\r\n    @_setIndicatorsState()\r\n\r\n  _canTransition: (activeIndex, activatedIndex) ->\r\n    not @_activatePrevented(@_$panes[activeIndex], activeIndex) \\\r\n    and not @_deactivatePrevented(@_$panes[activatedIndex], activatedIndex)\r\n\r\n  _handleTransitionEnd: (activeIndex, activatedIndex) ->\r\n    activateDuration = \\\r\n    @_handleActivateEnd @_$panes[activeIndex], activeIndex\r\n    deactivateDuration = \\\r\n    @_handleDeactivateEnd @_$panes[activatedIndex], activatedIndex\r\n\r\n  _handleTransitionCancel: ->\r\n    if @_isActivating()\r\n      index = parseInt @_getActivatingMark(), 10\r\n      @_handleActivateCancel @_$panes[index], index\r\n    if @_isDeactivating()\r\n      activatedIndex = parseInt @_getDeactivatingMark(), 10\r\n      @_handleDeactivateCancel @_$panes[activatedIndex], activatedIndex\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      if index is @_activeIndex\r\n        $indicator.setAttribute 'checked', ''\r\n        $indicator.checked = true\r\n      else\r\n        $indicator.removeAttribute 'checked'\r\n        $indicator.checked = false\r\n\r\n  @activate: ($tab, index) -> @query($tab).activate index\r\n\r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', @_INDICATOR_SELECTOR, (e) ->\r\n      if this.checked\r\n        instance = self.query luda.$parent self._SELECTOR, this\r\n        instance._setIndicatorsState()\r\n        instance.activate instance._$indicators.indexOf this"],"names":[],"mappings":"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"}