{"version":3,"sources":["../../src/coffee/install.coffee","../../src/coffee/constants.coffee","../../src/coffee/dom.coffee","../../src/coffee/event.coffee","../../src/coffee/utilities.coffee","../../src/coffee/singleton.coffee","../../src/coffee/behaviors/enter.coffee","../../src/coffee/behaviors/focus.coffee","../../src/coffee/behaviors/tabulate.coffee","../../src/coffee/component.coffee","../../src/coffee/behaviors/readonly.coffee","../../src/coffee/behaviors/toggle.coffee","../../src/coffee/elements/form-file.coffee","../../src/coffee/elements/form-select.coffee","../../src/coffee/patterns/carousel.coffee","../../src/coffee/patterns/dropdown.coffee","../../src/coffee/patterns/form-dropdown.coffee","../../src/coffee/patterns/tab.coffee"],"names":["ENV","document","window","global","Error","luda","installer","installed","name","property","includes","hasOwnProperty","_SCOPE","_install","Array","namespace","installedInstaller","installedName","ref","console","warn","KEY_LEFT","KEY_UP","KEY_RIGHT","KEY_DOWN","KEY_TAB","KEY_ESC","KEY_ENTER","$child","selector","$ancestor","querySelector","$children","$descendant","descendants","this","from","querySelectorAll","$unnested","ancestorSelector","filter","$parent","parentNode","matches","$parents","_ancestors","push","$after","$node","$target","lastChild","appendChild","insertBefore","nextSibling","$prepend","firstChild","reflow","$element","offsetHeight","_getTransitionDurations","style","propertyLength","durationArray","split","length","concat","slice","map","durationStr","duration","parseFloat","match","getTransitionDuration","delays","durations","finalDurations","styles","getComputedStyle","transitionProperty","transitionDelay","transitionDuration","index","Math","max","apply","splice","_SWIPE_DISTANCE","_EVENT_TYPE_PREFIX","_SWIPE_LEFT","_SWIPE_RIGHT","_SWIPE_UP","_SWIPE_DOWN","_SWIPE_LEFT_OR_UP","_SWIPE_RIGHT_OR_DOWN","_DOC_READY","_FORM_RESET","eventPath","event","path","composedPath","target","on","handler","call","_onDocReady","_onReset","_onSwipe","_on","onOpposite","_self","addEventListener","e","trigger","every","dispatch","type","detail","delayMilliseconds","options","evt","bubbles","cancelable","composed","Event","setTimeout","dispatchEvent","readyState","forEach","bind","$touchStartElement","touchStartE","touchStartX","touchStartY","watch","touches","screenX","screenY","some","eventX","eventXOrY","eventY","touchDistanceX","touchDistanceY","abs","except","element","arr","indexOf","Singleton","[object Object]","_SELECTOR_INVALID_ERROR","_SELECTORS","_mergeSelectors","_selector","join","exposed","_init","self","documentElement","hasAttribute","_DISABLED_ATTRIBUTE","keyCode","preventDefault","click","_Class","$exception","_$focus","$focus","classList","remove","_CSS_CLASS","body","add","_isActive","_removeFocusClassExcept","_addFocusClassExceptHtmlAndBody","_PARENT_FOCUS_CHILDREN_SELECTOR","_PARENT_FOCUS_SELECTOR","blur","focus","HTMLElement","prototype","arguments","activeElement","_setElementPrototype","_changeFocusStateOnKeyEvent","_changeFocusStateOnMouseDownEvent","_TOUCHSTART_FOCUS_SELECTOR","getElementsByClassName","$radio","$inputs","$input","tabIndex","$next","$prev","$sameNameRadios","radioIndex","_querySameName$radios","nodeName","toUpperCase","shiftKey","_query$prev$next","Component","descendant","_children","child","_hasDescendant","_observer","MutationObserver","_onMutations","observe","_$component","constructor","_observerConfig","disconnect","$component","$family","componentIsElementInstance","instance","parent","Element","_$COMPONENT_INVALID_ERROR","_query$family","query","_$parent","_instances","_createInstance","_parent","_$children","create","instance$component","attribute","results","value","_disconnect","_destroy","destroy","inited","_SELECTOR","_constructor","_observe","classObj","mutations","mutation","$addedNodes","$removedNodes","removedNodes","addedNodes","_Observed","Observed","$destroies","$destroy","$creates","$create","_COMPONENT_NO_SELECTOR_ERROR","childList","subtree","_isReadonly","_originalTabIndex","readonly","getAttribute","_READONLY_ATTRIBUTE","_READONLY_FALSE_VALUE","_getConfig","_setTabIndex","attributes","attributeFilter","name$target","_query$targets","activateDuration","_transiting","_ACTIVATE_EVENT_TYPE","defaultPrevented","_setTransitingAttribute","_ACTIVE_CSS_CLASS","_ACTIVATED_EVENT_TYPE","_removeTransitingAttribute","deactivateDuration","_DEACTIVATE_EVENT_TYPE","_DEACTIVATED_EVENT_TYPE","contains","deactivate","activate","_TOGGLE_TARGET_ATTRIBUTE","_TRANSITING_ATTRIBUTE","setAttribute","removeAttribute","toggleChecked","$path","$toggle","toggleName","_TOGGLE_ATTRIBUTE","_TOGGLE_FOR_ATTRIBUTE","toggle","_TOGGLE_DISABLED_ATTRIBUTE","_$file","_$simulator","_FILE_SELECTOR","_SIMULATOR_SELECTOR","createElement","placeholder","_PLACEHOLDER_ATTRIBUTE","values","files","file","_VALUE_SPLITOR","_VALUE_ATTRIBUTE","_insertSimulator","_setPlaceholderValue","_setSimulatorValue","indexOrIndexArray","selectedIndexes","_$select","multiple","_$multipleSelectPlaceholder","$option","selected","_markSelectedOption","selectedIndex","_setSingleSelectSimulatorValue","_$defaultSelectedOptions","_$singleSelectSimulator","_defaultSelectedOptionMarked","_SELECT_SELECTOR","_SINGLE_SELECT_SIMULATOR_SELECTOR","_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS","_DEFAULT_SELECTED_OPTION_ATTRIBUTE","_INITED_ATTRIBUTE","_initMultipleSelect","_initSingleSelect","hasSelected","$selectedOption","innerText","_insertSingleSelectSimulator","_setSingleSelectedDefaultSelectedOption","_setSingleSelectPlaceholderValue","_markDefaultSelectedOption","className","disabled","_insertMultipleSelectBlankOption","_setMultipleSelectPlaceholderValue","_reset","action","activatedIndex","_$items","_activeIndex","_canActivate","_wrap","_slideNext","_playTimeStamp","Date","now","_pausedRemainTime","_interval","_slidePrev","_intervaling","clearInterval","execute","pause","next","setInterval","_$indicators","_$nextControl","_$prevControl","_ITEMS_SELECTOR","_INDICATORS_SELECTOR","_PREV_CONTROL_SELECTOR","_NEXT_CONTROL_SELECTOR","_ITEM_ACTIVE_CSS_CLASS","_ACTIVE_INDEX","_INTERVAL_ATTRIBUTE","_FALSE","parseInt","_INTERVAL","_WRAP_ATTRIBUTE","_WRAP","_layout","play","_setIndicatorsState","_setDirectionControlState","$item","transition","_ITEM_NEXT_CSS_CLASS","_ITEM_PREV_CSS_CLASS","$activatedItem","_handleTransitionEnd","activeIndex","activateEvent","deactivateEvent","$indicator","ref1","ref2","ref3","startE","prev","_$focused","focusIndex","_$menu","_$noneSwitches","_$switches","_isStandalone","_MENU_SELECTOR","_SWITCHES_SELECTOR","_NONE_SWITCHES_SELECTOR","_STANDALONE_ATTRIBUTE","exceptions","instances$dropdowns","instance$dropdown","exception","instanceHasntExceptionChild","instanceIsntInExceptions","deactivateExcept","_standaloneInstances","_deactivateChildrenExcept","_$defaultValues","_$valueHolder","_$values","_VALUE_SELECTOR","_DEFAULT_VALUE_SELECTOR","_VALUE_HOLDER_SELECTOR","_setValueHolderAttribute","_setValueHolderValue","$value","checked","_LABEL_ATTRIBUTE","enter","_add","_ENTER_BEHAVIOR_SELECTOR","test","navigator","userAgent","_$panes","_activate","_PANE_SELECTOR","_INDICATOR_SELECTOR","$activatedPane","$pane","_PANE_ACTIVE_CSS_CLASS"],"mappings":"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","sourcesContent":["ENV = (->\n  if typeof document isnt 'undefined'\n    return window if typeof window isnt 'undefined'\n    return global if typeof global isnt 'undefined'\n  throw new Error 'Unsupported runtime environment.'\n)()\n\n\n\nunless typeof ENV.luda is 'function'\n  ENV.luda = (installer) ->\n    throw new Error 'Installer cannot be detected.' unless installer\n    unless ['object', 'function'].includes typeof installer\n      throw new Error 'Installer must be object, array or function.'\n    if installer.hasOwnProperty '_SCOPE'\n      unless typeof installer._SCOPE is 'string'\n        throw new Error '_SCOPE must be string'\n      return ENV.luda._install installer._SCOPE, installer\n    if installer instanceof Array or typeof installer is 'function'\n      throw new Error 'Unscoped installer must be object.'\n    installed = {}\n    for name, property of installer\n      installed[name] = ENV.luda._install name, property\n    installed\n\n  ENV.luda._install = (namespace, installer) ->\n    if ENV.luda[namespace]\n      console.warn \"Namespace #{namespace} is ocupied, sikp installation.\"\n      return ENV.luda[namespace]\n    for installedName, installedInstaller of ENV.luda\n      if installer is installedInstaller\n        console.warn \"Installer is installed with name #{installedName},\n                      skip installation.\"\n        return ENV.luda[installedName]\n    if installer._install\n      if typeof installer._install is 'function'\n        return ENV.luda[namespace] = installer._install()\n      return ENV.luda[namespace] = installer._install\n    ENV.luda[namespace] = installer","import './install.coffee'\n\n\n\nluda\n\n  KEY_LEFT: 37\n  KEY_UP: 38\n  KEY_RIGHT: 39\n  KEY_DOWN: 40\n  KEY_TAB: 9\n  KEY_ESC: 27\n  KEY_ENTER: 13","import './install.coffee'\n\n\n\nluda\n \n  $child: (selector, $ancestor) ->\n    $ancestor = document unless $ancestor\n    $ancestor.querySelector selector\n\n  $children: (selector, $ancestor) ->\n    $ancestor = document unless $ancestor\n    $descendant = @$child selector, $ancestor\n    if $descendant\n      descendants = Array.from($ancestor.querySelectorAll selector)\n    else\n      descendants = []\n\n  $unnested: (selector, $ancestor, ancestorSelector) ->\n    descendants = @$children selector, $ancestor\n    descendants.filter ($descendant) =>\n      $descendant if @$parent(ancestorSelector, $descendant) is $ancestor\n\n  $parent: (selector, $descendant) ->\n    $ancestor = $descendant.parentNode\n    if $ancestor\n      if $ancestor.matches and $ancestor.matches selector\n        $ancestor\n      else\n        @$parent selector, $ancestor\n\n  $parents: (selector, $descendant, _ancestors) ->\n    $ancestor = @$parent selector, $descendant\n    _ancestors = [] unless _ancestors\n    if $ancestor\n      _ancestors.push($ancestor)\n      @$parents selector, $ancestor, _ancestors\n    else\n      _ancestors\n\n  $after: ($node, $target) ->\n    $parent = $target.parentNode\n    if $parent.lastChild is $target\n      $parent.appendChild $node\n    else\n      $parent.insertBefore $node, $target.nextSibling\n\n  $prepend: ($node, $target) ->\n    if $target.firstChild\n      $target.insertBefore $node, $target.firstChild\n    else\n      $target.appendChild $node\n\n  reflow: ($element) -> $element.offsetHeight\n\n  _getTransitionDurations: (style, propertyLength) ->\n    durationArray = style.split ','\n    while durationArray.length < propertyLength\n      durationArray = durationArray.concat durationArray\n    if durationArray.length > propertyLength\n      durationArray = durationArray.slice 0, propertyLength\n    durationArray.map (durationStr) ->\n      duration = parseFloat durationStr\n      return 0 unless duration\n      if durationStr.match 'ms' then duration else duration * 1000\n\n  getTransitionDuration: ($element) ->\n    styles = window.getComputedStyle $element\n    length = styles.transitionProperty.split(',').length\n    return 0 unless length\n    delays = @_getTransitionDurations styles.transitionDelay, length\n    durations = @_getTransitionDurations styles.transitionDuration, length\n    finalDurations = durations.map (duration, index) -> duration + delays[index]\n    Math.max.apply null, finalDurations\n","import './install.coffee'\nimport './dom.coffee'\n\n\n\nluda\n \n  _SWIPE_DISTANCE: 10\n  _EVENT_TYPE_PREFIX: 'luda'\n  _SWIPE_LEFT: 'swipeleft'\n  _SWIPE_RIGHT: 'swiperight'\n  _SWIPE_UP: 'swipeup'\n  _SWIPE_DOWN: 'swipedown'\n  _SWIPE_LEFT_OR_UP: 'swipeleft or swipeup'\n  _SWIPE_RIGHT_OR_DOWN: 'swiperight or swipedown'\n  _DOC_READY: 'docready'\n  _FORM_RESET: 'reset'\n\n  eventPath: (event) ->\n    if event.composedPath\n      path = event.composedPath()\n    else if event.path\n      path = event.path\n    else\n      path = [event.target].concat(luda.$parents '*', event.target)\n\n  on: (event, selector..., handler) ->\n    switch event\n      when @_DOC_READY then @_onDocReady handler\n      when @_FORM_RESET then @_onReset selector[0], handler\n      when @_SWIPE_LEFT, \\\n      @_SWIPE_RIGHT, \\\n      @_SWIPE_UP, \\\n      @_SWIPE_DOWN, \\\n      @_SWIPE_LEFT_OR_UP, \\\n      @_SWIPE_RIGHT_OR_DOWN\n      then @_onSwipe event, selector[0], handler\n      else @_on event, selector[0], handler\n\n  onOpposite: (event, selector, handler) ->\n    _self = this\n    document.addEventListener event, (e) ->\n      trigger = _self.eventPath(e).every ($element) ->\n        not $element.matches or not $element.matches selector\n      handler e if trigger\n\n  dispatch: ($target, type, detail, delayMilliseconds, options = {}) ->\n    options.bubbles = true unless typeof options.bubbles is 'boolean'\n    options.cancelable = true unless typeof options.cancelable is 'boolean'\n    options.composed = true unless typeof options.composed is 'boolean'\n    evt = new Event \"#{@_EVENT_TYPE_PREFIX}:#{type}\", options\n    evt.detail = detail\n    if typeof delayMilliseconds is 'number'\n      setTimeout ->\n        $target.dispatchEvent evt\n      , delayMilliseconds\n    else\n      $target.dispatchEvent evt\n      evt\n  \n  _onDocReady: (handler) ->\n    if document.readyState is 'loading'\n      document.addEventListener 'DOMContentLoaded', handler\n    else\n      handler()\n\n  _onReset: (selector, handler) ->\n    document.addEventListener 'reset', (e) ->\n      if selector?\n        luda.$children(selector, e.target).forEach ($element) ->\n          handler.bind($element)(e)\n      else\n        handler e\n \n  _onSwipe: (event, selector, handler) ->\n    _self = this\n    watch = false\n    $touchStartElement = document\n    touchStartE = null\n    touchStartX = 0\n    touchStartY = 0\n    document.addEventListener 'touchstart', (e) ->\n      if e.touches.length is 1\n        touchStartX = e.touches[0].screenX\n        touchStartY = e.touches[0].screenY\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              $touchStartElement = $element\n              touchStartE = e\n              watch = true\n              return true\n        else\n          watch = true\n\n    document.addEventListener 'touchmove', (e) ->\n      if watch and e.touches.length is 1\n        touchDistanceX = e.touches[0].screenX - touchStartX\n        touchDistanceY = e.touches[0].screenY - touchStartY\n        eventX = undefined\n        eventY = undefined\n        eventXOrY = undefined\n        if Math.abs(touchDistanceX) >= _self._SWIPE_DISTANCE\n          if touchDistanceX > 0\n            eventX = _self._SWIPE_RIGHT\n          else\n            eventX = _self._SWIPE_LEFT\n        if Math.abs(touchDistanceY) >= _self._SWIPE_DISTANCE\n          if touchDistanceY > 0\n            eventY = _self._SWIPE_DOWN\n          else\n            eventY = _self._SWIPE_UP\n        if eventX is _self._SWIPE_LEFT \\\n        or eventY is _self._SWIPE_UP\n          eventXOrY = _self._SWIPE_LEFT_OR_UP\n        if eventX is _self._SWIPE_RIGHT \\\n        or eventY is _self._SWIPE_DOWN\n          eventXOrY = _self._SWIPE_RIGHT_OR_DOWN\n        if (eventX? and eventX is event) \\\n        or (eventY? and eventY is event) \\\n        or eventXOrY is event\n          if selector?\n            _self.eventPath(e).some ($element) ->\n              if $element is $touchStartElement\n                watch = false\n                handler.bind($element)(touchStartE, e)\n                return true\n          else\n            watch = false\n            handler touchStartE, e\n\n  _on: (event, selector, handler) ->\n    if selector is window\n      window.addEventListener event, (e) -> handler e\n    else\n      _self = this\n      document.addEventListener event, (e) ->\n        if selector?\n          _self.eventPath(e).some ($element) ->\n            if $element.matches and $element.matches selector\n              handler.bind($element)(e)\n              return true\n        else\n          handler e","import './install.coffee'\n\n\n\nluda\n \n  except: (element, arr) ->\n    arr.splice(arr.indexOf(element), 1) if arr.includes element","import './install.coffee'\r\nimport './utilities.coffee'\r\n\r\n\r\n  \r\nluda class Singleton\r\n\r\n  @_SCOPE: 'Singleton'\r\n  \r\n  @_SELECTOR_INVALID_ERROR: '@param selector must be a css selector string'\r\n  @_SELECTORS: []\r\n\r\n  @_selector: ''\r\n\r\n  @_add: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    @_SELECTORS.push selector unless @_SELECTORS.includes selector\r\n    @_mergeSelectors()\r\n\r\n  @_remove: (selector) ->\r\n    throw new Error @_SELECTOR_INVALID_ERROR if typeof selector isnt 'string'\r\n    luda.except selector, @_SELECTORS\r\n    @_mergeSelectors()\r\n\r\n  @_mergeSelectors: ->\r\n    @_selector = @_SELECTORS.join ','\r\n\r\n  @_install: ->\r\n    return this if this is Singleton\r\n    @_SELECTORS = [] unless @hasOwnProperty '_SELECTORS'\r\n    @_mergeSelectors()\r\n    exposed = @_init() if typeof @_init is 'function'\r\n    if exposed then exposed else this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../event.coffee'\r\nimport '../singleton.coffee'\r\n\r\n\r\nluda class extends luda.Singleton\r\n\r\n  @_SCOPE: 'enter'\r\n\r\n  @_SELECTORS: [\r\n    'input[type=checkbox]'\r\n    'input[type=radio]'\r\n    '[tabindex]'\r\n  ]\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-enter-disabled'\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_ENTER \\\r\n      and e.target.matches(self._selector)\r\n        e.preventDefault()\r\n        setTimeout(-> e.target.click())","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../singleton.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Singleton\r\n\r\n  @_SCOPE: 'focus'\r\n\r\n  @_CSS_CLASS: 'focus'\r\n  # mouse focusable selectors\r\n  @_SELECTORS: ['select'\r\n                'textarea'\r\n                ':not(.btn-check):not(.btn-radio):not(.btn-file) >\r\n                 input:not([type=button]):not([type=submit]):not([type=reset])'\r\n              ]\r\n  @_TOUCHSTART_FOCUS_SELECTOR: 'input[type=range]'\r\n  @_PARENT_FOCUS_SELECTOR: 'select[multiple]'\r\n  @_PARENT_FOCUS_CHILDREN_SELECTOR: \"#{@_PARENT_FOCUS_SELECTOR} *\"\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-focus-disabled'\r\n\r\n  @_$focus: document.getElementsByClassName(@_CSS_CLASS)\r\n\r\n  @_isActive: ->\r\n    not document.documentElement.hasAttribute(@_DISABLED_ATTRIBUTE)\r\n\r\n  @_removeFocusClassExcept: ($exception) ->\r\n    Array.from(@_$focus).forEach ($focus) =>\r\n      $focus.classList.remove @_CSS_CLASS if $focus isnt $exception\r\n\r\n  @_addFocusClassExceptHtmlAndBody: ($target) ->\r\n    if $target isnt document.body and $target isnt document.documentElement\r\n      $target.classList.add @_CSS_CLASS\r\n\r\n  @_changeFocusStateOnKeyEvent: (e) ->\r\n    if @_isActive()\r\n      @_removeFocusClassExcept e.target\r\n      @_addFocusClassExceptHtmlAndBody e.target\r\n\r\n  @_changeFocusStateOnMouseDownEvent: (e) ->\r\n    if @_isActive()\r\n      if e.target.matches @_PARENT_FOCUS_CHILDREN_SELECTOR\r\n        target = luda.$parent @_PARENT_FOCUS_SELECTOR, e.target\r\n      else\r\n        target = e.target\r\n      if target.matches @_selector\r\n        @_removeFocusClassExcept target\r\n        @_addFocusClassExceptHtmlAndBody target\r\n      else\r\n        @_removeFocusClassExcept()\r\n\r\n  @_setElementPrototype: ->\r\n    focus = HTMLElement.prototype.focus\r\n    blur = HTMLElement.prototype.blur\r\n    self = this\r\n    HTMLElement.prototype.focus = ->\r\n      focus.apply this, arguments\r\n      if self._isActive() and document.activeElement is this\r\n        self._removeFocusClassExcept this\r\n        self._addFocusClassExceptHtmlAndBody this\r\n    HTMLElement.prototype.blur = ->\r\n      blur.apply this, arguments\r\n      this.classList.remove self._CSS_CLASS if self._isActive()\r\n\r\n  @_init: ->\r\n    self = this\r\n    @_setElementPrototype()\r\n    luda.on 'keydown', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'keyup', @_changeFocusStateOnKeyEvent.bind this\r\n    luda.on 'mousedown', @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'touchstart', @_TOUCHSTART_FOCUS_SELECTOR, \\\r\n    @_changeFocusStateOnMouseDownEvent.bind this\r\n    luda.on 'focusin', @_changeFocusStateOnMouseDownEvent.bind this","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../singleton.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Singleton\r\n\r\n  @_SCOPE: 'tabulate'\r\n\r\n  @_SELECTORS: ['input[type=radio]:not([disabled])']\r\n\r\n  @_DISABLED_ATTRIBUTE: 'data-tabulate-disabled'\r\n\r\n  @_querySameName$radios: ($radio) ->\r\n    if $radio.name\r\n      selector = \"#{@_selector}[name=#{$radio.name}]\"\r\n    else\r\n      selector = @_selector\r\n    $inputs = luda.$children selector\r\n    $inputs.filter ($input) -> $input.tabIndex >= 0\r\n\r\n  @_query$prev$next: ($radio) ->\r\n    $sameNameRadios = @_querySameName$radios $radio\r\n    radioIndex = $sameNameRadios.indexOf $radio\r\n    $prev = $sameNameRadios[radioIndex - 1]\r\n    $next = $sameNameRadios[radioIndex + 1]\r\n    {$prev, $next}\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'keydown', (e) ->\r\n      if not document.documentElement.hasAttribute(self._DISABLED_ATTRIBUTE) \\\r\n      and e.keyCode is luda.KEY_TAB \\\r\n      and e.target.nodeName.toUpperCase() is 'INPUT' \\\r\n      and e.target.type is 'radio'\r\n        if e.shiftKey\r\n          if $prev = self._query$prev$next(e.target).$prev\r\n            e.preventDefault()\r\n            $prev.focus()\r\n        else\r\n          if $next = self._query$prev$next(e.target).$next\r\n            e.preventDefault()\r\n            $next.focus()","import './install.coffee'\nimport './utilities.coffee'\nimport './dom.coffee'\nimport './event.coffee'\n\n\n\n\nluda class Component\n\n  @_SCOPE: 'Component'\n  \n  @_COMPONENT_NO_SELECTOR_ERROR: 'Extended component must has a css selector'\n  @_$COMPONENT_INVALID_ERROR: '@param $component must be an instance of Element'\n  @_SELECTOR: ''\n  @_instances: []\n\n  @_Observed: []\n  @_observer: null\n  @_observerConfig:\n    childList: true\n    subtree: true\n\n  _hasDescendant: (descendant) ->\n    if @_children.length and descendant\n      return true if @_children.includes descendant\n      return @_children.some (child) -> child._hasDescendant descendant\n    else\n      return false\n\n  _observe: ->\n    @_observer = new MutationObserver @_onMutations.bind this\n    @_observer.observe @_$component, @constructor._observerConfig\n\n  _disconnect: ->\n    @_observer.disconnect()\n    @_observer = null\n\n  @create: ($component) ->\n    componentIsElementInstance = $component instanceof Element\n    throw new Error @_$COMPONENT_INVALID_ERROR unless componentIsElementInstance\n    $family = @_query$family $component\n    instance = @query $component\n    if $family._$parent\n      if parent = @query $family._$parent\n        @_instances.push instance = @_createInstance $component unless instance\n        if instance._parent isnt parent\n          parent._children.push(instance) and (instance._parent = parent)\n        $family._$children.forEach ($child) => @create $child\n        return instance\n      else\n        @create $family._$parent\n        return @query $component\n    else\n      @_instances.push instance = @_createInstance $component unless instance\n      $family._$children.forEach ($child) => @create $child\n      return instance\n\n  @destroy: (instance$component) ->\n    instance = @query instance$component\n    if instance\n      instance._disconnect() if instance._observer\n      instance._destroy() if instance._destroy\n      @destroy instance._children[0] while instance._children.length\n      if instance._parent\n        luda.except instance, instance._parent._children\n      luda.except instance, @_instances\n      for attribute, value of instance\n        instance[attribute] = null\n        \n  @query: (instance$component) ->\n    instance = null\n    if instance$component instanceof this \\\n    and @_instances.includes instance$component\n      instance = instance$component\n    else if instance$component instanceof Element\n      @_instances.some (inited) ->\n        if inited._$component is instance$component\n          instance = inited\n          return true\n    return instance\n\n  @_query$family: ($component) ->\n    _$parent = null\n    _$children = []\n    if @_SELECTOR\n      _$parent = luda.$parent @_SELECTOR, $component\n      _$children = luda.$unnested @_SELECTOR, $component, @_SELECTOR\n    {_$parent, _$children}\n\n  @_createInstance: ($component) ->\n    instance = new this()\n    instance._$component = $component\n    instance._parent = null\n    instance._children = []\n    instance._observer = null\n    instance._constructor() if instance._constructor\n    unless instance._observer and instance._onMutations and @_observerConfig\n      instance._observe()\n    instance\n\n  @_observe: (classObj) ->\n    unless Component._observer\n      Component._observer = new MutationObserver (mutations) ->\n        mutations.forEach (mutation) ->\n          $removedNodes = Array.from mutation.removedNodes\n          $addedNodes = Array.from mutation.addedNodes\n          $removedNodes.forEach ($node) ->\n            if $node instanceof Element\n              Component._Observed.forEach (Observed) ->\n                if $node.matches Observed._SELECTOR\n                  Observed.destroy $node\n                else\n                  $destroies = luda.$children Observed._SELECTOR, $node\n                  $destroies.forEach ($destroy) -> Observed.destroy $destroy\n          $addedNodes.forEach ($node) ->\n            if $node instanceof Element\n              Component._Observed.forEach (Observed) ->\n                if $node.matches Observed._SELECTOR\n                  Observed.create $node\n                else\n                  $creates = luda.$children Observed._SELECTOR, $node\n                  $creates.forEach ($create) -> Observed.create $create\n      Component._observer.observe document.documentElement, \\\n      Component._observerConfig\n    unless Component._Observed.includes classObj\n      Component._Observed.push classObj\n\n  @_install: ->\n    self = this\n    return this if this is Component\n    unless @_SELECTOR or typeof @_SELECTOR isnt 'string'\n      throw new Error @_COMPONENT_NO_SELECTOR_ERROR\n    @_instances = [] unless @hasOwnProperty '_instances'\n    exposed = @_init() if typeof @_init is 'function'\n    luda.on luda._DOC_READY, ->\n      luda.$children(self._SELECTOR).forEach ($component) ->\n        self.create $component\n      Component._observe(self)\n    if exposed then exposed else this","import '../install.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'readonly'\n  @_READONLY_ATTRIBUTE: 'data-readonly'\n  @_READONLY_FALSE_VALUE: 'false'\n  @_SELECTOR: \"[#{@_READONLY_ATTRIBUTE}]\"\n\n  @_observerConfig:\n    attributes: true\n    attributeFilter: [@_READONLY_ATTRIBUTE]\n\n  _getConfig: ->\n    readonly = @_$component.getAttribute @constructor._READONLY_ATTRIBUTE\n    _isReadonly = readonly isnt @constructor._READONLY_FALSE_VALUE\n    _originalTabIndex = @_$component.tabIndex\n    {_isReadonly, _originalTabIndex}\n    \n  _constructor: ->\n    {\n      @_isReadonly,\n      @_originalTabIndex\n    } = @_getConfig()\n    @_setTabIndex()\n\n  _onMutations: ->\n    @_constructor()\n\n  _setTabIndex: ->\n    if @_isReadonly\n      @_$component.tabIndex = -1\n    else\n      @_$component.tabIndex = @_originalTabIndex","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../singleton.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Singleton\r\n\r\n  @_SCOPE: 'toggle'\r\n  @_TOGGLE_TARGET_ATTRIBUTE: 'data-toggle-target'\r\n  @_TOGGLE_ATTRIBUTE: 'data-toggle'\r\n  @_TOGGLE_FOR_ATTRIBUTE: 'data-toggle-for'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-toggle-disabled'\r\n  @_TRANSITING_ATTRIBUTE: 'data-toggle-transiting'\r\n  @_ACTIVE_CSS_CLASS: 'toggle-active'\r\n  @_SELECTORS: [\r\n    \"[#{@_TOGGLE_FOR_ATTRIBUTE}]\"\r\n    \"[#{@_TOGGLE_ATTRIBUTE}]\"\r\n  ]\r\n  @_ACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\r\n\r\n  @activate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return if @_transiting $target\r\n      return if luda.dispatch($target, @_ACTIVATE_EVENT_TYPE).defaultPrevented\r\n      @_setTransitingAttribute $target\r\n      $target.classList.add @_ACTIVE_CSS_CLASS\r\n      activateDuration = luda.getTransitionDuration $target\r\n      luda.dispatch $target, @_ACTIVATED_EVENT_TYPE, null, activateDuration\r\n      @_removeTransitingAttribute $target, activateDuration\r\n\r\n  @deactivate: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      return if @_transiting $target\r\n      return if luda.dispatch($target, @_DEACTIVATE_EVENT_TYPE).defaultPrevented\r\n      @_setTransitingAttribute $target\r\n      $target.classList.remove @_ACTIVE_CSS_CLASS\r\n      deactivateDuration = luda.getTransitionDuration $target\r\n      luda.dispatch $target, @_DEACTIVATED_EVENT_TYPE, null, deactivateDuration\r\n      @_removeTransitingAttribute $target, deactivateDuration\r\n\r\n  @toggle: (name$target) ->\r\n    @_query$targets(name$target).forEach ($target) =>\r\n      if $target.classList.contains @_ACTIVE_CSS_CLASS\r\n        @deactivate($target)\r\n      else\r\n        @activate($target)\r\n\r\n  @_query$targets: (name$target) ->\r\n    if name$target instanceof Element\r\n      [name$target]\r\n    else\r\n      luda.$children \"[#{@_TOGGLE_TARGET_ATTRIBUTE}=#{name$target}]\"\r\n\r\n  @_transiting: ($target) ->\r\n    $target.hasAttribute @_TRANSITING_ATTRIBUTE\r\n\r\n  @_setTransitingAttribute: ($target) ->\r\n    $target.setAttribute @_TRANSITING_ATTRIBUTE, ''\r\n\r\n  @_removeTransitingAttribute: ($target, delayMilliseconds) ->\r\n    setTimeout =>\r\n      $target.removeAttribute @_TRANSITING_ATTRIBUTE\r\n    , delayMilliseconds\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'click', @_selector, (e) ->\r\n      toggleChecked = false\r\n      luda.eventPath(e).some ($path) ->\r\n        if $path instanceof Element\r\n          if $path.hasAttribute(self._TOGGLE_ATTRIBUTE) \\\r\n          or $path.hasAttribute(self._TOGGLE_FOR_ATTRIBUTE)\r\n            if toggleName = $path.getAttribute self._TOGGLE_FOR_ATTRIBUTE\r\n              self.toggle toggleName\r\n              toggleChecked = true\r\n            if $path.hasAttribute self._TOGGLE_ATTRIBUTE\r\n              if $path.hasAttribute self._TOGGLE_TARGET_ATTRIBUTE\r\n                $toggle = $path\r\n              else\r\n                $toggle = luda.$parent \\\r\n                \"[#{self._TOGGLE_TARGET_ATTRIBUTE}]\", $path\r\n              if $toggle\r\n                self.toggle $toggle\r\n                toggleChecked = true\r\n          else if $path.hasAttribute self._TOGGLE_DISABLED_ATTRIBUTE\r\n            toggleChecked = true","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmFile'\n\n  @_VALUE_SPLITOR: '   '\n  @_SELECTOR: '.fm-file'\n  @_FILE_SELECTOR: 'input[type=file]'\n  @_SIMULATOR_SELECTOR: 'input:not([type=file])'\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\n  @_VALUE_ATTRIBUTE: 'value'\n\n  @_observerConfig:\n    childList: true\n    subtree: true\n\n  _getConfig: ->\n    _$file = luda.$child @constructor._FILE_SELECTOR, @_$component\n    _$simulator = luda.$child \\\n    @constructor._SIMULATOR_SELECTOR, @_$component\n    {_$file, _$simulator}\n\n  _constructor: ->\n    {\n      @_$file,\n      @_$simulator\n    } = @_getConfig()\n    @_init()\n\n  _onMutations: ->\n    @_constructor()\n\n  _insertSimulator: ->\n    @_$simulator = document.createElement 'input'\n    @_$simulator.tabIndex = -1\n    luda.$after @_$simulator, @_$file\n\n  _setPlaceholderValue: ->\n    @_$simulator.placeholder = \\\n    @_$file.getAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _setSimulatorValue: ->\n    values = []\n    Array.from(@_$file.files).map (file) -> values.push file.name\n    if values.length\n      @_$simulator.value = values.join @constructor._VALUE_SPLITOR\n    else if @_$file.hasAttribute(@constructor._VALUE_ATTRIBUTE)\n      @_$simulator.value = @_$file.getAttribute @constructor._VALUE_ATTRIBUTE\n\n  _init: ->\n    if @_$file\n      @_insertSimulator() unless @_$simulator\n      if @_$file.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n        @_setPlaceholderValue()\n      @_setSimulatorValue()\n\n  @_init: ->\n    self = this\n    luda.on 'change', \"#{@_SELECTOR} #{@_FILE_SELECTOR}\", (e) ->\n      self.query(luda.$parent self._SELECTOR, this)._setSimulatorValue()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._setSimulatorValue()","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmSelect'\n\n  @_SELECTOR: '.fm-select'\n  @_SELECT_SELECTOR: 'select'\n  @_SINGLE_SELECT_SIMULATOR_SELECTOR: 'input'\n  @_PLACEHOLDER_ATTRIBUTE: 'placeholder'\n  @_MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS: 'fm-select-multiple-placeholder'\n  @_DEFAULT_SELECTED_OPTION_ATTRIBUTE: 'data-fm-select-default-selected'\n  @_INITED_ATTRIBUTE: 'data-fm-select-inited'\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: ['selected']\n\n  select: (indexOrIndexArray) ->\n    if @_$select.multiple\n      if @_$multipleSelectPlaceholder\n        selectedIndexes = indexOrIndexArray\n      else\n        selectedIndexes = indexOrIndexArray.map (index) -> index + 1\n      Array.from(@_$select.options).forEach ($option, index) ->\n        $option.selected = selectedIndexes.includes index\n      @_markSelectedOption()\n    else\n      @_$select.selectedIndex = selectedIndex\n      @_setSingleSelectSimulatorValue()\n      @_markSelectedOption()\n\n  _getConfig: ->\n    _$select = luda.$child @constructor._SELECT_SELECTOR, @_$component\n    _$singleSelectSimulator = luda.$child \\\n    @constructor._SINGLE_SELECT_SIMULATOR_SELECTOR, @_$component\n    _$multipleSelectPlaceholder = luda.$child \\\n    \".#{@constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS}\", @_$component\n    _$defaultSelectedOptions = luda.$children \\\n    \"[#{@constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE}]\", @_$component\n    _defaultSelectedOptionMarked = @_$component.hasAttribute \\\n    @constructor._INITED_ATTRIBUTE\n    {\n      _$select,\n      _$singleSelectSimulator,\n      _$multipleSelectPlaceholder,\n      _$defaultSelectedOptions,\n      _defaultSelectedOptionMarked\n    }\n\n  _constructor: ->\n    {\n      @_$select,\n      @_$singleSelectSimulator,\n      @_$multipleSelectPlaceholder,\n      @_$defaultSelectedOptions,\n      @_defaultSelectedOptionMarked\n    } = @_getConfig()\n    if @_$select\n      if @_$select.multiple\n        @_initMultipleSelect()\n      else\n        @_initSingleSelect()\n      \n  _onMutations: ->\n    @_constructor()\n\n  _markSelectedOption: ->\n    @_disconnect() if @_observer\n    Array.from(@_$select.options).forEach ($option) ->\n      if $option.selected\n        $option.setAttribute 'selected', 'selected'\n      else\n        $option.removeAttribute 'selected'\n    @_observe() unless @_observer\n\n  _markDefaultSelectedOption: ->\n    @_$component.setAttribute @constructor._INITED_ATTRIBUTE, ''\n    Array.from(@_$select.options).forEach ($option) =>\n      if $option.selected\n        $option.setAttribute @constructor._DEFAULT_SELECTED_OPTION_ATTRIBUTE, ''\n\n  _setSingleSelectedDefaultSelectedOption: ->\n    hasSelected = Array.from(@_$select.options).some ($option) ->\n      $option.getAttribute('selected') is 'selected'\n    @_$select.selectedIndex = -1 unless hasSelected\n\n  _insertSingleSelectSimulator: ->\n    @_$singleSelectSimulator = document.createElement 'input'\n    @_$singleSelectSimulator.tabIndex = -1\n    luda.$after @_$singleSelectSimulator, @_$select\n\n  _setSingleSelectPlaceholderValue: ->\n    @_$singleSelectSimulator.placeholder = @_$select.getAttribute \\\n    @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _setSingleSelectSimulatorValue: ->\n    if $selectedOption = @_$select.options[@_$select.selectedIndex]\n      @_$singleSelectSimulator.value = $selectedOption.innerText\n    else\n      @_$singleSelectSimulator.value = ''\n\n  _initSingleSelect: ->\n    @_insertSingleSelectSimulator() unless @_$singleSelectSimulator\n    if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n      @_setSingleSelectedDefaultSelectedOption()\n      @_setSingleSelectPlaceholderValue()\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\n    @_setSingleSelectSimulatorValue()\n    @_markSelectedOption()\n\n  _insertMultipleSelectBlankOption: ->\n    @_$multipleSelectPlaceholder = document.createElement 'option'\n    @_$multipleSelectPlaceholder.className = \\\n    @constructor._MULTIPLE_SELECT_PLACEHOLDER_CSS_CLASS\n    @_$multipleSelectPlaceholder.disabled = true\n    luda.$prepend @_$multipleSelectPlaceholder, @_$select\n\n  _setMultipleSelectPlaceholderValue: ->\n    @_$multipleSelectPlaceholder.innerText = @_$select.getAttribute \\\n    @constructor._PLACEHOLDER_ATTRIBUTE\n\n  _initMultipleSelect: ->\n    unless @_$multipleSelectPlaceholder\n      if @_$select.hasAttribute @constructor._PLACEHOLDER_ATTRIBUTE\n        @_insertMultipleSelectBlankOption()\n        @_setMultipleSelectPlaceholderValue()\n    @_markDefaultSelectedOption() unless @_defaultSelectedOptionMarked\n\n  _reset: ->\n    if @_$select\n      Array.from(@_$select.options).forEach ($option) =>\n        $option.selected = @_$defaultSelectedOptions.includes $option\n      @_setSingleSelectSimulatorValue() unless @_$select.multiple\n      @_markSelectedOption()\n\n  @_init: ->\n    self = this\n    luda.on 'change', \"#{@_SELECTOR} #{@_SELECT_SELECTOR}\", (e) ->\n      instance = self.query(luda.$parent self._SELECTOR, this)\n      instance._setSingleSelectSimulatorValue() unless this.multiple\n      instance._markSelectedOption()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._reset()","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../component.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Component\r\n\r\n  @_SCOPE: 'carousel'\r\n\r\n  @_SELECTOR: '.carousel'\r\n  @_ITEMS_SELECTOR: '.carousel-item'\r\n  @_PREV_CONTROL_SELECTOR: '.carousel-prev'\r\n  @_NEXT_CONTROL_SELECTOR: '.carousel-next'\r\n  @_INDICATORS_SELECTOR: '.carousel-indicators .btn'\r\n  @_INTERVAL_ATTRIBUTE: 'data-carousel-interval'\r\n  @_WRAP_ATTRIBUTE: 'data-carousel-wrap'\r\n  @_ITEM_ACTIVE_CSS_CLASS: 'carousel-item-active'\r\n  @_ITEM_NEXT_CSS_CLASS: 'carousel-item-next'\r\n  @_ITEM_PREV_CSS_CLASS: 'carousel-item-prev'\r\n  @_ACTIVE_INDEX: 0\r\n  @_INTERVAL: 5000\r\n  @_WRAP: true\r\n  @_FALSE: 'false'\r\n  @_ACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [@_INTERVAL_ATTRIBUTE, @_WRAP_ATTRIBUTE]\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$items.length and not @_transiting\r\n      activatedIndex = @_activeIndex\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$items.length - 1 \\\r\n      and @_canActivate(index, activatedIndex)\r\n        @_transiting = true\r\n        @_activeIndex = index\r\n        action = if index < activatedIndex then '_slidePrev' else '_slideNext'\r\n        @[action] activatedIndex\r\n\r\n  next: ->\r\n    if @_$items.length and not @_transiting\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex + 1\r\n      if index > @_$items.length - 1\r\n        return unless @_wrap\r\n        index = 0\r\n      return unless @_canActivate(index, activatedIndex)\r\n      @_transiting = true\r\n      @_activeIndex = index\r\n      @_slideNext activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  prev: ->\r\n    if @_$items.length and not @_transiting\r\n      activatedIndex = @_activeIndex\r\n      index = activatedIndex - 1\r\n      if index < 0\r\n        return unless @_wrap\r\n        index = @_$items.length - 1\r\n      return unless @_canActivate(index, activatedIndex)\r\n      @_transiting = true\r\n      @_activeIndex = index\r\n      @_slidePrev activatedIndex\r\n      @_playTimeStamp = Date.now()\r\n      @_pausedRemainTime = @_interval\r\n\r\n  pause: ->\r\n    if @_intervaling?\r\n      clearInterval @_intervaling\r\n      @_intervaling = null\r\n      @_pausedRemainTime = @_pausedRemainTime - (Date.now() - @_playTimeStamp)\r\n\r\n  play: ->\r\n    if @_interval and @_$items.length > 1\r\n      @_playTimeStamp = Date.now()\r\n      @pause()\r\n      execute = =>\r\n        @next()\r\n        @_intervaling = setInterval @next.bind(this), @_interval\r\n      @_intervaling = setTimeout execute, @_pausedRemainTime\r\n\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATORS_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$prevControl = luda.$child \\\r\n    @constructor._PREV_CONTROL_SELECTOR, @_$component\r\n    _$nextControl = luda.$child \\\r\n    @constructor._NEXT_CONTROL_SELECTOR, @_$component\r\n    _activeIndex = _$items.indexOf \\\r\n    luda.$child \".#{@constructor._ITEM_ACTIVE_CSS_CLASS}\", @_$component\r\n    _activeIndex = @constructor._ACTIVE_INDEX if _activeIndex is -1\r\n    _interval = @_$component.getAttribute(@constructor._INTERVAL_ATTRIBUTE)\r\n    if _interval is @constructor._FALSE\r\n      _interval = false\r\n    else\r\n      _interval = Math.abs(parseInt _interval, 10) or @constructor._INTERVAL\r\n    _wrap = @_$component.getAttribute(@constructor._WRAP_ATTRIBUTE)\r\n    _wrap = if _wrap is @constructor._FALSE then false else @constructor._WRAP\r\n    {\r\n      _$items,\r\n      _$indicators,\r\n      _$prevControl,\r\n      _$nextControl,\r\n      _activeIndex,\r\n      _interval,\r\n      _wrap\r\n    }\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_transiting = false\r\n    @_intervaling = null\r\n    @_playTimeStamp = 0\r\n    @_pausedRemainTime = @_interval\r\n    @_layout()\r\n    @play()\r\n\r\n  _onMutations: (mutations) ->\r\n    {\r\n      @_$items,\r\n      @_$indicators,\r\n      @_$prevControl,\r\n      @_$nextControl,\r\n      @_activeIndex,\r\n      @_interval,\r\n      @_wrap\r\n    } = @_getConfig()\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n    @play()\r\n\r\n  _destroy: ->\r\n    @pause()\r\n\r\n  _layout: ->\r\n    @_$items.forEach ($item, index) =>\r\n      $item.style.transition = 'none'\r\n      if index > @_activeIndex\r\n        $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else if index < @_activeIndex\r\n        $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      else\r\n        luda.dispatch($item, @constructor._ACTIVATED_EVENT_TYPE, index)\r\n        $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n        $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n    @_setIndicatorsState()\r\n    @_setDirectionControlState()\r\n\r\n  _slideNext: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n  _slidePrev: (activatedIndex) ->\r\n    if @_$items.length > 1\r\n      $item = @_$items[@_activeIndex]\r\n      $activatedItem = @_$items[activatedIndex]\r\n      $item.style.transition = 'none'\r\n      $item.classList.remove @constructor._ITEM_NEXT_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_PREV_CSS_CLASS\r\n      luda.reflow $item\r\n      $item.style.transition = ''\r\n      $item.classList.remove @constructor._ITEM_PREV_CSS_CLASS\r\n      $item.classList.add @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.remove @constructor._ITEM_ACTIVE_CSS_CLASS\r\n      $activatedItem.classList.add @constructor._ITEM_NEXT_CSS_CLASS\r\n      @_handleTransitionEnd @_activeIndex, activatedIndex\r\n      @_setIndicatorsState()\r\n      @_setDirectionControlState()\r\n\r\n\r\n  _canActivate: (activeIndex, activatedIndex) ->\r\n    $item = @_$items[activeIndex]\r\n    $activatedItem = @_$items[activatedIndex]\r\n\r\n    activateEvent = luda.dispatch($item, \\\r\n    @constructor._ACTIVATE_EVENT_TYPE, activeIndex)\r\n\r\n    deactivateEvent = luda.dispatch($activatedItem, \\\r\n    @constructor._DEACTIVATE_EVENT_TYPE, activatedIndex)\r\n\r\n    if activateEvent.defaultPrevented or deactivateEvent.defaultPrevented\r\n      return false\r\n    true\r\n\r\n\r\n  _handleTransitionEnd: (activeIndex, activatedIndex) ->\r\n    $item = @_$items[activeIndex]\r\n    $activatedItem = @_$items[activatedIndex]\r\n    activateDuration = luda.getTransitionDuration $item\r\n    deactivateDuration = luda.getTransitionDuration $activatedItem\r\n\r\n    luda.dispatch($item, \\\r\n    @constructor._ACTIVATED_EVENT_TYPE, activeIndex, \\\r\n    activateDuration)\r\n\r\n    luda.dispatch($activatedItem, \\\r\n    @constructor._DEACTIVATED_EVENT_TYPE, activatedIndex, \\\r\n    deactivateDuration)\r\n\r\n    setTimeout =>\r\n      @_transiting = false\r\n    , Math.max(activateDuration, deactivateDuration)\r\n\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      $indicator.disabled = index is @_activeIndex\r\n\r\n  _setDirectionControlState: ->\r\n    if @_$items.length <= 1\r\n      @_$prevControl?.disabled = @_$nextControl?.disabled = true\r\n    else\r\n      @_$prevControl?.disabled = @_activeIndex is 0 and not @_wrap\r\n      @_$nextControl?.disabled = \\\r\n      @_activeIndex is @_$items.length - 1 and not @_wrap\r\n  \r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'click', @_INDICATORS_SELECTOR, (e) ->\r\n      instance = self.query luda.$parent self._SELECTOR, this\r\n      instance.activate instance._$indicators.indexOf this\r\n    luda.on 'touchstart', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'touchend', @_SELECTOR, (e) ->\r\n      setTimeout => self.query(this).play()\r\n    luda.on 'mouseover', @_SELECTOR, (e) ->\r\n      self.query(this).pause()\r\n    luda.on 'mouseout', @_SELECTOR, (e) ->\r\n      self.query(this).play()\r\n    luda.on luda._SWIPE_LEFT_OR_UP, @_SELECTOR, (startE, e) ->\r\n      self.query(this).next()\r\n    luda.on luda._SWIPE_RIGHT_OR_DOWN, @_SELECTOR, (startE, e) ->\r\n      self.query(this).prev()\r\n    luda.on 'click', @_PREV_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).prev()\r\n    luda.on 'click', @_NEXT_CONTROL_SELECTOR, (e) ->\r\n      self.query(luda.$parent self._SELECTOR, this).next()","import '../install.coffee'\r\nimport '../constants.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../component.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Component\r\n\r\n  @_SCOPE: 'dropdown'\r\n  @_SELECTOR: '.dropdown-fixed,.dropdown-absolute,\r\n               .dropdown-static,.dropdown-absolute-m'\r\n  @_MENU_SELECTOR: '.dropdown-menu'\r\n  @_ITEMS_SELECTOR: 'a[href]:not([disabled]),button:not([disabled]),\r\n                     input:not([disabled]),[tabindex]:not([disabled])'\r\n  @_TOGGLE_ATTRIBUTE: 'data-dropdown-toggle'\r\n  @_TOGGLE_DISABLED_ATTRIBUTE: 'data-dropdown-toggle-disabled'\r\n  @_STANDALONE_ATTRIBUTE: 'data-dropdown-standalone'\r\n  @_SWITCHES_SELECTOR: \"[#{@_TOGGLE_ATTRIBUTE}]\"\r\n  @_NONE_SWITCHES_SELECTOR: \"[#{@_TOGGLE_DISABLED_ATTRIBUTE}]\"\r\n  @_ACTIVE_CSS_CLASS: 'dropdown-active'\r\n  @_ACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    attributes: true\r\n    subtree: true\r\n    attributeFilter: [\r\n      @_TOGGLE_ATTRIBUTE\r\n      @_TOGGLE_DISABLED_ATTRIBUTE\r\n      @_STANDALONE_ATTRIBUTE\r\n    ]\r\n\r\n  @_$focused: []\r\n\r\n  activate: ->\r\n    return if @_isActive() or @_transiting\r\n\r\n    activateEvent = luda.dispatch(@_$component, \\\r\n    @constructor._ACTIVATE_EVENT_TYPE)\r\n\r\n    return if activateEvent.defaultPrevented\r\n    @_transiting = true\r\n    @_$component.classList.add @constructor._ACTIVE_CSS_CLASS\r\n    @constructor._$focused.push document.activeElement\r\n    @_parent?.activate()\r\n\r\n    activateDuration = luda.getTransitionDuration @_$component\r\n    luda.dispatch(@_$component, \\\r\n    @constructor._ACTIVATED_EVENT_TYPE, null, activateDuration)\r\n\r\n    setTimeout =>\r\n      @_transiting = false\r\n    , activateDuration\r\n\r\n\r\n  deactivate: (focus) ->\r\n    return unless @_isActive() and not @_transiting\r\n\r\n    deactivateEvent = luda.dispatch(@_$component, \\\r\n    @constructor._DEACTIVATE_EVENT_TYPE)\r\n\r\n    return if deactivateEvent.defaultPrevented\r\n    @_transiting = true\r\n    @_$component.classList.remove @constructor._ACTIVE_CSS_CLASS\r\n    @_children.forEach (child) -> child.deactivate()\r\n    if focus\r\n      @constructor._$focused[@constructor._$focused.length - 1]?.focus()\r\n    @constructor._$focused.splice @constructor._$focused.length - 1, 1\r\n\r\n    deactivateDuration = luda.getTransitionDuration @_$component\r\n    luda.dispatch(@_$component, \\\r\n    @constructor._DEACTIVATED_EVENT_TYPE, null, deactivateDuration)\r\n\r\n    setTimeout =>\r\n      @_transiting = false\r\n    , deactivateDuration\r\n\r\n\r\n  toggle: (focus) ->\r\n    if @_isActive() then @deactivate(focus) else @activate()\r\n\r\n  prev: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) - 1\r\n      focusIndex = 0 if focusIndex < 0\r\n      @_$items[focusIndex].focus()\r\n\r\n  next: ->\r\n    if @_$items.length and @_isActive()\r\n      focusIndex = @_$items.indexOf(document.activeElement) + 1\r\n      focusIndex = @_$items.length - 1 if focusIndex > @_$items.length - 1\r\n      @_$items[focusIndex].focus()\r\n\r\n  _getConfig: ->\r\n    _$menu = luda.$child @constructor._MENU_SELECTOR, @_$component\r\n    _$switches = luda.$unnested( \\\r\n    @constructor._SWITCHES_SELECTOR, @_$component, @constructor._SELECTOR)\r\n    .concat(luda.$unnested \\\r\n    @constructor._SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$noneSwitches = luda.$unnested( \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, \\\r\n    @_$component, @constructor._SELECTOR) \\\r\n    .concat(luda.$unnested \\\r\n    @constructor._NONE_SWITCHES_SELECTOR, _$menu, @constructor._MENU_SELECTOR)\r\n    _$items = luda.$unnested \\\r\n    @constructor._ITEMS_SELECTOR, _$menu, @constructor._MENU_SELECTOR\r\n    _isStandalone = @_$component.hasAttribute @constructor._STANDALONE_ATTRIBUTE\r\n    {_$items, _$switches, _$noneSwitches, _isStandalone}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$items,\r\n      @_$switches,\r\n      @_$noneSwitches,\r\n      @_isStandalone\r\n    } = @_getConfig()\r\n    @_transiting = false\r\n\r\n  _onMutations: (mutations) ->\r\n    @_constructor()\r\n\r\n  _isActive: ->\r\n    @_$component.classList.contains @constructor._ACTIVE_CSS_CLASS\r\n\r\n  _deactivateChildrenExcept: (exceptions) ->\r\n    if exceptions and not (exceptions instanceof Array)\r\n      exceptions = [exceptions]\r\n    if exceptions\r\n      @_children.forEach (child) ->\r\n        if child._isActive() and not exceptions.includes child\r\n          child.deactivate()\r\n    else\r\n      @_children.forEach (child) ->\r\n        child.deactivate() if child._isActive()\r\n\r\n  @deactivateExcept: (instances$dropdowns) ->\r\n    exceptions = []\r\n    if instances$dropdowns and not (instances$dropdowns instanceof Array)\r\n      instances$dropdowns = [instances$dropdowns]\r\n    if instances$dropdowns\r\n      instances$dropdowns.forEach (instance$dropdown) =>\r\n        exceptions.push exception if exception = @query instance$dropdown\r\n    if exceptions.length\r\n      @_instances.forEach (instance) ->\r\n        instanceIsntInExceptions = not exceptions.includes instance\r\n        instanceHasntExceptionChild = exceptions.every (exception) ->\r\n          not instance._hasDescendant exception\r\n        if instance._isActive() \\\r\n        and instanceIsntInExceptions \\\r\n        and instanceHasntExceptionChild\r\n          instance.deactivate()\r\n    else\r\n      @_instances.forEach (instance) ->\r\n        instance.deactivate() if instance._isActive()\r\n\r\n  @_standaloneInstances: ->\r\n    @_instances.filter (instance) -> instance if instance._isStandalone\r\n\r\n  @_init: ->\r\n    self = this\r\n    luda.onOpposite 'click', @_SELECTOR, (e) ->\r\n      self.deactivateExcept self._standaloneInstances()\r\n    luda.on 'click', @_SELECTOR, (e) ->\r\n      if instance = self.query this\r\n        toggleChecked = false\r\n        focus = not e.detail\r\n        self.deactivateExcept(self._standaloneInstances().concat instance)\r\n        instance._deactivateChildrenExcept()\r\n        instance._parent._deactivateChildrenExcept(instance) if instance._parent\r\n        if instance._$switches.length or instance._$noneSwitches.length\r\n          luda.eventPath(e).some ($path) ->\r\n            if instance._$switches.includes $path\r\n              instance.toggle focus\r\n              toggleChecked = true\r\n            else if instance._$noneSwitches.includes $path\r\n              toggleChecked = true\r\n        instance.toggle focus unless toggleChecked\r\n\r\n    luda.onOpposite 'keyup', @_SELECTOR, (e) -> self.deactivateExcept()\r\n    luda.on 'keyup', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_TAB and instance = self.query this\r\n        self.deactivateExcept(instance)\r\n        instance.activate()\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if e.keyCode is luda.KEY_ESC and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance.deactivate true\r\n        else\r\n          instance._parent?.deactivate true\r\n    luda.on 'keydown', @_SELECTOR, (e) ->\r\n      if [luda.KEY_LEFT, luda.KEY_UP].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance.prev()\r\n        else\r\n          instance._parent?.prev()\r\n      else if [luda.KEY_RIGHT, luda.KEY_DOWN].includes(e.keyCode) \\\r\n      and instance = self.query this\r\n        e.preventDefault()\r\n        if instance._isActive()\r\n          instance.next()\r\n        else\r\n          instance._parent?.next()","import '../install.coffee'\nimport '../dom.coffee'\nimport '../event.coffee'\nimport '../component.coffee'\nimport '../behaviors/focus.coffee'\nimport '../behaviors/enter.coffee'\n\n\n\nluda class extends luda.Component\n\n  @_SCOPE: 'fmDropdown'\n\n  @_SELECTOR: '.fm-dropdown'\n  @_VALUE_SPLITOR: '   '\n  @_LABEL_ATTRIBUTE: 'data-fm-dropdown-label'\n  @_VALUE_SELECTOR: '.dropdown-items .btn-radio input,\n                     .dropdown-items .btn-check input'\n  @_DEFAULT_VALUE_SELECTOR: '.dropdown-items .btn-radio label,\n                             .dropdown-items .btn-check label'\n  @_VALUE_HOLDER_SELECTOR: '.fm input'\n  @_ENTER_BEHAVIOR_SELECTOR: '.fm-dropdown .fm input'\n\n  @_observerConfig:\n    childList: true\n    attributes: true\n    subtree: true\n    attributeFilter: [\n      'checked'\n      @_LABEL_ATTRIBUTE\n    ]\n\n  _getConfig: ->\n    _$values = luda.$children @constructor._VALUE_SELECTOR, @_$component\n    _$defaultValues = luda.$children \\\n    @constructor._DEFAULT_VALUE_SELECTOR, @_$component\n    _$valueHolder = luda.$child \\\n    @constructor._VALUE_HOLDER_SELECTOR, @_$component\n    {_$values, _$valueHolder, _$defaultValues}\n\n  _constructor: ->\n    {\n      @_$values,\n      @_$valueHolder,\n      @_$defaultValues\n    } = @_getConfig()\n    @_setValueHolderAttribute()\n    @_setValueHolderValue()\n\n  _onMutations: ->\n    @_constructor()\n\n  _setValueHolderValue: ->\n    values = []\n    @_$values.forEach ($value, index) =>\n      if $value.checked\n        if $value.hasAttribute @constructor._LABEL_ATTRIBUTE\n          value = $value.getAttribute @constructor._LABEL_ATTRIBUTE\n        else\n          value = @_$defaultValues[index].innerText\n      values.push value if value and not values.includes value\n    if @_$valueHolder\n      @_$valueHolder.value = values.join @constructor._VALUE_SPLITOR\n\n  _setValueHolderAttribute: ->\n    @_$valueHolder.setAttribute('readonly', '') if @_$valueHolder\n\n  @_init: ->\n    self = this\n    luda.enter._add @_ENTER_BEHAVIOR_SELECTOR\n    luda.on 'change', \"#{@_SELECTOR} #{@_VALUE_SELECTOR}\", (e) ->\n      self.query(luda.$parent self._SELECTOR, this)._setValueHolderValue()\n    luda.on luda._FORM_RESET, @_SELECTOR, (e) ->\n      setTimeout => self.query(this)._setValueHolderValue()\n    # prevent ios device pop out wired navigation pannel\n    if /iphone/i.test(navigator.userAgent) or /ipad/i.test(navigator.userAgent)\n      luda.on 'focusin', @_ENTER_BEHAVIOR_SELECTOR, (e) ->\n        this.blur()\n        this.classList.add luda.focus._CSS_CLASS","import '../install.coffee'\r\nimport '../dom.coffee'\r\nimport '../event.coffee'\r\nimport '../component.coffee'\r\n\r\n\r\n\r\nluda class extends luda.Component\r\n\r\n  @_SCOPE: 'tab'\r\n\r\n  @_SELECTOR: '.tab'\r\n  @_PANE_SELECTOR: '.tab-pane'\r\n  @_INDICATOR_SELECTOR: '.tab-indicators .btn-radio input[type=radio]'\r\n  @_PANE_ACTIVE_CSS_CLASS: 'tab-pane-active'\r\n  @_ACTIVE_INDEX: 0\r\n  @_ACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:activate\"\r\n  @_ACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:activated\"\r\n  @_DEACTIVATE_EVENT_TYPE: \"#{@_SCOPE}:deactivate\"\r\n  @_DEACTIVATED_EVENT_TYPE: \"#{@_SCOPE}:deactivated\"\r\n\r\n  @_observerConfig:\r\n    childList: true\r\n    subtree: true\r\n \r\n  # public\r\n  activate: (index) ->\r\n    if @_$panes.length and not @_transiting\r\n      activatedIndex = @_activeIndex\r\n\r\n      if index? \\\r\n      and index isnt @_activeIndex \\\r\n      and 0 <= index <= @_$panes.length - 1\r\n\r\n        activateEvent = luda.dispatch(@_$panes[index], \\\r\n        @constructor._ACTIVATE_EVENT_TYPE, index)\r\n\r\n        deactivateEvent = luda.dispatch(@_$panes[activatedIndex], \\\r\n        @constructor._DEACTIVATE_EVENT_TYPE, activatedIndex)\r\n\r\n        return @_setIndicatorsState() if activateEvent.defaultPrevented\r\n        return @_setIndicatorsState() if deactivateEvent.defaultPrevented\r\n\r\n        @_transiting = true\r\n        @_activeIndex = index\r\n        @_activate(activatedIndex)\r\n\r\n\r\n  # private\r\n  _getConfig: ->\r\n    _$panes = luda.$unnested \\\r\n    @constructor._PANE_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _$indicators = luda.$unnested \\\r\n    @constructor._INDICATOR_SELECTOR, @_$component, @constructor._SELECTOR\r\n    _activeIndex = @constructor._ACTIVE_INDEX\r\n    _$indicators.some ($indicator, index) ->\r\n      if $indicator.checked\r\n        _activeIndex = index\r\n        true\r\n    {_$panes, _$indicators, _activeIndex}\r\n\r\n  _constructor: ->\r\n    {\r\n      @_$panes,\r\n      @_$indicators,\r\n      @_activeIndex\r\n    } = @_getConfig()\r\n    @_transiting = false\r\n    @_activate()\r\n\r\n  _onMutations: (mutations) ->\r\n    @_constructor()\r\n\r\n  _activate: (activatedIndex) ->\r\n    $pane = @_$panes[@_activeIndex]\r\n    $activatedPane = @_$panes[activatedIndex]\r\n\r\n    $pane.classList.add @constructor._PANE_ACTIVE_CSS_CLASS\r\n    if $activatedPane\r\n      $activatedPane.classList.remove @constructor._PANE_ACTIVE_CSS_CLASS\r\n\r\n    activateDuration = luda.getTransitionDuration $pane\r\n    luda.dispatch($pane, \\\r\n    @constructor._ACTIVATED_EVENT_TYPE, @_activeIndex, \\\r\n    activateDuration)\r\n\r\n    if $activatedPane\r\n      deactivateDuration = luda.getTransitionDuration $activatedPane\r\n      luda.dispatch($activatedPane, \\\r\n      @constructor._DEACTIVATED_EVENT_TYPE, activatedIndex, \\\r\n      deactivateDuration)\r\n      setTimeout =>\r\n        @_transiting = false\r\n      , Math.max(activateDuration, deactivateDuration)\r\n    else\r\n      setTimeout =>\r\n        @_transiting = false\r\n      , activateDuration\r\n\r\n    @_setIndicatorsState()\r\n\r\n\r\n  _setIndicatorsState: ->\r\n    @_$indicators.forEach ($indicator, index) =>\r\n      if index is @_activeIndex\r\n        $indicator.setAttribute 'checked', ''\r\n        $indicator.checked = true\r\n      else\r\n        $indicator.removeAttribute 'checked'\r\n        $indicator.checked = false\r\n\r\n  # static private\r\n  @_init: ->\r\n    self = this\r\n    luda.on 'change', @_INDICATOR_SELECTOR, (e) ->\r\n      if this.checked\r\n        instance = self.query luda.$parent self._SELECTOR, this\r\n        instance.activate instance._$indicators.indexOf this"]}